%PAGE_CHANGE%
<!--#include "..\Strings\Strings.strings"-->
<!--#include "..\..\Common\Strings\Strings.strings"-->
<!--#include "..\..\Common\Strings\Result.strings"-->
%PRIV_NORMAL%<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><title>%HOST%</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=320; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/><meta name="mobileoptimized" content="0"/><meta name="format-detection" content="telephone=no"/><meta name="ROBOTS" content="NOINDEX,NOFOLLOW"/><link rel="apple-touch-icon-precomposed" href="/Web%20Client/Mobile/Images/apple-touch-icon-57x57-precomposed.png"/><link rel="apple-touch-icon-precomposed" sizes="72x72" href="/Web%20Client/Mobile/Images/apple-touch-icon-72x72-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="114x114" href="/Web%20Client/Mobile/Images/apple-touch-icon-114x114-precomposed.png" /><script type="text/javascript" language="JavaScript">var g_sFontOverride="$FONT_OVERRIDE$";var g_bIslocalAdminBrowser=false;var agent=navigator.userAgent.toLowerCase();var g_bCaseSensitiveOS=(%CASE_SENSITIVE_OS%==1);var g_bAdmin=%IS_ADMIN%;var g_nAdminType=(%CUser.%USER_ID%.AdminType%);var g_sAdminPath="%ADMIN_FILE%";var g_sEncXsrfToken="%ENC_CSRF_TOKEN%";var bIs_iPhone=false,bIs_BlackBerry=false,bIs_IEMobile=false,bIs_AndroidMobile=false,bIs_KindleMobile=false,bIs_iPad=false;if(isNaN(parseInt("%USER_ID%"))||parseInt("%USER_ID%")<1){location.href="%FILE%Mobile/MLogin.htm";}else if((%ALLOW_WEB_CLIENT%!=1)){location.href="%FILE%DisabledInterface.htm";}if((agent.indexOf('iphone')!=-1)||(agent.indexOf('ipod')!=-1)||(agent.indexOf('ipad')!=-1))bIs_iPhone=true;if((agent.indexOf('ipad')!=-1))bIs_iPad=true;if((agent.indexOf('blackberry')!=-1))bIs_BlackBerry=true;if((agent.indexOf('iemobile')!=-1)||(agent.indexOf('windows phone')!=-1))bIs_IEMobile=true;if((agent.indexOf('android')!=-1))bIs_AndroidMobile=true;if((agent.indexOf('kindle')!=-1)||(agent.indexOf('silk')!=-1))bIs_KindleMobile=true;function HideUrlBar(){setTimeout(function(){window.scrollTo(0,1);},1000);}function UpdateIphoneOrientation(){HideUrlBar();}</script><link type="text/css" href="%FILE%Mobile/Style/Mobile.css" rel="stylesheet" /><link type="text/css" href="%COMMON_FILE%Style/Common.css" rel="stylesheet" /><script type="text/javascript" language="javascript">var g_bAllowChangePassword=%CAN_CHANGE_PASSWORD%;var g_nSessionOkay=0;var g_nSessionPending=9;var g_nSessionNotFound=6;var g_nSessionDisconnect=31;var g_sLogout="%LOGOUT%";var g_sGB="$FS_ABBREV_GIGABYTE$";var g_sMB="$FS_ABBREV_MEGABYTE$";var g_sKB="$FS_ABBREV_KILOBYTE$";var g_sBytes="$FS_BYTES$";var g_sUnknownError="$UNKNOWN_ERROR$";var g_sPleaseSelectFile="$PLEASE_SELECT_FILE_UPLOAD_MOBILE$";if(bIs_IEMobile){document.write('<style type="text/css">');document.write('body {');document.write('font-family: Helvetica;');document.write('font-size: 8px;');document.write('}');document.write('body  ul  li {');document.write('font-size: 12px;');document.write('}');document.write('</style>');}</script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/NaturalSort.js"></script><script type="text/javascript" language="JavaScript" src="%FILE%Mobile/Scripts/Mobile.js"></script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/functions.js"></script></head><body onload="javascript:HideUrlBar();" onorientationchange="javascript:UpdateIphoneOrientation();"><div id="Mobile-Toolbar" style="text-align:center;margin-bottom:-15px;"></div><span id="ListMobileFiles"></span><span id="FileInfo"></span><span id="Image-File"></span><span id="File-Rename" style="display:none;"><form name="rename" onsubmit="javascript:return(OnRenameFile());"><div style="text-align:left;margin:0 auto 0 auto;padding:5px;">$RENAME_DESC$<br><input type="text" autocapitalize="off" class="text" name="NewPath" id="NewPath" style="width:100%;"/><input type="hidden" id="original_path" name="original_path"/><input type="hidden" id="isdir" name="isdir"/></div><div style="width:308px;margin:0 auto 0 auto;"><div style="width:154px;float:left;"><div class="Button-Mobile-blue" id="RenameButton" style="height:30px;width:100px;" onclick="javascript:OnRenameFile();">$OK_BUTTON$</div></div><div style="width:154px;float:left;"><div class="Button-Mobile-blue" id="Div1" style="height:30px;width:100px;" onclick="javascript:OnCancelRenameFile();">$CANCEL_BUTTON$</div></div></div></form></span><span id="GoTo-Layer" style="display:none;"><form name="goto" onsubmit="javascript:return(GoTo());"><div style="text-align:left;margin:0 auto 0 auto;padding:5px;">$GO_TO_PATH$:<br><input type="text" autocapitalize="off" class="text" name="GoToPath" id="GoToPath" style="width:100%;"/></div><div style="width:308px;margin:0 auto 0 auto;"><div style="width:154px;float:left;"><div class="Button-Mobile-blue" id="Div2" style="height:30px;width:100px;" onclick="javascript:GoTo();">$OK_BUTTON$</div></div><div style="width:154px;float:left;"><div class="Button-Mobile-blue" id="Div3" style="height:30px;width:100px;" onclick="javascript:OnCancelGoTo();">$CANCEL_BUTTON$</div></div></div></form></span><span id="Upload-Layer" style="display:none;"><div style="width:308px;margin:10px auto 0 auto; height:60px;overflow:hidden;"><form method="post" name="UploadFile" action="" enctype="multipart/form-data" onsubmit="javascript: VerifyUpload(this); return (false);">$PLEASE_SELECT_FILE_UPLOAD_MOBILE$:<div id='iframe' style="width:100%;"><iframe src='%FILE%Mobile/MobileUpload.htm' frameborder='0' scrolling='no' name="UploadFrame" id="UploadFrame" style="width:100%;clear:both;"></iframe></div></form></div><div style="width:308px;margin:0 auto 0 auto;"><div style="width:154px;float:left;"><div class="Button-Mobile-blue" id="Div4" style="height:30px;width:100px;" onclick="javascript:OnUploadSubmit();">$UPLOAD$</div></div><div style="width:154px;float:left;"><div class="Button-Mobile-blue" id="Div5" style="height:30px;width:100px;" onclick="javascript:OnCloseUploadDialog();">$CANCEL_BUTTON$</div></div></div><div id="ProgressDialoginner" style="display:none;clear:both;"><table cellpadding="0" cellspacing="0" style="overflow:hidden;width:350px;"><tr><td style="width:105px; padding:0 5px 5px 5px;vertical-align:bottom;">$NAME$:</td><td style="vertical-align:bottom;padding:0 0 5px 0;"><div style="overflow:hidden;text-overflow: ellipsis;width:290px;"><strong><span id="filename"></span></strong></div></td></tr><tr><td style="width:105px; padding:0 5px 5px 5px;vertical-align:bottom;">$DESTINATION$:</td><td style="vertical-align:bottom;padding:0 0 5px 0;"><div style="overflow:hidden;text-overflow: ellipsis;width:290px;"><strong><span id="filepath"></span></strong></div></td></tr><tr><td style="width:105px; padding:0 5px 5px 5px;vertical-align:bottom;">$SIZE$:</td><td style="vertical-align:bottom;padding:0 0 5px 0;"><div style="overflow:hidden;text-overflow: ellipsis;width:290px;"><strong><span id="filesize"></span></strong></div></td></tr><tr><td style="width:105px; padding:0 5px 5px 5px;vertical-align:bottom;">$TRANSFER_RATE$:</td><td style="vertical-align:bottom;padding:0 0 5px 0;"><div style="overflow:hidden;text-overflow: ellipsis;width:290px;"><strong><span id="transferspeed"></span></strong></div></td></tr><tr><td style="width:105px; padding:0 5px 5px 5px;vertical-align:bottom;">$WRITTEN$:</td><td style="vertical-align:bottom;padding:0 0 5px 0;"><div style="overflow:hidden;text-overflow: ellipsis;width:290px;"><strong><span id="byteswritten"></span></strong></div></td></tr><tr><td style="width:105px; padding:0 5px 5px 5px;vertical-align:bottom;">$REMAINING$:</td><td style="vertical-align:bottom;padding:0 0 5px 0;"><div style="overflow:hidden;text-overflow: ellipsis;width:290px;"><strong><span id="bytesremaining"></span></strong></div></td></tr><tr><td style="width:105px; padding:0 5px 5px 5px;vertical-align:bottom;">$TIME_REMAINING$:</td><td style="vertical-align:bottom;padding:0 0 5px 0;"><div style="overflow:hidden;text-overflow: ellipsis;width:290px;"><strong><span id="timeremaining"></span></strong></div></td></tr></table><div id="progressblock" style="text-align:center;margin:10px 0 10px 0;visibility:hidden;"><table cellpadding="0" cellspacing="0" style="vertical-align:top;margin:0 auto 0 auto;"><tr><td><div class="progresscontainer"><div id="ProgressDiv" class="progressbar"></div></div></td><td style="width:55px;text-align:right;"><span id="percentcomplete">&nbsp;</span></td></tr></table></div><!--div style="text-align:center;"><span id="CloseProgressDialogButton"></span></div--></div><script type="text/javascript" language="JavaScript">var nUploadPercent=-1;var ProgressBar;var UploadTimer=null;var CloseTimer=null;var CancelUploadTimer=null;var g_nCurrentUploadId;var g_bCancelUpload=false;var nMaxUploadTimeout=10;var g_nUploadTimeout=0;function ProgressFill(nUploadPercent){var nPercent=(100-nUploadPercent);sFillPercentage=nPercent.toString();if(nUploadPercent>0){document.getElementById("progressblock").style.visibility="visible";}else{document.getElementById("progressblock").style.visibility="hidden";}if(nUploadPercent<=100){document.getElementById("ProgressDiv").style.backgroundPosition=sFillPercentage+"% 0px";document.getElementById("percentcomplete").innerHTML=nUploadPercent+"%";}}function OnUnableToUpload(){OnCloseProgressDialog();}function UploadProgressDone(){if((g_UploadRequest!=undefined)&&(g_UploadRequest.readyState==4)){var XMLDoc=g_UploadRequest.responseXML;g_UploadRequest=undefined;var nResult=GetXMLValueInt(XMLDoc,"Result");var sResultText=GetXMLValue(XMLDoc,"ResultText");var nPercentComplete=-1;if(nResult==g_nSessionPending){var sFileName=GetXMLValue(XMLDoc,"FileName");var sFilePath=GetXMLValue(XMLDoc,"FilePath");var nFileSize=GetXMLValue(XMLDoc,"FileSize");var nBytesWritten=GetXMLValue(XMLDoc,"BytesWritten");var sKBPerSecond=GetXMLValue(XMLDoc,"KBPerSecond");var nBytesRemaining=GetXMLValue(XMLDoc,"BytesRemaining");var sTimeRemaining=GetXMLValue(XMLDoc,"TimeRemaining");var nPercentComplete=GetXMLValue(XMLDoc,"PercentComplete");if(nPercentComplete==""||nPercentComplete==undefined)nPercentComplete=-1;var ProgressTitleText=document.getElementById("ProgressDialogTitleText");document.getElementById("filename").innerHTML=sFileName;document.getElementById("filename").title=sFileName;document.getElementById("filepath").innerHTML=sFilePath;document.getElementById("filepath").title=sFilePath;if(nFileSize!=""&&nFileSize!=undefined)document.getElementById("filesize").innerHTML=FormatFileSize(parseInt(nFileSize),true);if(sKBPerSecond!=""&&sKBPerSecond!=undefined){nKBPerSecond=parseInt(sKBPerSecond);document.getElementById("transferspeed").innerHTML=nKBPerSecond.toLocaleString()+" $KB_SEC_LABEL$";}if(nBytesWritten!=""&&nBytesWritten!=undefined)document.getElementById("byteswritten").innerHTML=FormatFileSize(parseInt(nBytesWritten),true);if(nBytesRemaining!=""&&nBytesRemaining!=undefined)document.getElementById("bytesremaining").innerHTML=FormatFileSize(parseInt(nBytesRemaining),true);if(sTimeRemaining!=""&&sTimeRemaining!=undefined)document.getElementById("timeremaining").innerHTML=sTimeRemaining;ProgressFill(nPercentComplete);}if(nResult==g_nSessionNotFound)g_nUploadTimeout++;if(nResult==g_nSessionOkay&&!g_bCancelUpload){document.getElementById("ProgressDiv").style.backgroundPosition="0% 0px";document.getElementById("percentcomplete").innerHTML="100%";CloseTimer=setTimeout("OnCloseProgressDialog()",1000);}else if(!g_bCancelUpload&&g_nUploadTimeout<=nMaxUploadTimeout&&(nResult==g_nSessionNotFound||nResult==g_nSessionPending))UploadTimer=setTimeout("OnUploadProgressTimer()",1000);else if(g_nUploadTimeout>nMaxUploadTimeout&&(nResult==g_nSessionNotFound)){alert("$UNABLE_TO_UPLOAD$");}else if(nResult!=g_nSessionPending){alert(GetResultText(0,"",HTMLDecode(sResultText)));}}}this.UploadProgress=function(nUploadId){if(!isNaN(nUploadId))g_nCurrentUploadId=nUploadId;var sCmd="%FILE%FileUpload.xml%TRANSFER_STATS_REF%"+g_nCurrentUploadId;g_UploadRequest=createXMLHttpRequest("POST",sCmd,UploadProgressDone);g_UploadRequest.setRequestHeader("X-User-Agent",escape(navigator.userAgent));g_UploadRequest.send(null);};function CancelUploadDone(XMLDoc){if((g_CancelUploadRequest!=undefined)&&(g_CancelUploadRequest.readyState==4)){var XMLDoc=g_CancelUploadRequest.responseXML;g_CancelUploadRequest=undefined;var nResult=GetXMLValueInt(XMLDoc,"Result");if(nResult!=g_nSessionPending){clearTimeout(CancelUploadTimer);OnCloseProgressDialog();}else CancelUploadTimer=setTimeout("OnCancelUploadTimer()",1000);}}function OnCancelUpload(){g_bCancelUpload=true;var sCmd="%FILE%FileUpload.xml%TRANSFER_STATS_REF%"+g_nCurrentUploadId+"&Cancel=1";g_CancelUploadRequest=createXMLHttpRequest("POST",sCmd,CancelUploadDone);g_CancelUploadRequest.setRequestHeader("X-User-Agent",escape(navigator.userAgent));g_CancelUploadRequest.send(null);}function OnCloseProgressDialog(){clearTimeout(UploadTimer);document.getElementById("ProgressDialoginner").style.display="none";}function OnCancelUploadTimer(){OnCancelUpload();}function OnUploadProgressTimer(){window.UploadProgress();}this.ProgressDialog=function(){g_bCancelUpload=false;g_nUploadTimeout=0;document.getElementById("filename").innerHTML="";document.getElementById("filename").title="";document.getElementById("filepath").title="";document.getElementById("filepath").innerHTML="";document.getElementById("filesize").innerHTML="";document.getElementById("transferspeed").innerHTML="";document.getElementById("byteswritten").innerHTML="";document.getElementById("bytesremaining").innerHTML="";document.getElementById("ProgressDiv").style.backgroundPosition="100% 0px";document.getElementById("percentcomplete").innerHTML="";document.getElementById("timeremaining").innerHTML="";document.getElementById("progressblock").style.visibility="hidden";document.getElementById("ProgressDialoginner").style.display="block";};</script></span><span id="preloader"></span><div style="height:10px;">&nbsp;</div></body><script type="text/javascript" language="javascript">var g_sCurrentDir,g_sHomeDir,g_sPreviousDir,g_nTotalFiles;var g_nPreviewThumbSizeWidth="300";var g_nPreviewThumbSizeHeight="220";if(bIs_iPad){g_nPreviewThumbSizeWidth="740";g_nPreviewThumbSizeHeight="580";}var g_sListDirURL="%FILE%ListError.xml?DirsFirst=1&SortType=1&Command=List&Dir=";var g_sDeleteFile="$DELETE_FILE$";var g_sDeleteDir="$DELETE_DIR$";var g_sSelectFile="$SELECT_FILE_DELETE$";var g_sPermissionDenied=3;var g_sSessonNoRenameDir1="$SESS_CANNOT_RENAMEDIR1_STR$ ";var g_sSessonNoRenameDir2="$SESS_CANNOT_RENAMEDIR2_STR$ ";var g_sSessonNoRenameFile1="$SESS_CANNOT_RENAMEFILE1_STR$";var g_sSessonNoRenameFile2="$SESS_CANNOT_RENAMEFILE2_STR$";var g_sOriginalFilename="";var g_nThumbnailIter=0;var g_nThumbRestart=false;var g_bPauseThumbnails=false;var g_nRestartPosition=0;var g_nScrollPos=1;var g_nSlideImage=0;var g_bSlideShowPlaying=false;var MobileSlideshowTimeoutId;var aFile=new Array();var g_objFileListReq;var g_objSpaceAvailableRequest;var g_objDirSizeRequest;var g_RetryAttempts=0;var g_MaxRetryAttempts=2;g_sHomeDir=GetURLParameter("Dir",true);if(g_sHomeDir==""||g_sHomeDir==undefined)g_sHomeDir=encodeURI("~");if(g_sCurrentDir==""||g_sCurrentDir==undefined)g_sCurrentDir=g_sHomeDir;function GoBack(event){event.preventDefault();if(g_sCurrentDir==="/")return;window.history.back();}function FileListResponse(){if((g_objFileListReq!=undefined)&&(g_objFileListReq.readyState==4)){var XMLDoc=g_objFileListReq.responseXML;g_objFileListReq=undefined;var nResult=GetXMLValueInt(XMLDoc,"ErrorResponse");var sResultText=GetXMLValue(XMLDoc,"ResultText");g_sCurrentDir=GetXMLValue(XMLDoc,"CurrentDir");g_sPreviousDir=readCookie("PrevDir");var bDirHasDrives=false;if(nResult!=g_nSessionOkay){if(g_RetryAttempts==0){alert(sResultText);}if(nResult!=g_nSessionDisconnect){if(g_sPreviousDir==g_sCurrentDir)g_sCurrentDir=encodeURI("~");else g_sCurrentDir=g_sPreviousDir;g_RetryAttempts++;if(g_RetryAttempts<g_MaxRetryAttempts)GetMobileListData(g_sCurrentDir);else if(g_RetryAttempts==g_MaxRetryAttempts){g_sCurrentDir=encodeURI("~");GetMobileListData(g_sCurrentDir);}}else OnLogOut();}else{g_bBuildThumbnails=true;g_bPauseThumbnails=false;g_nThumbnailIter=0;g_nThumbRestart=false;createCookie("PrevDir",g_sCurrentDir,1);g_RetryAttempts=0;sHTML="<ul id='FileListContainer' class='FileContain'>";var x=XMLDoc.getElementsByTagName("file");g_nTotalFiles=x.length;for(row=0;row<g_nTotalFiles;row++){sFileName=GetDecodedDirPath(x[row].getElementsByTagName("FileName")[0].childNodes[0].nodeValue);sFileName=sFileName.replace(new RegExp("&","g"),"&amp;");sFileSize=x[row].getElementsByTagName("FileSize")[0].childNodes[0].nodeValue;if(x[row].getElementsByTagName("FileDate")[0].childNodes[0]!=undefined)sFileDate=x[row].getElementsByTagName("FileDate")[0].childNodes[0].nodeValue;else sFileDate="";sFilePath=GetDecodedDirPath(x[row].getElementsByTagName("FilePath")[0].childNodes[0].nodeValue);bFileIsDir=x[row].getElementsByTagName("FileIsDir")[0].childNodes[0].nodeValue;bFileIsImage=x[row].getElementsByTagName("FileIsImage")[0].childNodes[0].nodeValue;bFileIsDrive=x[row].getElementsByTagName("FileIsDrive")[0].childNodes[0].nodeValue;nFileDriveType=x[row].getElementsByTagName("FileDriveType")[0].childNodes[0].nodeValue;bFileIsAudio=x[row].getElementsByTagName("FileIsAudio")[0].childNodes[0].nodeValue;bFileIsVideo=x[row].getElementsByTagName("FileIsVideo")[0].childNodes[0].nodeValue;aFile[row]=new File(sFileName,sFileSize,sFileDate,sFilePath,bFileIsDir,bFileIsImage,bFileIsAudio,bFileIsVideo,bFileIsDrive,nFileDriveType);}aFile.sort(function(value1,value2){var nCompareType1=parseInt(value1.FileIsDir);var nCompareType2=parseInt(value2.FileIsDir);if(nCompareType1==nCompareType2){return(NaturalSort(true,value1.FileName,value2.FileName,(!g_bCaseSensitiveOS)));}else{if(nCompareType1==1)return(-1);else return(1);}});for(row=0;row<g_nTotalFiles;row++){sFileName=aFile[row].FileName;sFileSize=aFile[row].FileSize;sFileDate=aFile[row].FileDate;sFilePath=aFile[row].FilePath;bFileIsDir=aFile[row].FileIsDir;bFileIsImage=aFile[row].FileIsImage;bFileIsDrive=aFile[row].FileIsDrive;nFileDriveType=aFile[row].FileDriveType;bFileIsAudio=aFile[row].FileIsAudio;bFileIsVideo=aFile[row].FileIsVideo;sDriveLabel="";bIsFolder=false;if(bFileIsDir==1&&bFileIsDrive!=1)bIsFolder=true;var sOnFileInfo=String('OnFileInfoSetup('+row+');');var sOnOpenDir=String('OnOpenDir(\''+CleanPathByEscape(sFilePath)+'\','+row+','+bIsFolder+');');var sWindowPhoneHeight="",sWindowPhoneWidth="70%";;sOnAction=sOnFileInfo;if(bFileIsImage==1){sImageIcon='/Web%20Client/ThumbnailIcons/ThumbnailQued48.png';}else if(bFileIsDir==1){sOnAction=sOnOpenDir;sImageIcon='/Web%20Client/Mobile/Images/folder.png';if(bFileIsDrive==1){sImageIcon='/Web%20Client/Mobile/Images/'+GetMobileDriveIcon(nFileDriveType)+'.png';if(x[row].getElementsByTagName("FileDriveLabel")[0].childNodes[0]!=undefined)sDriveLabel="("+decodeURIComponent(x[row].getElementsByTagName("FileDriveLabel")[0].childNodes[0].nodeValue)+")";}}else sImageIcon='/Web%20Client/ThumbnailIcons/'+GetLargeFileIcon(sFileName.substr(sFileName.lastIndexOf(".")+1))+'48.png';if(bIs_IEMobile&&(bFileIsDir==1&&bFileIsDrive!=1)){sWindowPhoneWidth="90%";sWindowPhoneHeight="height:60px;";}sFileContainer='<li id="list-'+row+'" style="background-repeat: no-repeat;background-position:6px 2px;background-image:url('+sImageIcon+');'+sWindowPhoneHeight+'">';if(bFileIsDir==1&&bFileIsDrive!=1)sHrefStyle="width:"+sWindowPhoneWidth+";float:left;padding-right:-50px;background-image: none;";else sHrefStyle="";sFileContainer+='<a id="a-'+row+'" href="javascript:'+sOnAction+'" style="'+sHrefStyle+'">'+sFileName+sDriveLabel;if(bFileIsDrive!=1){if(bFileIsDir!=1)sFileSizeText=FormatFileSize(sFileSize,false);else sFileSizeText="&nbsp;";sFileContainer+='<div class="file-info">'+FormatFileDate(sFileDate)+'</div>';sFileContainer+='<div class="file-info" style="text-align:right;">'+sFileSizeText+'</div>';}else sFileContainer+='<div class="file-info">&nbsp;</div>';sFileContainer+='</a>';if(bFileIsDir==1&&bFileIsDrive!=1){sFileContainer+=' <div id="dir-info-'+row+'" class="dir-info-icon" onclick="javascript:'+sOnFileInfo+'"><img src="%FILE%Mobile/Images/DirInfo.png" border="0" style="margin:10px 0 0 3px;"></div>';}if(bFileIsDrive==1)bDirHasDrives=true;sFileContainer+='</li>';sHTML+=sFileContainer;}document.body.style.backgroundImage='none';if(g_nTotalFiles<=0){sErrorContainer='<li style="background-repeat: no-repeat;background-position:6px 2px;background-image:url(/Web%20Client/Mobile/Images/FileInfo.png);">';sErrorContainer+='<a  href="#;" onClick="javascript:GoBack(event)" >- $FOLDER_EMPTY$ -</a><div class="file-info">&nbsp;</div>';sErrorContainer+='</li>';sHTML+=sErrorContainer;}document.getElementById("ListMobileFiles").innerHTML=sHTML+'</ul>';var sOnGoHome=String('OnOpenDir(\''+encodeURI("~")+'\');');var sOnLogOut=String('OnLogOut();');var sOnParentDir=String('ParentDir();');var sOnShowGoTo=String('OnShowGoTo();');var sOnShowUpload=String('OnShowUpload();');var sOnGoToMC=String('OnGoToMC();');var sToolBarWidth="310";var sToolButtonWidth="60";if(bIs_IEMobile){sToolBarWidth="310";sToolButtonWidth="35";}if(!bIs_iPhone){sToolButtonWidth="30";sToolBarWidth="280";}if(g_bAdmin&&bIs_iPad){sToolButtonWidth="30";sToolBarWidth="310";}sToolbar='<div style="width:'+sToolBarWidth+'px;margin:0 auto 0 auto;text-align:center;white-space:nowrap;">';sToolbar+=' <div style="width:32px;float:left;" onclick="javascript:'+sOnGoHome+'"><img src="%FILE%Mobile/Images/Mobile-Home.png" border="0" alt="$HOME$" style="margin:5px 0 0 0;"></div>';if((g_sCurrentDir!="/")&&(g_sCurrentDir!="%2F")){sToolbar+=' <div style="margin-left:'+sToolButtonWidth+'px;width:32px;float:left;" onclick="javascript:'+sOnParentDir+'"><img src="%FILE%Mobile/Images/Mobile-Updir.png" border="0" alt="$PARENT_DIR$" style="margin:5px 0 0 0;"></div>';}else{sToolbar+=' <div style="margin-left:'+sToolButtonWidth+'px;width:32px;float:left;"><img src="%FILE%Mobile/Images/Mobile-Updir-off.png" border="0" alt="$PARENT_DIR$" style="margin:5px 0 0 0;"></div>';}if(!bDirHasDrives&&!bIs_iPhone)sToolbar+=' <div style="margin-left:'+sToolButtonWidth+'px;width:32px;float:left;" onclick="javascript:'+sOnShowUpload+'"><img src="%FILE%Mobile/Images/Mobile-Upload.png" border="0" alt="$UPLOAD$" style="margin:5px 0 0 0;"></div>';else if(!bIs_iPhone)sToolbar+=' <div style="margin-left:'+sToolButtonWidth+'px;width:32px;float:left;"><img src="%FILE%Mobile/Images/Mobile-Upload-off.png" border="0" alt="$UPLOAD$" style="margin:5px 0 0 0;"></div>';if(g_bAdmin&&bIs_iPad){sToolbar+=' <div style="margin-left:'+sToolButtonWidth+'px;width:32px;float:left;" onclick="javascript:'+sOnGoToMC+'"><img src="%FILE%Mobile/Images/Mobile-MC.png" border="0" alt="$MANAGEMENT_CONSOLE$" style="margin:5px 0 0 0;"></div>';}sToolbar+=' <div style="margin-left:'+sToolButtonWidth+'px;width:32px;float:left;" onclick="javascript:'+sOnShowGoTo+'"><img src="%FILE%Mobile/Images/Mobile-Goto.png" border="0" alt="$GOTO$" style="margin:5px 0 0 0;"></div>';sToolbar+=' <div style="margin-left:'+sToolButtonWidth+'px;width:32px;float:left;" onclick="javascript:'+sOnLogOut+'"><img src="%FILE%Mobile/Images/Mobile-Logout.png" border="0" alt="$LOGOUT$" style="margin:5px 0 0 0;"></div>';sToolbar+='</div>';document.getElementById("Mobile-Toolbar").innerHTML=sToolbar;scrollTo(0,g_nScrollPos);LoadThumbnailIcons();}}}function GetMobileListData(sDir){var sFileListErrorCmd="%FILE%ListError.xml?DirsFirst=1&SortType=1&Command=List&Dir="+sDir;g_objFileListReq=createXMLHttpRequest("GET",sFileListErrorCmd,FileListResponse);g_objFileListReq.setRequestHeader("X-User-Agent",escape(navigator.userAgent));g_objFileListReq.send(null);}function OnFileInfoSetup(nRowId){g_nScrollPos=window.pageYOffset;OnFileInfo(nRowId);}function OnFileDownload(sDownloadFilePath){location.href="/?Command=Download&File="+encodeURIComponent(sDownloadFilePath)+'&CsrfToken='+g_sEncXsrfToken;}function OnFileInfo(nRowId){var sOnGoBack=String('OnBackToList();');var sOnLogOut=String('OnLogOut();');var nNextArrayValue=nRowId;var nPreviousArrayValue=0;var bFirstFile=false;var bLastFile=false;var sFilePath_unescaped;if(nRowId<=0)bFirstFile=true;if(nRowId>=(g_nTotalFiles-1))bLastFile=true;nPreviousArrayValue=(nRowId-1);nNextArrayValue=(nRowId+1);var sOnPreviousFile=String('OnFileInfo('+nPreviousArrayValue+');');var sOnNextFile=String('OnFileInfo('+nNextArrayValue+');');var sFileName=aFile[nRowId].FileName;sFileInfo='<div style="text-align:center;padding:0;">';sFilePath_unescaped=aFile[nRowId].FilePath;sFilePath=CleanPathByEscape(sFilePath_unescaped);sFilePath=sFilePath.replace(new RegExp("&","g"),"&amp;");sUnCleanFilePath=aFile[nRowId].FilePath;var sOnDownload=String('OnFileDownload(\''+sUnCleanFilePath+'\');');var sFileSize=FormatFileSize(aFile[nRowId].FileSize,false);var bDir=false;sImageDivHTML=' <div id="imgdiv" style="text-align:center;margin:10px auto 0 auto; min-height: 225px;">';if(aFile[nRowId].FileIsImage==1){var sOnOpenImg=String('OnOpenImg('+nRowId+',0,undefined,false);');sImageDivHTML+='  <a href="javascript:'+sOnOpenImg+'"><img id="PrevImg" src="%COMMON_FILE%Images/BusyGrid.gif" width="50" height="50" border="0" style="margin:0 auto 0 auto;"></a>';}else if(aFile[nRowId].FileIsDir==1){var sOnOpenDir=String('OnOpenDir(\''+sFilePath+'\');');sFileIcon="folder.png";sImageDivHTML+='  <a href="javascript:'+sOnOpenDir+'"><img src="%FILE%Mobile/Images/'+sFileIcon+'" width="48" height="48" border="0" style="margin:82px auto 0 auto;"></a>';bDir=true;}else if(aFile[nRowId].FileIsAudio==1||aFile[nRowId].FileIsVideo==1){sFileIcon="Mobile-Play.png";sImageDivHTML+='  <a href="/?Command=Download&Media=1&File='+encodeURIComponent(sUnCleanFilePath)+'&CsrfToken='+g_sEncXsrfToken+'"><img src="%FILE%Mobile/Images/'+sFileIcon+'" border="0" style="margin:0 auto 0 auto;"></a>';}else{sRuleStr=sFileName;nPos=sRuleStr.lastIndexOf(".");if(nPos>=0)sRuleStr=sRuleStr.substr(nPos+1);if(sRuleStr.toUpperCase()=="M4A"){sFileIcon="Mobile-Play.png";sImageDivHTML+='  <a href="/?Command=Download&Media=1&File='+encodeURIComponent(sUnCleanFilePath)+'&CsrfToken='+g_sEncXsrfToken+'"><img src="%FILE%Mobile/Images/'+sFileIcon+'" border="0" style="margin:0 auto 0 auto;"></a>';}else{sFileIcon=GetLargeFileIcon(sRuleStr)+"48.png";sImageDivHTML+='  <a href="/?Command=Download&Media=1&File='+encodeURIComponent(sUnCleanFilePath)+'&CsrfToken='+g_sEncXsrfToken+'"><img src="%FILE%ThumbnailIcons/'+sFileIcon+'" width="48" height="48" border="0" style="margin:82px auto 0 auto;"></a>';}}sImageDivHTML+=' </div>';sImageDivHTML+='</div>';var sOnDelete=String('OnFileDelete('+bDir+',\''+sFilePath_unescaped+'\');');var sOnRename=String('OnShowFileRename('+bDir+',\''+sFilePath_unescaped+'\', \''+sFileName+'\');');var sMobileWidth="320px";var sMobileDivWidth="60px";if(!bDir&&!bIs_iPhone){sMobileWidth="312px";sMobileDivWidth="52px";}sFileInfo+='<div id="File-Toolbar">';sFileInfo+=' <div style="width:'+sMobileWidth+';margin:6px auto 0 auto;">';sFileInfo+='  <div style="width:'+sMobileDivWidth+';float:left; text-align:center;">';if(bFirstFile)sFileInfo+='   <div style="height:30px;width:30px;margin:0 auto 0 auto;"><img src="%FILE%Mobile/Images/PreviousArrow-off.png" border="0"></div>';else sFileInfo+='   <div style="height:30px;width:30px;margin:0 auto 0 auto;" onclick="javascript:'+sOnPreviousFile+'"><img src="%FILE%Mobile/Images/PreviousArrow.png" border="0"></div>';sFileInfo+='  </div>';sFileInfo+='  <div style="width:'+sMobileDivWidth+';float:left; text-align:center;">';if(bLastFile)sFileInfo+='   <div style="height:30px;width:30px;margin:0 auto 0 auto;"><img src="%FILE%Mobile/Images/NextArrow-off.png" border="0"></div>';else sFileInfo+='   <div style="height:30px;width:30px;margin:0 auto 0 auto;" onclick="javascript:'+sOnNextFile+'"><img src="%FILE%Mobile/Images/NextArrow.png" border="0"></div>';sFileInfo+='  </div>';sFileInfo+='  <div style="width:'+sMobileDivWidth+';float:left; text-align:center;">';sFileInfo+='   <div style="height:30px;width:30px;margin:0 auto 0 auto;" onclick="javascript:'+sOnGoBack+'"><img src="%FILE%Mobile/Images/Mobile-List.png" border="0"></div>';sFileInfo+='  </div>';if(!bDir&&!bIs_iPhone){sFileInfo+='  <div style="width:'+sMobileDivWidth+';float:left; text-align:center;">';sFileInfo+='   <div style="height:30px;width:30px;margin:0 auto 0 auto;" onclick="javascript:'+sOnDownload+'"><img src="%FILE%Mobile/Images/Mobile-Download.png" border="0"></div>';sFileInfo+='  </div>';}if(aFile[nRowId].FileIsDrive!=1){sFileInfo+='  <div style="width:'+sMobileDivWidth+';float:left; text-align:center;">';sFileInfo+='   <div style="height:30px;width:30px;margin:0 auto 0 auto;" onclick="javascript:'+sOnDelete+';"><img id="delete-button" src="%FILE%Mobile/Images/Mobile-Delete.png" border="0"></div>';sFileInfo+='  </div>';sFileInfo+='  <div style="width:'+sMobileDivWidth+';float:left; text-align:center;">';sFileInfo+='   <div style="height:30px;width:30px;margin:0 auto 0 auto;" onclick="javascript:'+sOnRename+'"><img src="%FILE%Mobile/Images/Mobile-Rename.png" border="0"></div>';sFileInfo+='  </div>';}sFileInfo+=' </div>';sFileInfo+='</div>';sFileInfo+=sImageDivHTML;sFileInfo+='<div style="text-align:center;padding:0 5px 0 5px;">';sFileInfo+=' <div style="text-align:center;width:100%;">';sFileInfo+='  <div class="info-box">';sFileInfo+='   <div class="text" title="'+sFileName+'"><span class="info-title">$NAME$:</span>&nbsp;&nbsp;'+sFileName+'</div>';sFileInfo+='   <div style="border-bottom:2px solid #c0c0c0;width:100%;height:4px;margin:0 auto 0 auto;">&nbsp;</div>';sFileInfo+='   <div class="text" title="'+FormatFileDate(aFile[nRowId].FileDate)+'"><span class="info-title">$MOD_TIME$:</span>&nbsp;&nbsp;'+FormatFileDate(aFile[nRowId].FileDate)+'</div>';if(aFile[nRowId].FileIsDir==1){sFileInfo+='   <div class="text"><span class="info-title">$SIZE$:</span>&nbsp;&nbsp;<span id="MobileDirSize"><img src="%FILE%Mobile/Images/loading-whiteBG.gif" border="0"></span></div>';sFileInfo+='   <div class="text"><span class="info-title">$AVAILABLE_SIZE$:</span>&nbsp;&nbsp;<span id="MobileAvailDirSize"><img src="%FILE%Mobile/Images/loading-whiteBG.gif" border="0"> </span></div>';GetSpaceAvailable(sUnCleanFilePath);GetDirSize(sUnCleanFilePath);}if(aFile[nRowId].FileIsDir!=1){sFileInfo+='   <div style="border-bottom:2px solid #c0c0c0;width:95%;height:4px;margin:0 auto 0 auto;">&nbsp;</div>';sFileInfo+='   <div class="text" title="'+sFileSize+'"><span class="info-title">$SIZE$:</span>&nbsp;&nbsp;'+sFileSize+'</div>';}sFileInfo+='  </div>';sFileInfo+=' </div>';sFileInfo+='<div style="height:50px;">&nbsp;</div>';sFileInfo+='</div>';if(g_nThumbnailIter>0&&g_nThumbnailIter!=aFile.length)g_bPauseThumbnails=true;document.getElementById("ListMobileFiles").style.display='none';
document.getElementById("Mobile-Toolbar").style.display='none';document.getElementById("FileInfo").style.display='block';document.getElementById("FileInfo").innerHTML=sFileInfo;if(aFile[nRowId].FileIsImage==1)GetMobilePreviewImage(aFile[nRowId].FilePath,true);HideUrlBar();}function GetSpaceAvailable(sPath){var sSpaceAvailableCmd="/?Command=SpaceAvailable&Dir="+sPath;g_objSpaceAvailableRequest=createXMLHttpRequest("GET",sSpaceAvailableCmd,SpaceAvailableResponse);g_objSpaceAvailableRequest.setRequestHeader("X-User-Agent",escape(navigator.userAgent));g_objSpaceAvailableRequest.send(null);}function SpaceAvailableResponse(){if((g_objSpaceAvailableRequest!=undefined)&&(g_objSpaceAvailableRequest.readyState==4)){var XMLDoc=g_objSpaceAvailableRequest.responseXML;g_objSpaceAvailableRequest=undefined;var nResult=GetXMLValueInt(XMLDoc,"result");var sResultText=GetXMLValue(XMLDoc,"ResultText");var nSpaceAvailable=GetXMLValueInt(XMLDoc,"SpaceAvailable");document.getElementById("MobileAvailDirSize").innerHTML=FormatFileSize(nSpaceAvailable,true);}}function GetDirSize(sPath){var sDirSizeCmd="/?Command=DirectorySize&Dir="+sPath;g_objDirSizeRequest=createXMLHttpRequest("GET",sDirSizeCmd,DirSizeResponse);g_objDirSizeRequest.setRequestHeader("X-User-Agent",escape(navigator.userAgent));g_objDirSizeRequest.send(null);}function DirSizeResponse(){if((g_objDirSizeRequest!=undefined)&&(g_objDirSizeRequest.readyState==4)){var XMLDoc=g_objDirSizeRequest.responseXML;g_objDirSizeRequest=undefined;var nResult=GetXMLValueInt(XMLDoc,"result");var sResultText=GetXMLValue(XMLDoc,"ResultText");var nDirSize=GetXMLValueInt(XMLDoc,"DirectorySize");document.getElementById("MobileDirSize").innerHTML=FormatFileSize(nDirSize,true);}}function OnOpenImg(nImgRowId,nImgSize,nDirection,bSlideShow){var nNextArrayValue=nImgRowId;var nPreviousArrayValue=0;var bFirstFile=false;var bLastFile=false;var sSlideShowImg="";if(g_bSlideShowPlaying)sSlideShowImg="-pause";if(!bSlideShow){g_bSlideShowPlaying=false;clearTimeout(MobileSlideshowTimeoutId);sSlideShowImg="";}if(nImgSize==undefined)nImgSize=0;if(nImgRowId<=0)bFirstFile=true;if(nImgRowId>=(g_nTotalFiles-1))bLastFile=true;nPreviousArrayValue=(nImgRowId-1);nNextArrayValue=(nImgRowId+1);g_nSlideImage=nNextArrayValue;if((aFile[nImgRowId].FileIsImage==0)&&(nDirection!=undefined)){if(nDirection==0&&!bFirstFile){OnOpenImg(nPreviousArrayValue,0,0,bSlideShow);return;}else if(nDirection==0&&bFirstFile){OnOpenImg((g_nTotalFiles-1),0,0,bSlideShow);return;}else if(nDirection==1&&!bLastFile){OnOpenImg(nNextArrayValue,0,1,bSlideShow);return;}else if(nDirection==1&&bLastFile){OnOpenImg(0,0,1,bSlideShow);return;}}var sOnSmallImage=String('OnOpenImg('+nImgRowId+',0,undefined,false);');var sOnMediumImage=String('OnOpenImg('+nImgRowId+',1,undefined,false);');var sOnLargeImage=String('OnOpenImg('+nImgRowId+',2,undefined,false);');var sOnPreviousFile=String('OnOpenImg('+nPreviousArrayValue+',0,0,false);');var sOnNextFile=String('OnOpenImg('+nNextArrayValue+',0,1,false);');var sOnGoBack=String('OnBackToFile('+nImgRowId+');');sImgInfo='<div style="width:100%;">';sImgInfo='<div id="Image-Toolbar">';sImgInfo+=' <div style="width:320px;margin:6px auto 0 auto;">';sImgInfo+='  <div style="width:50px;float:left; text-align:center;">';if(bFirstFile)sImgInfo+='   <div style="height:30px;width:36px;margin:0 auto 0 auto;"><img src="%FILE%Mobile/Images/PreviousArrow-off.png" border="0"></div>';else sImgInfo+='   <div style="height:30px;width:36px;margin:0 auto 0 auto;" onclick="javascript:'+sOnPreviousFile+'"><img src="%FILE%Mobile/Images/PreviousArrow.png" border="0"></div>';sImgInfo+='  </div>';sImgInfo+='  <div style="width:50px;float:left; text-align:center;">';if(bLastFile)sImgInfo+='   <div style="height:30px;width:36px;margin:0 auto 0 auto;"><img src="%FILE%Mobile/Images/NextArrow-off.png" border="0"></div>';else sImgInfo+='   <div style="height:30px;width:36px;margin:0 auto 0 auto;" onclick="javascript:'+sOnNextFile+'"><img src="%FILE%Mobile/Images/NextArrow.png" border="0"></div>';sImgInfo+='  </div>';sImgInfo+='  <div style="width:50px;float:left; text-align:center;">';sImgInfo+='   <div style="height:30px;width:36px;margin:0 auto 0 auto;" onclick="javascript:'+sOnGoBack+'"><img src="%FILE%Mobile/Images/FileInfo.png" border="0"></div>';sImgInfo+='  </div>';sImgInfo+='  <div style="width:50px;float:left; text-align:center;">';sImgInfo+='   <div style="height:30px;width:36px;margin:0 auto 0 auto;" onclick="javascript:'+sOnSmallImage+'"><img src="%FILE%Mobile/Images/small-image.png" id="img-sm" border="0"></div>';sImgInfo+='  </div>';sImgInfo+='  <div style="width:50px;float:left; text-align:center;">';sImgInfo+='   <div style="height:30px;width:36px;margin:0 auto 0 auto;" onclick="javascript:'+sOnMediumImage+'"><img src="%FILE%Mobile/Images/medium-image.png" id="img-md" border="0"></div>';sImgInfo+='  </div>';sImgInfo+='  <div style="width:50px;float:left; text-align:center;">';sImgInfo+='   <div style="height:30px;width:36px;margin:0 auto 0 auto;" onclick="javascript:'+sOnLargeImage+'"><img src="%FILE%Mobile/Images/large-image.png"  id="img-lg" border="0"></div>';sImgInfo+='  </div>';sImgInfo+=' </div>';sImgInfo+='</div>';sImgInfo+='<div id="Fullimgdiv" style="text-align:center;margin:0 auto 0 auto; min-height: 225px;">';sImgInfo+=' <img id="FullImg" src="%COMMON_FILE%Images/BusyGrid.gif" width="50" height="50" border="0" style="margin:0 auto 0 auto;">';sImgInfo+='</div>';sImgInfo+='</div>';document.getElementById("FileInfo").style.display='none';document.getElementById("Image-File").innerHTML=sImgInfo;GetMobilePreviewImage(aFile[nImgRowId].FilePath,false,undefined,nImgSize,bSlideShow);}function GetMobilePreviewImage(pImageURL,bPreview,nId,nImgSize,bSlideShow){var PreviewImg=document.createElement('img');var sImageID,sImageDiv,sImagePath;var nListThumbSizeWidth=50;var nListThumbSizeHeight=50;var bListThumbnail=false;var bPlaySlideShow=bSlideShow;sEncodedFilePath=encodeURIComponent(pImageURL);if(bPreview){sGetOrientation=DetectOrientation();nModImageHeight=(sGetOrientation=="portrait")?((bIs_iPad)?175:5):((bIs_iPad)?175:5);nModImageWidth=(sGetOrientation=="portrait")?((bIs_iPad)?28:10):((bIs_iPad)?28:10);g_nPreviewThumbSizeWidth=(GetMobileWidth()-nModImageWidth);g_nPreviewThumbSizeHeight=(GetMobileHeight()-nModImageHeight);sImageID="PrevImg";sImageDiv="imgdiv";sImagePath='/?Command=Download&File='+sEncodedFilePath+'&CsrfToken='+g_sEncXsrfToken+'&Width='+g_nPreviewThumbSizeWidth+'&Height='+g_nPreviewThumbSizeHeight+'&Thumbnail=1';}else if(!bPreview&&nId!=undefined){bListThumbnail=true;sImageID="list-"+nId;sImageDiv="";sImagePath='/?Command=Download&File='+escape(pImageURL)+'&CsrfToken='+g_sEncXsrfToken+'&Width='+nListThumbSizeWidth+'&Height='+nListThumbSizeHeight+'&Thumbnail=1';}else{var sImageSizeInfo="";if(nImgSize!=undefined){switch(nImgSize){case 0:nListThumbSizeWidth=480;nListThumbSizeHeight=356;document.getElementById("img-sm").src="%FILE%Mobile/Images/small-image-on.png";document.getElementById("img-md").src="%FILE%Mobile/Images/medium-image.png";document.getElementById("img-lg").src="%FILE%Mobile/Images/large-image.png";break;case 1:nListThumbSizeWidth=640;nListThumbSizeHeight=480;document.getElementById("img-sm").src="%FILE%Mobile/Images/small-image.png";document.getElementById("img-md").src="%FILE%Mobile/Images/medium-image-on.png";document.getElementById("img-lg").src="%FILE%Mobile/Images/large-image.png";break;case 2:document.getElementById("img-sm").src="%FILE%Mobile/Images/small-image.png";document.getElementById("img-md").src="%FILE%Mobile/Images/medium-image.png";document.getElementById("img-lg").src="%FILE%Mobile/Images/large-image-on.png";break;}if(nImgSize!=2)sImageSizeInfo='&Width='+nListThumbSizeWidth+'&Height='+nListThumbSizeHeight+'&Thumbnail=1';}sImageID="FullImg";sImageDiv="Fullimgdiv";sImagePath='/?Command=Download&Media=1&File='+sEncodedFilePath+'&CsrfToken='+g_sEncXsrfToken+sImageSizeInfo;}PreviewImg.onload=function(evt){if(document.getElementById(sImageID)&&!bListThumbnail){document.getElementById(sImageID).src=this.src;document.getElementById(sImageDiv).style.background="none";document.getElementById(sImageID).width=this.width;if(this.height!=document.getElementById("PrevImg").height){document.getElementById(sImageID).height=this.height;document.getElementById(sImageDiv).style.height=(this.height+4);}else document.getElementById(sImageID).height=this.height;document.getElementById(sImageID).style.border="1px solid black";if(!bPreview&&bPlaySlideShow){MobileSlideshowTimeoutId=setTimeout(function(){OnOpenImg(g_nSlideImage,0,1,true);},4500);}}else if(bListThumbnail){g_nThumbnailIter++;document.getElementById(sImageID).style.backgroundImage='url('+sImagePath+')';setTimeout('LoadThumbnailIcons()',0);}};PreviewImg.onerror=function(evt){if(!bListThumbnail){document.getElementById(sImageDiv).style.background="none";document.getElementById(sImageID).src="%FILE%ThumbnailIcons/ThumbnailQued48.png";document.getElementById(sImageID).width="48";document.getElementById(sImageID).height="48";document.getElementById(sImageID).style.border="none";}else if(bListThumbnail){g_nThumbnailIter++;document.getElementById(sImageID).style.backgroundImage='url(/Web%20Client/ThumbnailIcons/ThumbnailQued48.png)';setTimeout("LoadThumbnailIcons()",0);}};PreviewImg.src=sImagePath;}function LoadThumbnailIcons(){var nTotalRows=aFile.length;for(;(g_nThumbnailIter<nTotalRows);g_nThumbnailIter++){if(g_bPauseThumbnails){g_nRestartPosition=g_nThumbnailIter;g_nThumbnailIter=nTotalRows;break;}if(g_nThumbRestart){g_nThumbRestart=false;g_nThumbnailIter=-1;}else{if(aFile[g_nThumbnailIter].FileIsImage==1){GetMobilePreviewImage(aFile[g_nThumbnailIter].FilePath,false,g_nThumbnailIter);return;}}}}function GetMobileWidth(){var xWidth=null;if(window.screen!=null)xWidth=window.screen.availWidth;if(window.innerWidth!=null)xWidth=window.innerWidth;if(document.body!=null)xWidth=document.body.clientWidth;return xWidth;}function GetMobileHeight(){var xHeight=null;if(window.screen!=null)xHeight=window.screen.availHeight;if(window.innerHeight!=null)xHeight=window.innerHeight;if(document.body!=null)xHeight=document.body.clientHeight;return xHeight;}function DetectOrientation(){if(this.orientation==0||this.orientation==180)return('portrait');else return('landscape');}setTimeout("OnSendMobileNOOP()",55000);AddOnloadEvent(RefreshList);</script></html>