<!--#include "..\Strings\Strings.strings"-->
<!--#include "..\..\Common\Strings\Strings.strings"-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><title>$LOGIN_TITLE$</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=320, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="mobileoptimized" content="230"/><meta name="format-detection" content="telephone=no"/><link rel="apple-touch-icon-precomposed" href="/Web%20Client/Mobile/Images/apple-touch-icon-57x57-precomposed.png"/><link rel="apple-touch-icon-precomposed" sizes="72x72" href="/Web%20Client/Mobile/Images/apple-touch-icon-72x72-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="114x114" href="/Web%20Client/Mobile/Images/apple-touch-icon-114x114-precomposed.png" /><script type="text/javascript" language="JavaScript">var g_sFontOverride="$FONT_OVERRIDE$";var g_bIslocalAdminBrowser=false;var g_bAllowRemember=true;if(parseInt(%ALLOW_REMEMBER_ME%)!=1){g_bAllowRemember=false;}MWCLoadingImg=new Image();MWCLoadingImg.src="%FILE%Mobile/Images/MWCLoading.gif";</script><link type="text/css" href="%FILE%Mobile/Style/Mobile.css" rel="stylesheet" /><script type="text/javascript" language="JavaScript">var g_sUnknownError="$UNKNOWN_ERROR$";g_sEnterUser="$PLEASE_ENTER_USER_NAME$";g_sEnableCookies="$PLEASE_ENABLE_COOKIES$";var g_bIsLocalAdmin=false;var g_bLoginUser=true;var g_sCommonPath="%COMMON_FILE%";var bIs_BlackBerry=false,bIs_IEMobile=false;var agent=navigator.userAgent.toLowerCase();var g_bFVJVLicense=false;if((agent.indexOf('blackberry')!=-1))bIs_BlackBerry=true;if((agent.indexOf('iemobile')!=-1)||(agent.indexOf('windows phone')!=-1))bIs_IEMobile=true;if(bIs_IEMobile){document.write('<style type="text/css">');document.write('body {');document.write('font-family: Helvetica;');document.write('font-size: 10px;');document.write('}');document.write('body  ul  li {');document.write('font-size: 14px;');document.write('}');document.write('</style>');}function handleKeyPress(e){var KeyButton;if(window.event)KeyButton=window.event.keyCode;else KeyButton=e.which;if(KeyButton==13||KeyButton==10){CheckLoggedIn(false);return false;}else return true;}</script><script type="text/javascript" language="JavaScript" src="%FILE%Mobile/Scripts/Mobile.js"></script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/functions.js"></script></head><body style="background-image:none;"><div style="text-align:center;"><div class="login-logo-bg" style="text-align:center;"><img src="/%25LOGO_FILE%25%FILE%Mobile/Images/MobileSUlogo.png" width="272" id="SULoginLogo" alt="Serv-U FTP Server" border="0" style="margin:0 auto;"></div><div class="content"><div id="FormLayer" style="display:none;"><form name="login" onsubmit="javascript:CheckLoggedIn(false);"><div style="text-align:left;margin:0 auto 0 auto;padding:5px;">$USER$:<br /><input type="text" onkeypress="javascript:return(handleKeyPress(event))" onblur="javascript:OnInputBlur();" autocapitalize="off" class="text" name="user" id="user" style="width:100%;"/>$PASSWORD$:<br /><input type="password" onkeypress="javascript:return(handleKeyPress(event))" onblur="javascript:OnInputBlur();" autocapitalize="off" class="text" name="password" id="pword" style="width:100%;"/><div class="language" id="LangContainer" style="display:none;">$LANGUAGE$:<br /><span id="LangCombo"></span></div><div style="display:none;text-align:left;" id="RememberContainer"><input type="checkbox" name="remember" id="remember" style="height:25px;width:25px;"/><span id="RememberUserIDText" ><strong>$REMEMBER_USER$</strong></span><br /></div></div><div id="LoginContainer"><div class="Button-Mobile-blue" id="LoginButton" style="height:30px;width:$MOBILE_LOGIN_BTN_WIDTH$px;" onclick="javascript:CheckLoggedIn(false);">$LOGIN$</div></div></form></div><div id="mfa-dialog" class="totp-dialog hidden"><p class="totp-dialog__message">$MFA_FORM_ENTER$</p><form id="totp-check" onsubmit="javascript:javascript:submitTotp(event);" class="totp-dialog__form"><input type="number" oninput="javascript:return(checkDigits(event))" maxlength="6" autocapitalize="off" class="totp-dialog__input text"/><div class="totp-error hidden"><p class="totp-error__text">$MFA_FORM_ERROR$</p><p class="totp-error__tries">$MFA_FORM_TRIES$</p></div><div class="totp-dialog__controls"><div id="totpEnterCancel"><div class="Button-Mobile-blue" id="totpEnterCancelButton" style="height:30px;width:$MOBILE_LOGIN_BTN_WIDTH$px;" onclick="javascript:OnLogOut();">$CANCEL_BUTTON$</div></div><div id="totpSubmit"><div class="Button-Mobile-blue disabled" id="totpSubmitButton" style="height:30px;width:$MOBILE_LOGIN_BTN_WIDTH$px;" onclick="javascript:submitTotp(event);">$SUBMIT_BUTTON$</div></div></div></form></div><div class="totp-info hidden"><div class="totp-info__message"><p class="totp-message"></p></div><div class="totp-info__controls"><div id="totpCancel"><div class="Button-Mobile-blue" id="totpCancelButton" style="height:30px;width:$MOBILE_LOGIN_BTN_WIDTH$px;" onclick="javascript:OnLogOut();">$CANCEL_BUTTON$</div></div><div id="totpSkip"><div class="Button-Mobile-blue" id="totpSkipButton" style="height:30px;width:$MOBILE_LOGIN_BTN_WIDTH$px;" onclick="javascript:sendSkipMfa();">$SKIP_BUTTON$</div></div></div></div><span id="ChangePassword" style="display:none;">$PASSWORD_EXPIRED_TITLE$<br /><br /><form name="ChangePassword" onsubmit="javascript:return(OnChangePassword());"><div style="text-align:left;margin:0 auto 0 auto;padding:5px;">$OLD_PASSWORD$:<br /><input type="password" autocapitalize="off" class="text" name="old_password" id="old_password" style="width:100%;"/>$NEW_PASSWORD$:<br /><input type="password" autocapitalize="off" class="text" name="new_password" id="new_password" style="width:100%;"/>$VERIFY_PASSWORD$:<br /><input type="password" autocapitalize="off" class="text" name="verify_password" id="verify_password" style="width:100%;"/></div><div style="width:308px;margin:0 auto 0 auto;"><div style="width:154px;float:left;"><div class="Button-Mobile-blue" id="ChangePasswordButton" style="height:30px;width:100px;" onclick="javascript:OnChangePassword();">$OK_BUTTON$</div></div><div style="width:154px;float:left;"><div class="Button-Mobile-blue" id="CancelCP" style="height:30px;width:100px;" onclick="javascript:OnCancelChangePassword();">$CANCEL_BUTTON$</div></div></div></form></span><div id="MessageLayer"></div><div class="Bottom-Logos"><a href="%COMPANY_URL_HOME%" TARGET="_blank" rel="noopener noreferrer"><img src="%COMMON_FILE%Images/MClient_RS_Logo.png" border="0" alt="%COMPANY_NAME%" style="margin-top:5px;" width="120" height="30"/></a></div></div><div class="copyright"><div class="footerDiv1"><a href="%PRODUCT_HOME%" target="_blank" rel="noopener noreferrer">%PRODUCT%</a> <span id="SUVersionNumber">%VERSION%</span> &copy; 1995 - %COPYRIGHT_END_YEAR% <a href="%COMPANY_URL_HOME%" TARGET="_blank" rel="noopener noreferrer">%COMPANY_NAME_FORMAL%</a>&nbsp;$ALL_RIGHTS_RESERVED$</div></div><FORM id="CookieCheck"><input type="hidden" name="cookieexists" value="false"></FORM><form id="UserPlacementPost" method="post" action=""><input type="hidden" id="EncSession" name="EncSession"/></form></div><script type="text/javascript" language="javascript">var g_nUserPlacement;var g_nUserType;var aLangArray=OnSetLanguageDefault();var g_bLoggedIn=false;var g_bAutoLogin=false;var g_nSessionOkay=0;var g_nSessionPasswordChangeNeeded=202;var g_nSessNoLicRemoteAdmin=905;var g_objLoginReq;var g_objPasswordChangeReq;var g_objSkipMfaReq;var g_objTotpReq;var g_sWelcomeMessage="";var MFA_DIALOG={dialog:document.getElementById('mfa-dialog'),form:document.getElementById('totp-check'),submit:document.getElementById('totpSubmitButton'),cancel:document.getElementById('totpEnterCancelButton'),input:document.querySelector('.totp-dialog__input'),error:document.querySelector('.totp-error')};var MFA_STATUS={REQUIRED:"REQUIRED",USES:"USES",MAY:"MAY",CANNOT:"CANNOT"};var MFA_STATE={status:"",triesLeft:"3",allowLogin:false,allowAdHoc:false,isCodeValid:false,isSkipped:false,isPassed:false};var TOTP_INFO_DIALOG={dialog:document.querySelector(".totp-info"),message:document.querySelector(".totp-info__message .totp-message"),skip:document.querySelector("#totpSkipButton"),cancel:document.querySelector("#totpCancelButton")};var TOTP_INFO_MESSAGES={[MFA_STATUS.REQUIRED]:"$MFA_ADMIN_ENFORCED_MOBILE$",[MFA_STATUS.MAY]:"$MFA_ADMIN_ENABLED_MOBILE$"};CreateMobileComboBox(aLangArray[0],aLangArray[1],["$ENGLISH$","$GERMAN$","$ITALIAN$","$FRENCH$","$SPANISH$","$PORTUGUESE$","$SERBIAN$","$SWEDISH$","$FINISH$","$NORWEGIAN$","$RUSSIAN$","$DANISH$","$SIMPLIFIED_CHINESE$","$TRADITIONAL_CHINESE$","$JAPANESE$"],["en,US","de,DE","it,IT","fr,FR","es,ES","pt,PT","sr,SR","se,SE","fi,FI","no,NO","ru,RU","dk,DK","zh,CN","zh,TW","jp,JP"],"LangCombo","Language");function OnInputBlur(nBlurDelay){if(nBlurDelay==undefined)nBlurDelay=0;setTimeout(function(){window.scrollTo(0,1);},nBlurDelay);}function CreateMobileComboBox(sDefaultText,sDefaultValue,aLangText,aLangValues){var sSetLangCookie=String('SetLangCookie();');var sOnInputBlur=String('OnInputBlur();');sCombo='<select name="Language" id="Language"  onblur="javascript:'+sOnInputBlur+'"  onchange="javascript:'+sSetLangCookie+'" style="width:100%;">';for(x in aLangText){if(sDefaultText==aLangText[x])sSelected="selected";else sSelected="";sCombo+='<option '+sSelected+' value="'+aLangValues[x]+'">'+aLangText[x]+'</option>';}sCombo+='</select>';document.getElementById('LangCombo').innerHTML=sCombo;}function OnSetLanguageDefault(){var sBrowserLanguage=navigator.language?navigator.language:navigator.userLanguage;var sLangVal=readCookie('SULang');var aLanguage;var bLangBrowserSet=false;if((GetURLParameter("Language")!=""))sLangVal=GetURLParameter("Language");if(sLangVal==null||sLangVal==undefined||sLangVal==""){sLangVal=sBrowserLanguage.replace("-",",");bLangBrowserSet=true;}if(sLangVal==null||sLangVal==undefined){sLangVal="";bLangBrowserSet=false;}switch(sLangVal.toLowerCase()){case"de,de":case"de":sText="$GERMAN$";sLangVal="de,DE";break;case"it,it":case"it":sText="$ITALIAN$";sLangVal="it,IT";break;case"fr,fr":case"fr":sText="$FRENCH$";sLangVal="fr,FR";break;case"es,es":case"es":sText="$SPANISH$";sLangVal="es,ES";break;case"pt,pt":case"pt":sText="$PORTUGUESE$";sLangVal="pt,PT";break;case"se,se":case"se":sText="$SWEDISH$";sLangVal="se,SE";break;case"sr,sr":case"sr":case"sr,rs":case"sr,cs":sText="$SERBIAN$";sLangVal="sr,SR";break;case"fi,fi":case"fi":sText="$FINISH$";sLangVal="fi,FI";break;case"no,no":case"no":sText="$NORWEGIAN$";sLangVal="no,NO";break;case"ru,ru":case"ru":sText="$RUSSIAN$";sLangVal="ru,RU";break;case"dk,dk":case"dk":sText="$DANISH$";sLangVal="dk,DK";break;case"jp,jp":case"ja,jp":case"jp":case"ja":sText="$JAPANESE$";sLangVal="jp,JP";break;case"zh,cn":sText="$SIMPLIFIED_CHINESE$";sLangVal="zh,CN";break;case"zh,tw":sText="$TRADITIONAL_CHINESE$";sLangVal="zh,TW";break;default:sText="$ENGLISH$";sLangVal="en,US";bLangBrowserSet=false;break;}createCookie("SULang",sLangVal,60);aLanguage=[sText,sLangVal];if(bLangBrowserSet)setTimeout("OnReloadPage()");else return(aLanguage);}function LoginCheckRequest(){if((g_objLoginReq!=undefined)&&(g_objLoginReq.readyState==4)){var XMLDoc=g_objLoginReq.responseXML;var nResult=GetXMLValueInt(XMLDoc,"result");g_objLoginReq=undefined;if(nResult!=g_nSessionOkay)OnLogIn(g_bAutoLogin);else window.location="%FILE%Mobile/MListDir.htm";}}function CheckLoggedIn(bAutoLogin){var sNOOPCmd="/?Command=NOOP";if(bAutoLogin!=undefined)g_bAutoLogin=bAutoLogin;document.getElementById("LoginContainer").innerHTML="<img src='%FILE%Mobile/Images/MWCLoading.gif' border='0'/>";g_objLoginReq=createXMLHttpRequest("POST",sNOOPCmd,LoginCheckRequest);g_objLoginReq.setRequestHeader("X-User-Agent",escape(navigator.userAgent));g_objLoginReq.send(null);document.getElementById("pword").blur();document.getElementById("user").blur();return false;}function OnLogIn(bAutoLogin){var sLoginCmd="%FILE%Login.xml?Command=Login";if(bAutoLogin!=undefined)g_bAutoLogin=bAutoLogin;g_objLoginReq=createXMLHttpRequest("POST",sLoginCmd,LogInRequestResponse);var sUserName,sPassWord,sLanguage;if(g_bAutoLogin){sUserName=decodeURIComponent(GetURLParameter("user"));sPassWord=decodeURIComponent(GetURLParameter("password"));}else{sUserName=document.login.user.value;sPassWord=document.login.password.value;}g_objLoginReq.setRequestHeader("X-User-Agent",escape(navigator.userAgent));g_objLoginReq.send("user="+encodeURIComponent(sUserName)+"&pword="+encodeURIComponent(sPassWord)+"&language="+encodeURIComponent(sLanguage));}function LogInRequestResponse(){if((g_objLoginReq!=undefined)&&(g_objLoginReq.readyState==4)){if(g_objLoginReq.status==200)var XMLDoc=g_objLoginReq.responseXML;var nResult=GetXMLValueInt(XMLDoc,"result");var sResultText=GetXMLValue(XMLDoc,"ResultText");g_sWelcomeMessage=GetXMLValue(XMLDoc,"welcomemsg")||"";var totpStatus=GetXMLValue(XMLDoc,"MFATOTPStatus");var totpTriesLeft=GetXMLValue(XMLDoc,"TOTPLoginTriesLeft");MFA_STATE.status=totpStatus;MFA_STATE.triesLeft=totpTriesLeft;g_nUserPlacement=GetXMLValue(XMLDoc,"userplacement");g_nUserType=GetXMLValue(XMLDoc,"usertype");g_sEncXsrfToken=GetXMLValue(XMLDoc,"CsrfToken");if(nResult===g_nSessionOkay){g_bLoggedIn=true;var bAllowWCLogin=(GetXMLValue(XMLDoc,"AllowWC")=="1")?true:false;var bAllowAdhocLogin=(GetXMLValue(XMLDoc,"AllowFileSharing")=="1")?true:false;RunMfaCheck(bAllowWCLogin,bAllowAdhocLogin,nResult);return;}if(nResult===g_nSessionPasswordChangeNeeded){showChangePasswordDialog();return;}document.getElementById("FormLayer").style.display="none";AlertMessage(GetResultText(nResult,"$LOGIN_FAIL_STR$",sResultText));var sCheckLoggedIn=String('CheckLoggedIn(false);');document.getElementById("LoginContainer").innerHTML="<div class='Button-Mobile-blue' id='LoginButton' style='height:30px;width:100px;' onclick='javascript:"+sCheckLoggedIn+"'>$LOGIN$</div>";}}function showChangePasswordDialog(){hideTotpInfoDialog();hideMfaDialog();ClearPasswordDialog();document.getElementById("FormLayer").style.display="none";document.getElementById("ChangePassword").style.display="block";document.getElementById("old_password").focus();}function WelcomeMessage(sWelcomeText){var sOnLoginOk=String('OnLoginOK();');var sOnLogOut=String('OnLogOut();');sMessage='<div style="width:308px;margin:0 auto 0 auto;">';sMessage+=' <div style="width:154px;float:left;">'+CreateMobileButton("$OK_BUTTON$",sOnLoginOk,120,true,"OkLogin-1")+'</div>';sMessage+=' <div style="width:154px;float:left;">'+CreateMobileButton("$LOGOUT$",sOnLogOut,120,true)+'</div>';sMessage+='</div>';sMessage+='<div style="text-align:left;padding:5px;clear:left;margin:0 auto 0 auto; border-bottom:2px solid black;">'+sWelcomeText+'</div>';document.getElementById("FormLayer").style.display="none";document.getElementById("ChangePassword").style.display="none";document.getElementById("MessageLayer").innerHTML=sMessage;document.getElementById("MessageLayer").style.display="block";}function AlertMessage(sAlertText){var sOnShowLogin=String('OnShowLogin();');sMessage=sAlertText;sMessage+='<div class="Button-Mobile-blue" id="LoginButton" style="height:30px;width:100px;" onclick="javascript:'+sOnShowLogin+'">$LOGIN$</div>';document.getElementById("MessageLayer").innerHTML=sMessage;document.getElementById("MessageLayer").style.display="block";}function OnShowLogin(){document.getElementById("MessageLayer").style.display="none";document.getElementById("FormLayer").style.display="block";document.getElementById("user").focus();}function RunMfaCheck(bAllowWCLogin,bAllowAdhocLogin,nResult){MFA_STATE.allowLogin=bAllowWCLogin;MFA_STATE.allowAdHoc=bAllowAdhocLogin;if(MFA_STATE.status===MFA_STATUS.REQUIRED||MFA_STATE.status===MFA_STATUS.MAY){showTotpInfoDialog();return;};if(MFA_STATE.status===MFA_STATUS.USES){showMfaDialog();return;}if(g_sWelcomeMessage.length&&nResult!==g_nSessNoLicRemoteAdmin){WelcomeMessage(g_sWelcomeMessage.replace(new RegExp("\\n","g"),"<br>"));}else{OnLoginOK();}}function showTotpInfoDialog(){document.getElementById("FormLayer").style.display="none";MFA_DIALOG.dialog.classList.add("hidden");TOTP_INFO_DIALOG.message.innerHTML=TOTP_INFO_MESSAGES[MFA_STATE.status];if(MFA_STATE.status===MFA_STATUS.REQUIRED){TOTP_INFO_DIALOG.cancel.innerHTML="$OK_BUTTON$";TOTP_INFO_DIALOG.cancel.classList.remove("hidden");TOTP_INFO_DIALOG.skip.classList.add("hidden");}if(MFA_STATE.status===MFA_STATUS.MAY){TOTP_INFO_DIALOG.cancel.classList.remove("hidden");TOTP_INFO_DIALOG.skip.classList.remove("hidden");}TOTP_INFO_DIALOG.dialog.classList.remove("hidden");}function hideTotpInfoDialog(){TOTP_INFO_DIALOG.dialog.classList.add("hidden");}function showMfaDialog(){document.getElementById("FormLayer").style.display="none";MFA_DIALOG.dialog.classList.remove("hidden");MFA_DIALOG.input.focus();}function hideMfaDialog(){MFA_DIALOG.dialog.classList.add("hidden");}function sendSkipMfa(){var skipMfaUrl="%FILE%Login.xml?Command=TOTPPassin";g_objSkipMfaReq=createXMLHttpRequest("POST",skipMfaUrl,onSkipMfaResponse);g_objSkipMfaReq.setRequestHeader("X-User-Agent",escape(navigator.userAgent));g_objSkipMfaReq.send("role="+encodeURIComponent("skipCreation"));}function sendTotp(){var passCode=MFA_DIALOG.form[0].value;var totpUrl="%FILE%Login.xml?Command=TOTPPassin";g_objTotpReq=createXMLHttpRequest("POST",totpUrl,onTotpResponse);g_objTotpReq.setRequestHeader("X-User-Agent",escape(navigator.userAgent));g_objTotpReq.send("role="+encodeURIComponent("validation")+"&passcode="+encodeURIComponent(passCode));}function onTotpResponse(){if(!(g_objTotpReq&&g_objTotpReq.readyState===4&&g_objTotpReq.status===200))return;var nResult=GetXMLValueInt(g_objTotpReq.responseXML,"result");if(nResult===g_nSessionOkay){MFA_STATE.isPassed=true;if(g_sWelcomeMessage.length&&nResult!==g_nSessNoLicRemoteAdmin){hideMfaDialog();WelcomeMessage(g_sWelcomeMessage.replace(new RegExp("\\n","g"),"<br>"));return;}OnLoginOK();return;}if(nResult===g_nSessionPasswordChangeNeeded){MFA_STATE.isPassed=true;showChangePasswordDialog();return;}var triesLeft=GetXMLValueInt(g_objTotpReq.responseXML,"TOTPLoginTriesLeft");handleTotpError(triesLeft);}function handleTotpError(triesLeft){if(!triesLeft){OnLogOut();return;}MFA_DIALOG.error.classList.remove("hidden");MFA_DIALOG.error.querySelector(".tries-left").innerHTML=triesLeft;MFA_STATE.isCodeValid=false;MFA_DIALOG.submit.classList.add("disabled");MFA_DIALOG.input.value="";MFA_DIALOG.input.focus();}function checkDigits(event){event.target.value=event.target.value.replace(/[^0-9\s]/g,"").slice(0,6);MFA_STATE.isCodeValid=event.target.value.length===6;if(MFA_STATE.isCodeValid){MFA_DIALOG.submit.classList.remove("disabled");}else{MFA_DIALOG.submit.classList.add("disabled");}if(event.target.value.length){MFA_DIALOG.error.classList.add("hidden");}}function submitTotp(){if(!MFA_STATE.isCodeValid){return;}sendTotp();}function onSkipMfaResponse(){if(!(g_objSkipMfaReq&&g_objSkipMfaReq.readyState===4&&g_objSkipMfaReq.status===200))return;var nResult=GetXMLValueInt(g_objSkipMfaReq.responseXML,"result");if(nResult===g_nSessionOkay){MFA_STATE.isSkipped=true;if(g_sWelcomeMessage.length&&nResult!==g_nSessNoLicRemoteAdmin){hideTotpInfoDialog();WelcomeMessage(g_sWelcomeMessage.replace(new RegExp("\\n","g"),"<br>"));return;}OnLoginOK();return;}if(nResult===g_nSessionPasswordChangeNeeded){MFA_STATE.isSkipped=true;showChangePasswordDialog();return;}OnLogOut();}function OnLoginOK(){var sPlacement="%FILE%Mobile/NoInterfaceAvaliable.htm";if(MFA_STATE.allowLogin){sPlacement="%FILE%Mobile/MListDir.htm";}else if(MFA_STATE.allowAdHoc){sPlacement="%FILE%Share/Console.htm";}if(document.getElementById('remember').checked){if(GetURLParameter("remember")=="on"){createCookie("SURememberMe","true",60);createCookie("SUUserId",encodeURI(GetURLParameter("user")),60);}else{createCookie("SURememberMe","true",60);createCookie("SUUserId",encodeURI(document.login.user.value),60);}}else{eraseCookie("SURememberMe");eraseCookie("SUUserId");}window.location=sPlacement;}function OnLoggedOut(){g_bLoggedIn=false;}function OnReloadPage(){var sReloadURL="%FILE%Mobile/MLogin.htm";if(GetURLParameter("user")!="")sReloadURL=sReloadURL+"&user="+GetURLParameter("user");if(GetURLParameter("password")!="")sReloadURL=sReloadURL+"&password="+GetURLParameter("password");window.location.href=sReloadURL;}function SetLangCookie(){LanguageCombo=document.getElementById('Language');sLangValue=(LanguageCombo.options[LanguageCombo.selectedIndex].value);createCookie("SULang",sLangValue,60);createCookie("SUUserId",encodeURI(document.login.user.value),60);if(document.getElementById('remember').checked)createCookie("SURememberMe","true",60);else createCookie("SURememberMe","false",60);setTimeout("OnReloadPage()");}var bRememberMe=false;if(readCookie('SURememberMe')=="true"&&g_bAllowRemember){document.getElementById('remember').checked=true;document.login.user.value=decodeURI(readCookie('SUUserId'));}function OnLogOut(){location.href="%LOGOUT%";}function InitPage(){if(GetURLParameter("user")!="")setTimeout("CheckLoggedIn(true)",1);else{OnShowLogin();setTimeout(scrollTo,100,0,1);}if(bIs_IEMobile)document.getElementById("SULoginLogo").width="240";}function PasswordChangeRequestResponse(){if((g_objPasswordChangeReq!=undefined)&&(g_objPasswordChangeReq.readyState==4)){if(g_objPasswordChangeReq.status==200)var XMLDoc=g_objPasswordChangeReq.responseXML;var nResult=GetXMLValueInt(XMLDoc,"result");var sResultText=GetXMLValue(XMLDoc,"ResultText");if(nResult===0){alert("$PASSWORD_CHANGED$");if(g_sWelcomeMessage!=""&&g_sWelcomeMessage!=undefined){WelcomeMessage(g_sWelcomeMessage.replace(new RegExp("\\n","g"),"<br>"));return;}document.getElementById("ChangePassword").style.display="none";window.location="%FILE%Mobile/MListDir.htm";return;}alert(sResultText);}}function OnChangePassword(){var sChangePasswordCmd="%FILE%Login.xml?Command=LoginChangePassword";var sOldPassWord,sNewPassWord,sVerifyPassWord;g_objPasswordChangeReq=createXMLHttpRequest("POST",sChangePasswordCmd,PasswordChangeRequestResponse);sOldPassWord=document.getElementById("old_password").value;sNewPassWord=document.getElementById("new_password").value;sVerifyPassWord=document.getElementById("verify_password").value;if(sNewPassWord==sVerifyPassWord){g_objPasswordChangeReq.setRequestHeader("X-User-Agent",escape(navigator.userAgent));g_objPasswordChangeReq.send("old_password="+encodeURIComponent(sOldPassWord)+"&new_password="+encodeURIComponent(sNewPassWord));}else{alert("$PASSWORDS_DONT_MATCH$");}return false;}function OnCancelChangePassword(){document.getElementById("ChangePassword").style.display="none";document.getElementById("FormLayer").style.display="block";}function ClearPasswordDialog(){document.getElementById("old_password").value="";document.getElementById("new_password").value="";document.getElementById("verify_password").value="";}if(%SHOW_LANGUAGE%)document.getElementById("LangContainer").style.display="block";if(g_bAllowRemember)document.getElementById("RememberContainer").style.display="block";AddOnloadEvent(InitPage);</script></body></html>