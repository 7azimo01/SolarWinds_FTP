%PRIV_DOMAIN_ADMIN%
<!--#include "Include\..\Strings\Strings.strings"-->
<!--#include "Include\..\..\Common\Strings\Strings.strings"-->
<!--#include "Include\..\..\Web Client\Strings\Strings.strings"-->
<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="ROBOTS" content="NOINDEX,NOFOLLOW"/><script type="text/javascript" language="javascript">if(%IS_LOCAL_ADMIN%)sTitleText="$DOMAIN_LIMITS_PAGE_TITLE$";else sTitleText="%PRODUCT% - $DOMAIN_LIMITS_PAGE_TITLE$";document.write("<title>"+sTitleText+"</title>");</script>%PAGE_CHANGE%<meta name="viewport" content="width=320; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/><meta name="mobileoptimized" content="0"/><meta name="format-detection" content="telephone=no"/><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/functions.js"></script><script type="text/javascript" language="javascript">var g_bSecurityAlertTriggered=%SECURITY_ALERT_TRIGGERED%;var g_bServerIdentityAlertTriggered=%SERVER_IDENTITY_ALERT_TRIGGERED%;var g_bIsWebClient=false;var g_nShowList;var g_bLinkRequested=false;var g_sFontOverride="$FONT_OVERRIDE$";var g_bTreeNavVisible=false;var bTreeLoaded=false;var NavigationTree;var g_nServerSection="";var g_sTreeURL;var g_nTreeHeight=350;var g_bTreeRoot=false;var tree=new Array();var g_aHistory=new Array();var g_aHistoryNames=new Array();var g_aHistoryIcon=new Array();var g_aHistoryActive=new Array();var g_HistoryPointer=0;var g_sLastIcon="";var g_bHistoryButtonUsed=false;var g_bIslocalAdminBrowser=false;var g_sCannotMoveFile="$DRAG_DROP_CANNOT_MOVE_FILE$";var g_sConfirmMoveFileFrom="$CONFIRM_MOVE_FILE_FROM$ ";var g_sTo=" $TO$ ";var g_bCaseSensitiveOS=(%CASE_SENSITIVE_OS%==1);var g_bIsiPad=false;var sUserAgentCheck=navigator.userAgent.toLowerCase();var g_bSupportsMSMQ=("%SUPPORTS_MSMQ%"!="0");var g_bMSMQLicense=("%CServer.%SERVER_ID%.MSMQLicense%"!="0");var g_bSupportWinEventLog=("%SUPPORTS_WINDOWS_EVENT_LOG%"!="0");var g_bIsDemo=(%IS_DEMO%==1);var g_bLoginUser=false;var g_nDaysRemaining=parseInt("%CServer.%SERVER_ID%.LicenseDaysRemaining%");var g_bLicenseIsTemp=(%CServer.%SERVER_ID%.LicenseIsTemp%==1);var g_bLicenseIsPastTrial=(%CServer.%SERVER_ID%.LicenseIsPastTrial%==1);var g_bIsModEvalExp=(%IS_MODIFIED_EVAL_EXP%==1);var g_sTrialExpiredTxt="$TRIAL_IS_EXPIRED$";var g_sTrialExpiresInTxt="$TRIAL_EXPIRES_IN$";var g_sTrialExpiresDaysTxt="$DAYS$";var g_sBuyNow="$BUY_NOW$";var g_bIsAdminAllowedToAddUsers=(parseInt("%IS_ADMIN_ALLOWED_TO_ADD_USERS%")!=0);var g_sDomainName="%CDomain.%ID%.DomainName%";var g_JumpToPage=0;if(%IS_LOCAL_ADMIN%){g_bIslocalAdminBrowser=true;}if(sUserAgentCheck.indexOf('ipad')!=-1)g_bIsiPad=true;var g_sEncXsrfToken="%ENC_CSRF_TOKEN%";</script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/BrowserCheckAW.js"></script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/jquery/jquery.js"></script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/jquery/jquery-ui.js"></script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/jquery/jquery-contextMenu.js"></script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/jquery/jquery.mousewheel.min.js"></script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/jquery/jquery.mCustomScrollbar.min.js"></script><link type="text/css" href="%COMMON_FILE%Style/Fonts.css" rel="stylesheet" /><link type="text/css" href="%COMMON_FILE%Style/Dialog.css" rel="stylesheet" /><link type="text/css" href="%COMMON_FILE%Style/Common.css" rel="stylesheet" /><link type="text/css" href="%ADMIN_FILE%Style/global.css" rel="stylesheet" /><link type="text/css" href="%COMMON_FILE%Style/jquery/jquery.mCustomScrollbar.css" rel="stylesheet" /><link type="text/css" href="%COMMON_FILE%Style/jquery/jquery-ui.css" rel="stylesheet" /><link type="text/css" href="%COMMON_FILE%Style/jquery/jquery-contextMenu.css" rel="stylesheet" /><link type="text/css" href="%ADMIN_FILE%Style/nav.css" rel="stylesheet" /><link type="text/css" href="%COMMON_FILE%Style/CommonHeader.css" rel="stylesheet" /><link type="text/css" href="%COMMON_FILE%Style/CommonUI.css" rel="stylesheet" /><script type="text/javascript" language="javascript">if(AW.ff3){AW.getLeft=function(element){return element.getBoundingClientRect().left-document.documentElement.getBoundingClientRect().left;};AW.getTop=function(element){return element.getBoundingClientRect().top-document.documentElement.getBoundingClientRect().top;};}if(g_bSafariBrowser){AW.getTop=function(element){if(element.innerHTML.indexOf("aw-image-none")!=-1)return element.getBoundingClientRect().top-document.documentElement.getBoundingClientRect().top;else return element.getBoundingClientRect().top-document.documentElement.getBoundingClientRect().top-4;};}if(AW.chrome){AW.getTop=function(element){if(element.innerHTML.indexOf("aw-image-none")!=-1)return element.getBoundingClientRect().top-document.documentElement.getBoundingClientRect().top+4;else return element.getBoundingClientRect().top-document.documentElement.getBoundingClientRect().top;};}if(navigator.userAgent.toLowerCase().indexOf('safari')!=-1){document.write('<style type="text/css">');document.write('body,table{');document.write(' font-size:11px;font-family: Helvetica Arial sans-serif;');document.write('}');document.write('</style>');}var g_sMenuDividers="--***--";var g_sImagePath="%COMMON_FILE%Images/";var g_sCommonPath="%COMMON_FILE%";var g_sFilePath="%ADMIN_FILE%";var g_sHelpPath="%HELP_BASE_URL%";var g_sConsoleInclude="0";var g_bDomainNav=true;var g_sAdminXMLPath="%ADMIN_FILE%XML/";var g_sUseInherited="$USE_INHERITED$";var g_bIE7=true;var g_bIEDomainCheck=true;var g_sLoading="$LOADING_DIALOG_TITLE$";var g_sSelectDomainMsg='$SELECT_DOMAIN_MSG$';var g_nDomainID;var g_sHelpPage="Help-Overview.htm";var g_sHelpNode="none";var g_sCurrentURLFileName="%INTERNAL_FILE%";var g_nSessionOkay=0;var g_nPermissionDenied=3;var g_nULLMax=18446744073709551615;var g_sGB="$FS_ABBREV_GIGABYTE$";var g_sMB="$FS_ABBREV_MEGABYTE$";var g_sKB="$FS_ABBREV_KILOBYTE$";var g_sBytes="$FS_BYTES$";var g_bFVJVLaunchPage=false;var g_sUnknownError="$UNKNOWN_ERROR$";var g_sHomeStr="$HOME$";var g_ActiveTab;var g_ActivePage;var g_bODBC64BitWarn=(%CServer.%SERVER_ID%.WarnODBC64BitUpgrade%==1);var g_bAllowChangePassword=%CAN_CHANGE_PASSWORD%;var g_bAllowChangeEmail=%USER_CAN_SET_EMAIL_ADDRESS%;var g_sUserEmail=HTMLDecode("%USER_EMAIL_ADDRESS%");var g_bSysAdmin=(%CUser.%USER_ID%.AdminType%==2||%CUser.%USER_ID%.AdminType%==4);var g_bGroupAdmin=(%CUser.%USER_ID%.AdminType%==5||%CUser.%USER_ID%.AdminType%==6);var g_bDomainAdmin=((%CUser.%USER_ID%.AdminType%==1)||(%CUser.%USER_ID%.AdminType%==3));var g_bReadOnlyAccess=(%CUser.%USER_ID%.AdminType%==3||%CUser.%USER_ID%.AdminType%==4||%CUser.%USER_ID%.AdminType%==6);var g_bAllowWebClient=(%ALLOW_WEB_CLIENT%=="1")?true:false;var g_bFVJVLicense=(%CServer.%SERVER_ID%.AllowFVJV%==1);var g_bAllowFVJV=(%ALLOW_FTP_VOYAGER_JV%==1);var g_bWebClientLicense=(%CServer.%SERVER_ID%.WebClientLicense%==1);var g_sFVJVLicenseInfo="$FVJV_LICENSE_INFO$";var g_sWebClienLicenseInfo="$WEB_CLIENT_LICENSE_INFO$";var g_sLicenseEmail="%CServer.%SERVER_ID%.LicenseEMail%";var g_bUsingFIPS=(%CServer.%SERVER_ID%.UsingFIPS%==1);var g_sWebFilePath=%FILE%;var g_bAllowAdhocFileSharing=(%ALLOW_ADHOC_FILE_SHARING%==1);var g_bFileSharingLicense=(%CServer.%SERVER_ID%.FileSharingLicense%==1);var g_sAdhocFileShareLicenseInfo="$ADHOC_LICENSE_INFO$";if(!g_bSysAdmin)g_nDomainID=%DOMAIN_ID%;setTimeout("OnSendNOOP()",55000);</script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/Menus.js"></script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/InitialScript.js"></script><script type="text/javascript" language="JavaScript" src="%ADMIN_FILE%Include/Scripts/utility.js"></script><script type="text/javascript" language="javascript">function RecommendAdminIEUpgrade(){if(g_bIslocalAdminBrowser){var bRecommendIEUpgrade=false;var nVersion=0;if(navigator.appVersion.indexOf("MSIE")!=-1){aTemp=navigator.appVersion.split("MSIE");nVersion=parseFloat(aTemp[1]);}if(nVersion>5.5&&nVersion<8)bRecommendIEUpgrade=(%WARN_OLD_BROWSER%!=0);if(navigator.userAgent.indexOf("MSIE")!=-1){var nVersionIndex=(navigator.userAgent.indexOf("MSIE")+5);var nVersionIE=parseInt(navigator.userAgent.charAt(nVersionIndex));if(nVersionIE>=8)bRecommendIEUpgrade=false;else if((navigator.userAgent.indexOf("compatible")!=-1)&&(nVersionIE>=8))bRecommendIEUpgrade=false;}if(bRecommendIEUpgrade)window.location.href="%FILE%AdminIEWarning.htm";}}</script><div id="ChangePasswordDialoginner" style="display:none;"><form name="login_change_password" onsubmit="return (false);"><table class="DialogTable"><tr><td style="vertical-align:middle;padding-left:5px;"><div>$OLD_PASSWORD$:<div style="overflow:auto"><span id="OldPasswordChange"></span></div></div><div>$NEW_PASSWORD$:<br /><div style="overflow:auto"><span id="NewPasswordChange"></span></div></div><div>$VERIFY_PASSWORD$:<div style="overflow:auto"><span id="VerifyNewPasswordChange"></span></div></div></td><td style="text-align:right;vertical-align:top;padding-right:5px;width:100px;"><span id="ChangePasswordButton"></span><br /><span id="CancelChangePasswordButton"></span></td></tr></table></form></div><script %CSP_NONCE_USAGE_ATTR% type="text/javascript" language="JavaScript">var sWebClientChangePWord=undefined;var sChangePWordImg=undefined;try{if(g_bIsWebClient){sWebClientChangePWord="WC-Icon-ChangePassword";}else{sChangePWordImg="Change_Password16.png";}}catch(e){sChangePWordImg="Change_Password16.png";}BuildDialog("$CHANGE_PASSWORD_TITLE$","ChangePasswordDialog","300","155","","$CLOSE_CANCEL$",sChangePWordImg,undefined,sWebClientChangePWord);function OnChangePasswordSubmit(){var sChangePasswordCmd="%FILE%Login.xml?Command=LoginChangePassword";var ChangePasswordRequest=CreatePostRequest(sChangePasswordCmd);var sOldPassWord,sNewPassWord,sVerifyPassWord;sOldPassWord=OldPasswordInput.getControlText();sNewPassWord=NewPasswordInput.getControlText();sVerifyPassWord=VerifyNewPasswordInput.getControlText();if(sNewPassWord==sVerifyPassWord){ChangePasswordRequest.setParameter("old_password",sOldPassWord);ChangePasswordRequest.setParameter("new_password",sNewPassWord);ChangePasswordRequest.setRequestHeader("X-Csrf-Token",g_sEncXsrfToken);ChangePasswordRequest.setAsync(true);ChangePasswordRequest.request();ChangePasswordRequest.response=function(XMLDoc){var nResult=GetXMLValueInt(XMLDoc,"result");var sResultText=GetXMLValue(XMLDoc,"ResultText");var sWelcomeMsg=GetXMLValue(XMLDoc,"welcomemsg");if(nResult!=0){if(nResult==1)sResultText="$ERROR_PASSWORD_CHANGE_FAIL$";AlertDialog(GetResultText(0,"",sResultText));}else if(g_bLoginUser){ReplaceDialog("ChangePasswordDialog","LoggingInDialog");OnLoginOK(false,nResult,XMLDoc);}else{HideDialog('ChangePasswordDialog');AlertDialog("$PASSWORD_CHANGED$");}};}else{AlertDialog("$PASSWORDS_DONT_MATCH$",true);}}function OnCancelChangePassword(){HideDialog('ChangePasswordDialog');location.href="%LOGOUT%";}function ClearPasswordDialog(){OldPasswordInput.setControlText("");NewPasswordInput.setControlText("");VerifyNewPasswordInput.setControlText("");}function ChangePasswordDialog(bLogin){ClearPasswordDialog();ShowDialog("ChangePasswordDialog");OldPasswordInput.getContent("box/text").element().focus();if(bLogin){CancelPasswordButton.setControlText("$LOGOUT$");document.getElementById("ChangePasswordDialogCloseIcon").onmousedown=OnCancelChangePassword;}}CreateDialogPushButton("$OK_BUTTON$","ChangePasswordButton",OnChangePasswordSubmit);var CancelPasswordButton=CreateDialogPushButton("$CANCEL_BUTTON$","CancelChangePasswordButton",OnCancelChangePassword);var OldPasswordInput=CreatePasswordField("","OldPasswordChange","OldPasswordChange",undefined,200);var NewPasswordInput=CreatePasswordField("","NewPasswordChange","NewPasswordChange",undefined,200);var VerifyNewPasswordInput=CreatePasswordField("","VerifyNewPasswordChange","VerifyNewPasswordChange",undefined,200);</script><div id="UserEmailDialoginner" style="display:none;"><form name="log_user_email" onsubmit="return (false);"><table class="DialogTable"><tr><td style="vertical-align:middle;padding-left:5px;">$EMAIL_DESCR$ <br /><div style="margin-top:5px;">$EMAIL$:<br /><div style="overflow:auto"><span id="CurrentUserEmail"></span></div></div><div>$VERIFY_EMAIL$:<br /><div style="overflow:auto"><span id="UserEmail"></span></div></div></td><td style="text-align:right;vertical-align:top;padding-right:5px; width:100px;"><span id="SaveUserEmailButton"></span><br /><span id="LogoutUserEmailButton"></span><span id="CancelUserEmailButton"></span></td></tr></table></form></div><script %CSP_NONCE_USAGE_ATTR% type="text/javascript" language="JavaScript">var g_fnEmailSetCallback;var sWebClientChangeEmail=undefined;var sChangeEmailImg=undefined;try{if(g_bIsWebClient){sWebClientChangeEmail="WC-Icon-ChangeEmail";}else{sChangeEmailImg="ChangeEmail.png";}}catch(e){sChangeEmailImg="ChangeEmail.png";}BuildDialog("$USER_EMAIL_TITLE$","UserEmailDialog","300","160","","$CLOSE_CANCEL$",sChangeEmailImg,undefined,sWebClientChangeEmail);function OnSetEmailAddressSubmit(){var sSetEmailCmd="%FILE%Result.xml?Command=SetEmailAddress";var SetEmailRequest=CreatePostRequest(sSetEmailCmd);var sEmailAddrs,CurrentEmailAddr;sEmailAddr=UserEmailInput.getControlText();sCurrentEmailAddr=CurrentUserEmail.getControlText();SetEmailRequest.setParameter("emailaddress",sEmailAddr);SetEmailRequest.setAsync(true);if(sEmailAddr.toLowerCase()==sCurrentEmailAddr.toLowerCase())SetEmailRequest.request();else AlertDialog("$EMAIL_VALS_NO_MATCH$");SetEmailRequest.response=function(XMLDoc){var nResult=GetXMLValueInt(XMLDoc,"result");var sResultText=GetXMLValue(XMLDoc,"ResultText");if(nResult!=0){if(nResult==908||nResult==910||nResult==911)AlertDialog(GetResultText(0,"",sResultText));else AlertDialog("$SET_EMAIL_FAILURE_ERROR$");}else{HideDialog('UserEmailDialog');if(g_fnEmailSetCallback!=undefined)g_fnEmailSetCallback();}};}function OnCancelSetEmail(){HideDialog('UserEmailDialog');}function ClearSetEmailDialog(){UserEmailInput.setControlText("");}function OnShowSetEmailDialog(sEmail,fnCallback,bNoCloseButton){if(bNoCloseButton){var DialogCloseContainer=document.getElementById("UserEmailDialogclosebox");if(DialogCloseContainer!=undefined)DialogCloseContainer.className="closebox-none";var DialogCloseButton=document.getElementById("UserEmailDialogCloseIcon");if(DialogCloseButton!=undefined)DialogCloseButton.style.display="none";CancelEmailButton.setStyle("display","none");LogoutUserEmailButton.setStyle("display","");}else{LogoutUserEmailButton.setStyle("display","none");}if(fnCallback!=undefined)g_fnEmailSetCallback=fnCallback;if(sEmail!=undefined)CurrentUserEmail.setControlText(sEmail);else ClearSetEmailDialog();ShowDialog("UserEmailDialog");CurrentUserEmail.getContent("box/text").element().focus();}function OnLogoutEmailSet(){location.href="%LOGOUT%";}CreateDialogPushButton("$OK_BUTTON$","SaveUserEmailButton",OnSetEmailAddressSubmit);var CancelEmailButton=CreateDialogPushButton("$CANCEL_BUTTON$","CancelUserEmailButton",OnCancelSetEmail);var LogoutUserEmailButton=CreateDialogPushButton("$LOGOUT$","LogoutUserEmailButton",OnLogoutEmailSet);var UserEmailInput=CreateInputField("","UserEmail","UserEmail",undefined,200,undefined,undefined,OnSetEmailAddressSubmit);var CurrentUserEmail=CreateInputField("","CurrentUserEmail","CurrentUserEmail",undefined,200,undefined,undefined);</script><script %CSP_NONCE_USAGE_ATTR% type="text/javascript" language="JavaScript">var g_sBusyDialog="BusyDialog";function BusyDialog(bShow,sTitle,bWebClientIcon,bFromApplet){var bSkip=false;if(bShow&&document.getElementById("BusyDialog").style.top!="-5000px")bSkip=true;if(!bSkip){if(bShow)ShowDialog(g_sBusyDialog,undefined,undefined,bFromApplet);else{HideDialog(g_sBusyDialog,undefined,bFromApplet);sTitle="$BUSY_DIALOG_TITLE$";}SetupBusyDialog(sTitle,bWebClientIcon);}}function SetupBusyDialog(sTitle,bWebClientIcon){var TitleText=document.getElementById("BusyDialogTitleText");var sBusyDialogImage="su16x16.png";MCBusyDialogImage=new Image();MCBusyDialogImage.src="%COMMON_FILE%Images/su16x16.png";WCBusyDialogImage=new Image();WCBusyDialogImage.src="%COMMON_FILE%Images/WebClient16.png";if(bWebClientIcon)document.getElementById("BusyDialogTitleIcon").src=WCBusyDialogImage.src;else document.getElementById("BusyDialogTitleIcon").src=MCBusyDialogImage.src;if((TitleText!=undefined)&&(sTitle!=undefined))TitleText.innerHTML="<strong>"+sTitle+"</strong>";var DialogCloseContainer=document.getElementById("BusyDialogclosebox");if(DialogCloseContainer!=undefined)DialogCloseContainer.className="closebox-none";var DialogCloseButton=document.getElementById("BusyDialogCloseIcon");if(DialogCloseButton!=undefined)DialogCloseButton.style.display="none";}function SavingDialog(bShow,bWebClientIcon){BusyDialog(bShow,"$SAVING_DIALOG_TITLE$",bWebClientIcon);}function LoadingDialog(bShow,bWebClientIcon){var bSkip=false;if(bShow&&document.getElementById("BusyDialog").style.top=="-5000px")bSkip=true;if(!bSkip)BusyDialog(bShow,"$LOADING_DIALOG_TITLE$",bWebClientIcon);}function DeletingDialog(bShow,bWebClientIcon){BusyDialog(bShow,"$DELETING_DIALOG_TITLE$",bWebClientIcon);}</script><div id="BusyDialoginner" style="display:none;text-align:center;"><img src="%COMMON_FILE%Images/Busy.gif" border="0" style="margin:0px auto 0px auto;"></div><script %CSP_NONCE_USAGE_ATTR% type="text/javascript" language="JavaScript">BuildDialog("$BUSY_DIALOG_TITLE$","BusyDialog","200","50","text-align:center","$CLOSE_CANCEL$");</script><div id="AlertDialoginner" style="display:none;"><table border="0"><tr><td style="vertical-align:top;"><img id="AlertImage" border="0" width="32" height="32" style="margin-right:8px"></td><td style="text-align:left; padding-right: 10px"><span id="AlertDialogText" style="word-break: break-word; -ms-word-break: break-word; display: inline-block"></span><div id="AlertNoShowContainer" style="display:none;padding-top:10px;"><span id="AlertNoShowDialogCheckBox"></span></div></td></tr></table><div style="width:100%;text-align:center;"><span id="AlertDialogOkButton"></span><span id="ExtraButton"></span></div><!--tr><td colspan="2" style="text-align:center"><span id="AlertDialogOkButton"></span><span id="ExtraButton"></span></td></tr></table--></div><script %CSP_NONCE_USAGE_ATTR% type="text/javascript" language="JavaScript">var g_fnAlertOKCallback=undefined;var ExtraButton,g_bAlertNoShow,g_sAlertNoShowCookie;InformationImg=new Image();InformationImg.src="%COMMON_FILE%Images/Information.png";WarnImg=new Image();WarnImg.src="%COMMON_FILE%Images/Warn.png";BlankImg=new Image();BlankImg.src="%COMMON_FILE%Images/blank.gif";BuildDialog("%PRODUCT%","AlertDialog","250","115","text-align:center","$CLOSE_CANCEL$");function AlertDialog(sText,bWarn,fn_OKCallback,bWebClientIcon,sExtraButtonText,fn_ExtraCallback,nWidth,nHeight,bAlertNoShow,sAlertNoShowCookie){WCBusyDialogImage=new Image();WCBusyDialogImage.src="%COMMON_FILE%Images/WebClient16.png";g_bAlertNoShow=false;g_sAlertNoShowCookie="";document.getElementById("AlertNoShowContainer").style.display="none";if(bWebClientIcon){document.getElementById("AlertDialogTitleIcon").src=WCBusyDialogImage.src;document.getElementById("AlertDialogTitleIcon").height="16";document.getElementById("AlertDialogTitleIcon").width="16";}if((sExtraButtonText!=undefined)&&(fn_ExtraCallback!=undefined)){ExtraButton=CreatePushButton(sExtraButtonText,"ExtraButton",function(){HideDialog("AlertDialog");fn_ExtraCallback();});document.getElementById("ExtraButton").style.display="";}else{document.getElementById("ExtraButton").style.display="none";ExtraButton=undefined;fn_ExtraCallback=undefined;}if(nWidth!=undefined){document.getElementById("AlertDialog").style.width=nWidth+"px";}else document.getElementById("AlertDialog").style.width="250px";if(bAlertNoShow&&sAlertNoShowCookie!=undefined){g_bAlertNoShow=true;g_sAlertNoShowCookie=sAlertNoShowCookie;document.getElementById("AlertNoShowContainer").style.display="block";}g_fnAlertOKCallback=fn_OKCallback;if(document.getElementById("AlertImage")!=undefined){if((bWarn!=undefined)&&(bWarn))sImage=WarnImg.src;else sImage=InformationImg.src;document.getElementById("AlertImage").src=sImage;}if((document.getElementById("AlertDialogText")!=undefined)&&(sText!=undefined))document.getElementById("AlertDialogText").innerHTML=sText;ShowDialog("AlertDialog");OKAlertButton.focus();}function WarnDialog(sText,bWebClientIcon){AlertDialog(sText,true,undefined,bWebClientIcon);}function OnAlertDialogOkay(){HideDialog("AlertDialog");if(g_fnAlertOKCallback!=undefined)g_fnAlertOKCallback();document.getElementById("AlertImage").src=BlankImg.src;g_fnAlertOKCallback=undefined;if(g_bAlertNoShow){if(AlertNoShowCheckBox.getControlValue())createCookie(g_sAlertNoShowCookie,"1",60);}}var OKAlertButton=CreatePushButton("$OK_BUTTON$","AlertDialogOkButton",OnAlertDialogOkay);var AlertNoShowCheckBox=CreateCheckBox("$DONT_SHOW_AGAIN$","AlertNoShowDialogCheckBox","AlertNoShowCheckBox");</script><div id="ConfirmDialoginner" style="display:none;overflow:hidden; text-overflow:ellipsis;"><table border="0" id="ConfirmDialogtable"><tr><td><img src="%COMMON_FILE%Images/QuestionMark.png" border="0" width="32" height="32" style="margin-right:8px"></td><td style="overflow:hidden; text-overflow:ellipsis;"><div id="ConfirmDialogText" style="width:200px;overflow-y:visible;overflow-x:auto;text-align:left;padding-left:2px;"></div></td></tr><tr><td colspan="2" style="text-align:center" id="ConfirmDialogbuttons"><span id="ConfirmDialogYesButton"></span><span id="ConfirmDialogNoButton"></span></td></tr></table></div><script %CSP_NONCE_USAGE_ATTR% type="text/javascript" language="JavaScript">BuildDialog("%PRODUCT%","ConfirmDialog","250","115","text-align:center","$CLOSE_CANCEL$");var g_sDeletingDialogTitle="$DELETING_DIALOG_TITLE$";var g_sConfirmDialog="ConfirmDialog";var g_fnYes=undefined,g_fnNo=undefined;var g_YesNoData=undefined;var g_bNoCloseDialog=false;var DEFAULT_CONFIRM_DIALOG_SIZE={WIDTH:"250px",HEIGHT:"115px"};function ConfirmDialog(sText,fnYes,fnNo,YesNoData,nWidth,nHeight,bDelete,bWebClientIcon,bNoCloseDialog,fnClose){var confirmDialog=document.getElementById("ConfirmDialog");var confirmDialogText=document.getElementById("ConfirmDialogText");var confirmDialogIcon=document.getElementById("ConfirmDialogTitleIcon");var dialogSize=getDialogSize(nWidth,nHeight);g_fnYes=g_fnNo=undefined;WCBusyDialogImage=new Image();WCBusyDialogImage.src="%COMMON_FILE%Images/WebClient16.png";if(bNoCloseDialog)g_bNoCloseDialog=true;else g_bNoCloseDialog=false;if(bWebClientIcon){confirmDialogIcon.src=WCBusyDialogImage.src;confirmDialogIcon.height="16";confirmDialogIcon.width="16";}if((confirmDialogText!=undefined)&&(sText!=undefined)){confirmDialogText.innerHTML=sText;}g_fnYes=fnYes;g_fnNo=fnNo;g_YesNoData=YesNoData;confirmDialog.style.width=dialogSize.width;confirmDialogText.style.width=(parseInt(dialogSize.width)-50)+"px";document.getElementById("ConfirmDialogBody").style.overflow="hidden";document.getElementById("ConfirmDialogBody").style.textOverflow="ellipsis";ShowDialog("ConfirmDialog",undefined,fnClose);if(bDelete)ConfirmDialogNoButton.focus();else ConfirmDialogYesButton.focus();}function getDialogSize(customWidth,customHeight){var dialogWidth=DEFAULT_CONFIRM_DIALOG_SIZE.WIDTH;var dialogHeight=DEFAULT_CONFIRM_DIALOG_SIZE.WIDTH;if(!!customWidth){dialogWidth=isWithUnits(customWidth)?customWidth:customWidth+"px";}if(!!customHeight){dialogHeight=isWithUnits(customHeight)?customHeight:customHeight+"px";}return{width:dialogWidth,height:dialogHeight};}function isWithUnits(size){return size.toString().match(/px|%|vh|vw|em|rem/);}function CloseConfirmDialog(){HideDialog("ConfirmDialog");}function OnConfirmDialogYes(){if(g_fnYes!=undefined){setTimeout(function(){g_fnYes(g_YesNoData);g_fnYes=g_fnNo=undefined;},200);}if(!g_bNoCloseDialog)CloseConfirmDialog();}function OnConfirmDialogNo(){if(g_fnNo!=undefined){setTimeout(function(){g_fnNo(g_YesNoData);g_fnYes=g_fnNo=undefined;},200);}CloseConfirmDialog();}var ConfirmDialogYesButton=CreatePushButton("$YES_BUTTON$","ConfirmDialogYesButton",OnConfirmDialogYes);ConfirmDialogYesButton.keypress(function(event){sYesButtonChar=ConfirmDialogYesButton.getControlText().charAt(0).toLowerCase();sNoButtonChar=ConfirmDialogNoButton.getControlText().charAt(0).toLowerCase();if(sYesButtonChar!=sNoButtonChar){var key=String.fromCharCode(event.keyCode||event.charCode);if(key.toLowerCase()==sYesButtonChar)OnConfirmDialogYes();else if(key.toLowerCase()==sNoButtonChar)OnConfirmDialogNo();}});ConfirmDialogYesButton.keyup(function(event){var code=event.keyCode||event.which;if(code=='9'){ConfirmDialogNoButton.focus();}});var ConfirmDialogNoButton=CreatePushButton("$NO_BUTTON$","ConfirmDialogNoButton",OnConfirmDialogNo);ConfirmDialogNoButton.keypress(function(event){sYesButtonChar=ConfirmDialogYesButton.getControlText().charAt(0).toLowerCase();sNoButtonChar=ConfirmDialogNoButton.getControlText().charAt(0).toLowerCase();if(sYesButtonChar!=sNoButtonChar){var key=String.fromCharCode(event.keyCode||event.charCode);if(key.toLowerCase()==sYesButtonChar)OnConfirmDialogYes();else if(key.toLowerCase()==sNoButtonChar)OnConfirmDialogNo();}});ConfirmDialogNoButton.keyup(function(event){var code=event.keyCode||event.which;if(code=='9'){ConfirmDialogYesButton.focus();}});</script><div id="TopPntToolTipDialog" style="width:220px;height:180px;" class="DialogLayer"><table id="TopPntToolTipDialogTitleBar" class="ToolTipDialogTitle" cellpadding="0" cellspacing="0"><tr><td colspan="3" class="TopPointer">&nbsp;</td></tr><tr><td class="ToolTipLeftCorner"><img src="%COMMON_FILE%Images/tooltip-left-top.png" width="27" height="23" border="0"></td><td class="TopPntToolTipHeadContainer"><div id="TopPntToolTipDialogTitleContainer" style="overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-left:5px;"><span id="TopPntToolTipDialogTitleText" style="font-weight:bold;">&nbsp;</span></div></td><td class="ToolTipRightCorner"><a href="javascript:HideDialog('TopPntToolTipDialog', true);"><img src="%COMMON_FILE%Images/tooltip-right-top.png" width="27" height="23" alt="$CLOSE_CANCEL$" border="0" onmouseover="javascript:this.src='%COMMON_FILE%Images/tooltip-right-top-over.png'" onmouseout="javascript:this.src='%COMMON_FILE%Images/tooltip-right-top.png'"></a></td></tr></table><div id="TopPntToolTipDialogBody" style="width:2px;" class="ToolTipDialogBody"><div style="padding:0 5px 0 5px;"><span id="TopPntToolTipDialogText"></span></div></div><table class="ToolTipFooter" cellpadding="0" cellspacing="0"><tr><td class="ToolTipLeftCornerBottom">&nbsp;</td><td class="ToolTipFooterFill">&nbsp;</td><td class="ToolTipRightCornerBottom">&nbsp;</td></tr></table></div><script type="text/javascript" language="JavaScript">var g_fnToolTipCallback=undefined;TPBubbleLoadingImg1=new Image();TPBubbleLoadingImg1.src="%COMMON_FILE%Images/tooltip-left-top.png";TPBubbleLoadingImg2=new Image();TPBubbleLoadingImg2.src="%COMMON_FILE%Images/tooltip-right-top.png";TPBubbleLoadingImg3=new Image();TPBubbleLoadingImg3.src="%COMMON_FILE%Images/tooltip-right-top-over.png";TPBubbleLoadingImg4=new Image();TPBubbleLoadingImg4.src="%COMMON_FILE%Images/Tooltip-bars-bg.png";TPBubbleLoadingImg5=new Image();TPBubbleLoadingImg5.src="%COMMON_FILE%Images/Tooltip-fill.png";function TopToolTipDialog(sTitle,sText,fn_CloseCallback,ToolTipPosObj,nWidth,nHeight,sCheckboxFunc,sResetId,xPointOffSet,yPointOffSet){if(fn_CloseCallback!=undefined)g_fnToolTipCallback=fn_CloseCallback;if((document.getElementById("TopPntToolTipDialogText")!=undefined)&&(sText!=undefined))document.getElementById("TopPntToolTipDialogText").innerHTML=sText;if((document.getElementById("TopPntToolTipDialogTitleText")!=undefined)&&(sTitle!=undefined))document.getElementById("TopPntToolTipDialogTitleText").innerHTML=sTitle;if(sCheckboxFunc!=undefined){sHideDialogFunction=String("HideDialog(");document.getElementById("TopPntToolTipDialogText").innerHTML+="<div style='padding-top:5px;'><input type='checkbox' value='noshow' onclick='"+sCheckboxFunc+sHideDialogFunction+"\"TopPntToolTipDialog\", true);'/> $DONT_SHOW_AGAIN$</div>";}ShowToolTipDialog('TopPntToolTipDialog',false,g_fnToolTipCallback,ToolTipPosObj,nWidth,nHeight,true,50,30,sResetId,xPointOffSet,yPointOffSet);var nWidthAdjust;nWidthAdjust=parseInt(document.getElementById("TopPntToolTipDialogBody").style.width);if(bIsOpera)document.getElementById("TopPntToolTipDialogBody").style.width=(nWidthAdjust).toString()+"px";}</script><script type="text/javascript" language="javascript">var g_bShowLimitsContextMenu=true;var awActiveGrid;var g_ActiveRezizeGrid;var g_nGridOffSet=379;var g_sPageType="Domain";var sEventObjectType="Domain";var g_bWebClientProLicense=("%CServer.%SERVER_ID%.WebClientProLicense%"!="0");var g_bBrandingRemovalLicense=("%CServer.%SERVER_ID%.BrandingRemovalLicense%"!="0");var g_ServerMfaConfig={TOTPProvisioning:DecodeString("%CDomain.%ID%.TOTPProvisioning%"),InitialTOTPProvisioning:DecodeString("%CDomain.%ID%.TOTPProvisioning%"),TOTPProvisioningDefault:DecodeString("%CDomain.%ID%.TOTPProvisioning.Default%"),IsTOTPProvisioningDefault:DecodeString("%CDomain.%ID%.TOTPProvisioning.IsDefault%"),TOTPCompanyName:DecodeString("%CDomain.%ID%.TOTPCompanyName%"),InitialTOTPCompanyName:DecodeString("%CDomain.%ID%.TOTPCompanyName%"),IsTOTPCompanyNameDefault:DecodeString("%CDomain.%ID%.TOTPCompanyName.IsDefault%"),TOTPCompanyNameDefault:DecodeString("%CDomain.%ID%.TOTPCompanyName.Default%")};var g_DomainMfaConfig={TOTPProvisioning:DecodeString("%CDomain.%ID%.TOTPProvisioning%"),InitialTOTPProvisioning:DecodeString("%CDomain.%ID%.TOTPProvisioning%"),TOTPProvisioningDefault:DecodeString("%CDomain.%ID%.TOTPProvisioning.Default%"),IsTOTPProvisioningDefault:DecodeString("%CDomain.%ID%.TOTPProvisioning.IsDefault%"),TOTPCompanyName:DecodeString("%CDomain.%ID%.TOTPCompanyName%"),InitialTOTPCompanyName:DecodeString("%CDomain.%ID%.TOTPCompanyName%"),IsTOTPCompanyNameDefault:DecodeString("%CDomain.%ID%.TOTPCompanyName.IsDefault%"),TOTPCompanyNameDefault:DecodeString("%CDomain.%ID%.TOTPCompanyName.Default%")};g_nServerSection="$SERVER_SECTION$";g_ActivePage=5;var AllowCreateParentDirCheck;var XMKDAllowCreateParentDirCheck;var NLSTAllowListFullPathCheck;var AllowListFullPathCheck;var AllowRecurseDirs;var NLSTAllowRecurseDirs;</script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/ObjectTable.js"></script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/BasicGrid.js"></script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/AdminGrid.js"></script>
<script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/Dialog.js"></script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/NaturalSort.js"></script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/FileList.js"></script><script type="text/javascript" language="JavaScript" src="%ADMIN_FILE%Include/Scripts/commonlogscripts.js"></script><script type="text/javascript" language="JavaScript" src="%ADMIN_FILE%Include/Scripts/DomainAttrLogScripts.js"></script><script type="text/javascript" language="JavaScript" src="%COMMON_FILE%Scripts/XMLHTTPRequest.js"></script><div id="BrowseDialogDiv" style="display:none;"></div><div id="FTPCommandDialogDiv" style="display:none;"></div><div id="NewCertificateDialogDiv" style="display:none;"></div><div id="NewPrivateKeyDialogDiv" style="display:none;"></div><div id="ViewCertificateDialogDiv" style="display:none;"></div><div id="LimitsDialoginner" style="display:none;"><form name="LimitForm" onsubmit="return (false);"><div style="display:inline;"><img alt="$LIMIT_LABEL$" src="%ADMIN_FILE%Images/Limits32.png" width="32" height="32" class="header-icon" style="padding-left:5px;"/>$LIMIT_EDIT_INFO$<div style='clear:both;height:5px;overflow:hidden;'></div></div><div style="float:left;width:$LIMIT_DIALOG_WIDTH$px;padding-left:5px;overflow:hidden;text-overflow:ellipsis;">$LIMIT_LABEL$:<br /><span id="LimitSelectCombo"></span><br /><div id="LimitCheckDiv" style="padding-top:12px;height:36px;"><span id="LimitCheckbox"></span></div><div id="LimitEditDiv" style="padding-top:8px;height:40px;vertical-align:top;"><div><span id="LimitEditInfo"></span></div><div style="clear:left;overflow:auto;line-height:16px;float:left;width:auto;"><span id="LimitEditInput"></span></div> <div style="float:left;width:auto;line-height:18px;padding-left:3px;"><span id="LimitEditLabel"></span></div><div style="clear:both;height:1px;overflow:hidden;">&nbsp;</div><input id="LimitEditValue" type="hidden" /></div><div id="LimitComboDiv" style="padding-top:8px;height:40px;"><span style="" id="LimitComboEditInfo"></span><br /><span id="LimitEditCombo"></span></div><div id="LimitBrowseDiv" style="padding-top:8px;height:45px;"><span id="LimitBrowseInfo"></span>	<br /><div style="overflow:auto"><span id="LimitBrowse"></span><span id="LimitBrowseButton"></span></div></div><div id="LimitAdvancedDiv" style="display:none;margin-bottom:5px;"><div id="LimitAdvancedGroup"><span id="LimitToTimeOfDay"></span><br /><div style="float:left;width:125px;">$LIMIT_START_TIME$:<br /><span id="LimitStartTime"></span><input type="hidden" id="StartTime" /></div><div style="float:left;width:125;">$LIMIT_END_TIME$:<br /><span id="LimitEndTime"></span><input type="hidden" id="EndTime" /></div></div><div id="LimitTODGroup"><div style="float:left;width:100px;"><span id="Monday"></span><br /><span id="Tuesday"></span><br /><span id="Wednesday"></span></div><div style="float:left;width:100px;"><span id="Thursday"></span><br /><span id="Friday"></span></div><div style="float:left;width:100px;"><span id="Saturday"></span><br /><span id="Sunday"></span></div></div></div><span id="LimitAdvancedButton"></span></div><div style="float:left;width:80px;"><span id="SaveLimitButton"></span><span id="CancelLimitButton"></span><br /><br /><span id="HelpLimitButton"></span></div><div style="clear:both;"></div></form></div><script type="text/javascript" language="javascript">var g_aDaysChecks=[];var g_bAdvancedShown=false,g_bEditLimit=false,g_bInitTimes=false;var g_aasAvailableLimits=[];var g_nCurrentLimit=0;var g_asLimitEditLabels=["","KB/$ACTIVITY_SEC_ABBREV$","$LIMIT_MINUTES$","$LIMIT_SESSIONS$","$DAYS$","$LIMIT_CHARACTERS$","$LIMIT_SFTP_VERSION$","KB"];var g_asTimes=[];var StartTimeCombo=undefined;var EndTimeCombo=undefined;BuildDialog("$LIMITS_DIALOG_TITLE$","LimitsDialog",($LIMIT_DIALOG_WIDTH$+100),"385","","$CLOSE_CANCEL$","Limits16.png");var LimitListCombo=CreateComboBox("","",[],[],"LimitSelectCombo","LimitSelectCombo",OnChangeLimitList,"",false,$LIMIT_SELECT_COMBO_WIDTH$,undefined,OnSaveLimit);var LimitCheckBox=CreateCheckBox("","LimitCheckbox","LimitCheckbox",true);var LimitEditBox=CreateInputField("","LimitEditInput","LimitEdit",undefined,60,undefined,true,OnSaveLimit);var LimitBrowse=CreateInputField("","LimitBrowse","LimitBrowse",undefined,355,undefined,false,OnSaveLimit);var LimitBrowseButton=CreatePushButton("","LimitBrowseButton",LoadDynamicContentAndRun,undefined,undefined,["%ADMIN_FILE%Include/BrowseDialog.htm?ID=%ID%","BrowseDialogDiv",String("OnBrowse("),[LimitBrowse,true,"0","0"]]);LimitBrowseButton.setControlImage("Browse");var LimitCombo=CreateComboBox("","",[],[],"LimitEditCombo","LimitEditCombo",undefined,"",false,385,undefined,OnSaveLimit);CreateGroupBox("$LIMIT_TIME_OF_DAY$","LimitAdvancedGroup",325,95);var LimitApplyTODCheck=CreateCheckBox("$LIMIT_APPLY_TOD$","LimitToTimeOfDay","Info_LimitToTimeOfDay",false,OnChangeApplyTOD);CreateGroupBox("$LIMIT_DAYS_OF_WEEK$","LimitTODGroup",325,95);g_aDaysChecks.push(CreateCheckBox("$DAY_MONDAY$","Monday","Info_Monday",true,undefined,true));g_aDaysChecks.push(CreateCheckBox("$DAY_TUESDAY$","Tuesday","Info_Tuesday",true,undefined,true));g_aDaysChecks.push(CreateCheckBox("$DAY_WEDNESDAY$","Wednesday","Info_Wednesday",true,undefined,true));g_aDaysChecks.push(CreateCheckBox("$DAY_THURSDAY$","Thursday","Info_Thursday",true,undefined,true));g_aDaysChecks.push(CreateCheckBox("$DAY_FRIDAY$","Friday","Info_Friday",true,undefined,true));g_aDaysChecks.push(CreateCheckBox("$DAY_SATURDAY$","Saturday","Info_Saturday",true,undefined,true));g_aDaysChecks.push(CreateCheckBox("$DAY_SUNDAY$","Sunday","Info_Sunday",true,undefined,true));var LimitsAdvancedButton=CreatePushButton("$ADVANCED_BUTTON$ &gt;&gt;","LimitAdvancedButton",OnLimitAdvanced);var SaveLimitsButton=CreateDialogPushButton("$SAVE_BUTTON$","SaveLimitButton",OnSaveLimit);CreateDialogPushButton("$CANCEL_BUTTON$","CancelLimitButton",OnCancelLimit);CreateDialogPushButton("$HELP_BUTTON$","HelpLimitButton",OnLimitHelp);function OnChangeDirListMask(){var sVal=this.getControlText().toLowerCase(),sMask="rwxrwxrwx";if(sVal=="")sVal="rw-rw-rw-";if(sVal.length<9){while(sVal.length<9)sVal+=" ";}else sVal=sVal.substring(0,9);for(var nIndex=0;nIndex<sVal.length;nIndex++){if(!((sVal[nIndex]==sMask[nIndex])||(sVal[nIndex]=='-')))sVal=sVal.substr(0,nIndex)+sMask[nIndex]+sVal.substr(nIndex+1);}this.setControlText(sVal);}function OnLimitLoad(aasLimits,bEdit){if(g_sPageType=="users"){if(g_nActiveUserOrg==g_nODBCUserOrg){document.getElementById("LimitAdvancedDiv").style.display="none";document.getElementById("LimitAdvancedButton").style.display="none";}else document.getElementById("LimitAdvancedButton").style.display="block";}else if(g_sPageType=="group"){if(g_sActiveGroupType=="ODBCGroups"){document.getElementById("LimitAdvancedDiv").style.display="none";document.getElementById("LimitAdvancedButton").style.display="none";}else document.getElementById("LimitAdvancedButton").style.display="block";}var asLabels=[],asValues=[];g_aasAvailableLimits.length=0;g_nCurrentLimit=0;g_bEditLimit=bEdit;for(var nIndex=0;nIndex<aasLimits.length;nIndex++){asLabels.push(aasLimits[nIndex][0]);asValues.push(nIndex.toString());g_aasAvailableLimits.push(aasLimits[nIndex].slice(0));}LimitListCombo.setItemText(asLabels);LimitListCombo.setItemValue(asValues);LimitListCombo.setItemCount(asLabels.length);if(asLabels.length>1)LimitListCombo.getPopupTemplate().setStyle("height",(asLabels.length<=10)?((16*asLabels.length)+((AW.ie)?3:0))+"px":"163px");else if(asLabels.length==1)LimitListCombo.getPopupTemplate().setStyle("height",((g_bFireFox4Browser)?"24px":"20px"));if(!g_bInitTimes){var nTemp=0;while(nTemp<86400000){g_asTimes.push(FormatTODTime(nTemp));nTemp+=1800000;}StartTimeCombo=CreateComboBox(g_asTimes[0],"",g_asTimes,[],"LimitStartTime","LimitStartTime",undefined,"",false,115,undefined,undefined,true);EndTimeCombo=CreateComboBox(g_asTimes[g_asTimes.length-1],"",g_asTimes,[],"LimitEndTime","LimitEndTime",undefined,"",false,115,undefined,undefined,true);g_bInitTimes=true;}if(g_bDefaultLimitAdd){var anSelectedRows=LimitsList.getSelectedRows();sLimitName=GetLimitInfo(anSelectedRows[0])[0];for(var nIndex=0;nIndex<LimitListCombo.getItemCount();nIndex++){if(LimitListCombo.getItemText(nIndex)==sLimitName){LimitListCombo.setSelectedItems([nIndex]);LimitListCombo.setControlText(LimitListCombo.getItemText(nIndex));OnChangeLimitList(nIndex.toString(),true);break;}}}else{LimitListCombo.setSelectedItems([0]);LimitListCombo.setControlText(LimitListCombo.getItemText(0));OnChangeLimitList("0",true);}}function OnChangeLimitList(sValue,bUpdateTOD){g_nCurrentLimit=parseInt(sValue);if((!isNaN(g_nCurrentLimit))&&(g_nCurrentLimit<g_aasAvailableLimits.length)){if(g_aasAvailableLimits[g_nCurrentLimit][1]=="0"){document.getElementById("LimitCheckDiv").style.display="block";document.getElementById("LimitEditDiv").style.display="none";document.getElementById("LimitComboDiv").style.display="none";document.getElementById("LimitBrowseDiv").style.display="none";LimitCheckBox.setControlText(g_aasAvailableLimits[g_nCurrentLimit][0]);LimitCheckBox.setChecked((g_aasAvailableLimits[g_nCurrentLimit][2]=="1")?true:false);}else if(g_aasAvailableLimits[g_nCurrentLimit][1]=="8"){document.getElementById("LimitCheckDiv").style.display="none";document.getElementById("LimitEditDiv").style.display="none";document.getElementById("LimitComboDiv").style.display="block";document.getElementById("LimitBrowseDiv").style.display="none";var asComboValues=[];var LimitSelectedItem=0;if(g_aasAvailableLimits[g_nCurrentLimit][9]=="HTTPLoginPageDefaultLanguage"){var sLimitLang=decodeURIComponent(g_aasAvailableLimits[g_nCurrentLimit][2]);asComboValues=g_asLangVals;for(var nIndex=0;nIndex<g_asLimitComboStrings[g_aasAvailableLimits[g_nCurrentLimit][9]].length;nIndex++){if(sLimitLang==asComboValues[nIndex]){LimitSelectedItem=nIndex;break;}}}else{for(var nIndex=0;nIndex<g_asLimitComboStrings[g_aasAvailableLimits[g_nCurrentLimit][9]].length;nIndex++){asComboValues.push(nIndex.toString());}LimitSelectedItem=g_aasAvailableLimits[g_nCurrentLimit][2];}LimitCombo.setItemText(g_asLimitComboStrings[g_aasAvailableLimits[g_nCurrentLimit][9]]);LimitCombo.setItemValue(asComboValues);LimitCombo.setItemCount(asComboValues.length);if(asComboValues.length>1)LimitCombo.getPopupTemplate().setStyle("height",(asComboValues.length<=10)?((16*asComboValues.length)+((AW.ie)?3:0))+"px":"163px");else if(asComboValues.length==1)LimitCombo.getPopupTemplate().setStyle("height",((g_bFireFox4Browser)?"24px":"20px"));LimitCombo.setSelectedItems([LimitSelectedItem]);LimitCombo.setControlText(LimitCombo.getItemText(parseInt(LimitSelectedItem)));document.getElementById("LimitComboEditInfo").innerHTML=g_aasAvailableLimits[g_nCurrentLimit][0];}else if(g_aasAvailableLimits[g_nCurrentLimit][1]=="9"){var nDefaultVal=decodeURIComponent(g_aasAvailableLimits[g_nCurrentLimit][2]);document.getElementById("LimitCheckDiv").style.display="none";document.getElementById("LimitEditDiv").style.display="none";document.getElementById("LimitComboDiv").style.display="none";document.getElementById("LimitBrowseDiv").style.display="block";LimitBrowse.setControlText(String(nDefaultVal));}else{var nScale=parseInt(g_aasAvailableLimits[g_nCurrentLimit][3]);var nDefaultVal=parseInt(g_aasAvailableLimits[g_nCurrentLimit][2]);document.getElementById("LimitEditDiv").style.display="block";document.getElementById("LimitCheckDiv").style.display="none";document.getElementById("LimitComboDiv").style.display="none";document.getElementById("LimitBrowseDiv").style.display="none";document.getElementById("LimitEditInfo").innerHTML=g_aasAvailableLimits[g_nCurrentLimit][0];var sEditLabelsText="";if(g_asLimitEditLabels[g_aasAvailableLimits[g_nCurrentLimit][1]]!=undefined)sEditLabelsText=g_asLimitEditLabels[g_aasAvailableLimits[g_nCurrentLimit][1]];else if(g_aasAvailableLimits[g_nCurrentLimit][1]=="12")sEditLabelsText="MB";if(g_aasAvailableLimits[g_nCurrentLimit][1]=="13")sEditLabelsText="$LIMIT_SECONDS$";document.getElementById("LimitEditLabel").innerHTML=sEditLabelsText;if(g_aasAvailableLimits[g_nCurrentLimit][9]=="DirListingMask"){LimitEditBox.setStyle("width","80px");LimitEditBox.getContent('box/text').setStyle('text-align','left');LimitEditBox.setControlText(g_aasAvailableLimits[g_nCurrentLimit][2]);LimitEditBox.onControlEditEnded=OnChangeDirListMask;}else if(g_aasAvailableLimits[g_nCurrentLimit][9]=="FileOwner"||g_aasAvailableLimits[g_nCurrentLimit][9]=="FileGroup"){LimitEditBox.setStyle("width","80px");LimitEditBox.getContent('box/text').setStyle('text-align','left');LimitEditBox.setControlText(decodeURIComponent(g_aasAvailableLimits[g_nCurrentLimit][2]));LimitEditBox.onControlEditEnded=function(){return(false);};}else{LimitEditBox.setStyle("width","60px");LimitEditBox.getContent('box/text').setStyle('text-align','right');LimitEditBox.onControlEditEnded=function(){return(false);};LimitEditBox.setControlText(String(nDefaultVal/nScale));}}if(bUpdateTOD)LoadLimitTODValues(g_aasAvailableLimits[g_nCurrentLimit].slice(4));if(g_sPageType=="users"){if(g_nActiveUserOrg==g_nODBCUserOrg){document.getElementById("LimitAdvancedDiv").style.display="none";document.getElementById("LimitAdvancedButton").style.display="none";}else document.getElementById("LimitAdvancedButton").style.display="block";}else if(g_sPageType=="group"){if(g_sActiveGroupType=="ODBCGroups"){document.getElementById("LimitAdvancedDiv").style.display="none";document.getElementById("LimitAdvancedButton").style.display="none";}else document.getElementById("LimitAdvancedButton").style.display="block";}if(g_aasAvailableLimits[g_nCurrentLimit][9]=="PasswordType"){document.getElementById("LimitAdvancedDiv").style.display="none";document.getElementById("LimitAdvancedButton").style.display="none";LimitsAdvancedButton.setControlText("$ADVANCED_BUTTON$ &gt;&gt;");}else document.getElementById("LimitAdvancedButton").style.display="block";if(g_aasAvailableLimits[g_nCurrentLimit][9]=="AllowHTTPIPAddressChange"){setTimeout(function(){HideDialog("AlertDialog");AlertDialog("$ALLOW_HTTP_CHANGE_LIMIT_WARN$",true);},0);}}}function LoadLimitTODValues(asTODValues){var bDayOfWeekChanged=false;LimitApplyTODCheck.setControlValue(asTODValues[0]=="1");StartTimeCombo.setControlText(FormatTODTime(asTODValues[1]));EndTimeCombo.setControlText(FormatTODTime(asTODValues[2]));for(var nIndex=0;nIndex<asTODValues[3].length;nIndex++){g_aDaysChecks[nIndex].setControlValue(asTODValues[3].charAt(nIndex)=="1");if(asTODValues[3].charAt(nIndex)!="1")bDayOfWeekChanged=true;}if(asTODValues[0]=="1"||bDayOfWeekChanged)g_bAdvancedShown=false;else g_bAdvancedShown=true;setTimeout(function(){OnLimitAdvanced();});}function OnLimitAdvanced(){if(g_bAdvancedShown=(!g_bAdvancedShown)){document.getElementById("LimitAdvancedDiv").style.display="block";LimitsAdvancedButton.setControlText("$ADVANCED_BUTTON$ &lt;&lt;");}else{document.getElementById("LimitAdvancedDiv").style.display="none";LimitsAdvancedButton.setControlText("$ADVANCED_BUTTON$ &gt;&gt;");}}function OnChangeApplyTOD(CheckBox){var bDisable=(!CheckBox.getControlValue());StartTimeCombo.SetDisabled(bDisable);EndTimeCombo.SetDisabled(bDisable);}function GetLimitTODValue(AWCtrl){var sText=AWCtrl.getControlText(),sTemp="";var nRet=-1,nHours=-1,nMinutes=-1;while(sText.charAt(0)==" ")sText=sText.substring(1);while(sText.charAt(sText.length-1)==" ")sText=sText.substring(0,sText.length-1);sTemp=sText.substring(0,sText.indexOf(":"));if(sTemp.length){if((sTemp.length>1)&&(sTemp.charAt(0)=="0"))sTemp=sTemp.substring(1);nHours=parseInt(sTemp);}sTemp=sText.substr(sText.indexOf(":")+1,2);if(sTemp.length==2){if(sTemp.charAt(0)=="0")sTemp=sTemp.substring(1);nMinutes=parseInt(sTemp);}if((sText.indexOf("$TIME_PM$")>0)&&(nHours>=0))nHours+=12;else if(nHours==12)nHours=0;if((nHours>=0)&&(nMinutes>=0))nRet=((nHours*60)+nMinutes)*60000;return(nRet);}function LimitTODsOkay(){return((GetLimitTODValue(StartTimeCombo)>=0)&&(GetLimitTODValue(EndTimeCombo)>=0));}function OnSaveLimit(){var bApplyTOD=LimitApplyTODCheck.getControlValue();if((bApplyTOD)&&(!LimitTODsOkay()))AlertDialog("$LIMIT_INVALID_TOD$");else{var SaveLimitRequest=undefined;if(g_bEditLimit)SaveLimitRequest=CreatePostRequest("%ADMIN_FILE%XML/Result.xml%UPDATE_OBJECT_REF%CSessionAttrs."+g_EditObjectID+"."+g_aasAvailableLimits[g_nCurrentLimit][9]+"."+g_aasAvailableLimits[g_nCurrentLimit][8]);else SaveLimitRequest=CreatePostRequest("%ADMIN_FILE%XML/Result.xml%ADD_OBJECT_REF%CSessionAttrs."+g_EditObjectID+"."+g_aasAvailableLimits[g_nCurrentLimit][9]);if(SaveLimitRequest){SavingDialog(true);if(g_aasAvailableLimits[g_nCurrentLimit][1]=="0")SaveLimitRequest.setParameter("Value",(LimitCheckBox.getControlValue())?"1":"0");else if(g_aasAvailableLimits[g_nCurrentLimit][1]=="8")SaveLimitRequest.setParameter("Value",LimitCombo.getItemValue(LimitCombo.getSelectedItems()));else if(g_aasAvailableLimits[g_nCurrentLimit][1]=="9")SaveLimitRequest.setParameter("Value",LimitBrowse.getControlText());else if(g_aasAvailableLimits[g_nCurrentLimit][1]=="11"||g_aasAvailableLimits[g_nCurrentLimit][1]=="10")SaveLimitRequest.setParameter("Value",LimitEditBox.getControlText());else SaveLimitRequest.setParameter("Value",(parseInt(LimitEditBox.getControlText())*parseInt(g_aasAvailableLimits[g_nCurrentLimit][3])));for(var nIndex=0;nIndex<g_aDaysChecks.length;nIndex++)SaveLimitRequest.setParameter(g_aDaysChecks[nIndex].getAttribute("AttrName").replace("Info_",""),(g_aDaysChecks[nIndex].getControlValue())?"1":"0");SaveLimitRequest.setParameter("LimitToTimeOfDay",(bApplyTOD)?"1":"0");if(bApplyTOD){SaveLimitRequest.setParameter("StartTime",GetLimitTODValue(StartTimeCombo));SaveLimitRequest.setParameter("EndTime",GetLimitTODValue(EndTimeCombo));}SaveLimitRequest.response=function(){if(OnSaveComplete(this)==0){HideDialog('LimitsDialog');if(g_aasAvailableLimits[g_nCurrentLimit][9]=="PasswordType")setTimeout("OnOKPassWordChange()");if(g_aasAvailableLimits[g_nCurrentLimit][9]=="RequireEmailAddressSet")setTimeout("OnOKRequireEmailChange()");LimitsList.ForceUpdate();}};SaveLimitRequest.request(null);}}return(false);}function OnOKRequireEmailChange(){AlertDialog("$REQUIRE_CHANGE_EMAIL_WARN$");}function OnOKPassWordChange(){AlertDialog("$PASSWORD_INVALIDATED$");}function OnCancelLimit(){HideDialog('LimitsDialog');}function OnLimitHelp(){LaunchHelp("Help-Limits-Settings-Domain.htm","Item5_4");}</script><div id="RatioFreeFileDialoginner" style="display:none;"><div id="RatioFreeFileContent" style="width:500px"><div class="layercontent"><div style="display:inline;"><img alt="$RATIO_FREE_FILE_DIALOG_TITLE$" src="%ADMIN_FILE%Images/Database32.png" width="32" height="32" class="header-icon" />$RATIO_FREE_FILE_INFO$<div style='clear:both;height:5px;overflow:hidden;'></div></div><span id="RatioFreeFileList"></span><table style="padding-top:5px;width:100%"><tr><td><span id="AddFreeFileButton"></span><span id="EditFreeFileButton"></span><span id="RemoveFreeFileButton"></span></td><td style="text-align:right;"><span id="CloseFreeFileButton"></span><span id="HelpFreeFileButton"></span></td></tr></table></div></div></div><script type="text/javascript" language="javascript">BuildDialog("$RATIO_FREE_FILE_DIALOG_TITLE$","RatioFreeFileDialog","520","442","","$CLOSE_CANCEL$");</script><div id="RatioFreeFileEditDialoginner" style="display:none;"><form name="RatioFreeFileForm" onsubmit="return (false);"><table border="0" class="DialogTable"><tr><td style="width:300px;vertical-align:top;">$FREE_FILE_PATH$:<div style="overflow:auto"><span id="Mask"></span> <span id="BrowseButtonFreeFileMask"></span></div></td><td style="text-align:right;vertical-align:top;padding-right:5px;" ><span id="SaveRatioFreeFileButton"></span><br /><span id="CancelRatioFreeFileButton"></span><br /><br /><span id="RatioFreeFileHelpButton"></span></td></tr></table></form></div><script type="text/javascript" language="javascript">BuildDialog("$RATIO_FREE_FILE_EDIT_DIALOG_TITLE$","RatioFreeFileEditDialog","410","140","","$CLOSE_CANCEL$");function OnEditRatioFreeFiles(){if(awActiveGrid!=undefined)awActiveGrid.EnableUpdates(false);RatioFreeFilesList.EnableUpdates(true,"%OBJECT_EDIT_ID%","%ID%");ShowDialog("RatioFreeFileDialog",undefined,function(){RatioFreeFilesList.EnableUpdates(false);if(awActiveGrid!=undefined)awActiveGrid.EnableUpdates(true);});}var RatioFreeFilesList=CreateAdminGrid("RatioFreeFileList",["$FREE_FILE_PATH$"],[475],"RatioFreeFiles.xml?ID=%OBJECT_EDIT_ID%","freefiles","freefile",2,OnEditRatioFreeFile);CreatePushButton("$ADD_BUTTON$...","AddFreeFileButton",OnAddRatioFreeFile);CreatePushButton("$EDIT_BUTTON$...","EditFreeFileButton",OnEditRatioFreeFile);CreatePushButton("$DELETE_BUTTON$","RemoveFreeFileButton",OnDeleteRatioFreeFile);CreatePushButton("$CLOSE_BUTTON$","CloseFreeFileButton",function(){HideDialog("RatioFreeFileDialog");});CreatePushButton("$HELP_BUTTON$","HelpFreeFileButton",OnRatioFreeFileHelp);function OnRatioFreeFileLoad(Grid,XMLTable){var aNodes=[];var aNodesResultTxt=[];var sVal="";var sResultTextVal="";if((aNodes=XMLTable.GetCollectionByAttrib("var","name","Result"))&&(aNodes.length)&&((sVal=XMLTable.GetNodeValue(aNodes[0],"val"))!="0")){aNodesResultTxt=XMLTable.GetCollectionByAttrib("var","name","ResultText");sResultTextVal=XMLTable.GetNodeValue(aNodesResultTxt[0],"val");HideDialog("RatioFreeFileEditDialog");AlertDialog(GetResultText(0,"",sResultTextVal),true);}}function OnAddRatioFreeFile(){RatioFreeFilesList.OnAddObject("RatioFreeFile.xml%DEFAULT_OBJECT_REF%CDomain."+"%ID%"+".UlDlRatioFreeFile","Result.xml%ADD_OBJECT_REF%CDomain."+"%ID%"+".UlDlRatioFreeFile",document.RatioFreeFileForm,"RatioFreeFileEditDialog",[OnRatioFreeFileLoad],g_bReadOnlyAccess);}function OnEditRatioFreeFile(){RatioFreeFilesList.OnEditObject("RatioFreeFile.xml","Result.xml%UPDATE_OBJECT_REF%CDomain."+"%ID%"+".UlDlRatioFreeFile.",document.RatioFreeFileForm,"RatioFreeFileEditDialog","$SELECT_ONLY_ONE_RATIO_FREE_FILE_EDIT$","$SELECT_ONE_RATIO_FREE_FILE_EDIT$");}function OnDeleteRatioFreeFile(){RatioFreeFilesList.OnDeleteObject("Result.xml%DELETE_OBJECT_REF%CDomain."+"%ID%"+".UlDlRatioFreeFile&ID=%ID%","$ASK_DELETE_RATIO_FREE_FILE$","$SELECT_RATIO_FREE_FILE_DELETE$");}var FreeFileInput=CreateInputField("","Mask","Mask","",260,undefined,undefined,OnSaveRatioFreeFile);CreateDialogPushButton("$SAVE_BUTTON$","SaveRatioFreeFileButton",OnSaveRatioFreeFile);CreateDialogPushButton("$CANCEL_BUTTON$","CancelRatioFreeFileButton",OnCancelRatioFreeFile);CreateDialogPushButton("$HELP_BUTTON$","RatioFreeFileHelpButton",OnRatioFreeFileHelp);var FreeFileMaskBrowse=CreatePushButton("","BrowseButtonFreeFileMask",LoadDynamicContentAndRun,undefined,undefined,["%ADMIN_FILE%Include/BrowseDialog.htm?ID=%ID%","BrowseDialogDiv",String("OnBrowse("),[FreeFileInput,false,"0","0"]]);FreeFileMaskBrowse.setControlImage("Browse");function OnSaveRatioFreeFile(){if(FreeFileInput.getControlText()!="")RatioFreeFilesList.OnSaveObject();else AlertDialog("$FREE_FILE_MASK_EMPTY$");return(false);}function OnCancelRatioFreeFile(){HideDialog("RatioFreeFileEditDialog");}function OnRatioFreeFileHelp(){LaunchHelp("Help-User-Quotas-Ratios.htm",g_sHelpNode);}</script><form id="myform"><div id="SMTPTestingDialoginner" style="display:none;"><div id="SMTPTestingContent" class="tabs-content"><div id="SMTPTestingSendData"><div style="padding: 0 0 5px 5px;"><span id="SMTPToAddrsError" class="Hidden"><label id='ErrorAddrLabel' class="Error" style="font-size: 12px;"> $SMTP_PARAMETER_ERROR$</label> <br /></span>$EVENTS_EMAIL_SUBJECT_LABEL$: <br /><span id="SMTPTestSubjectInput"></span> <br /><div style="padding-top:5px;clear:both;">$EVENTS_EMAIL_BODY_LABEL$:</div><div style="overflow:auto;clear:both;"><textarea name="SMTPTestMessageInput" id="SMTPTestMessageInput" class="aw-border" style="width:395px;height:75px;"></textarea></div><div style="padding-top:5px;clear:both;"><label id="SMTPToAddressLabel">$SMTP_TO_ADDRESS_LABEL$:</label><br /></div><div style="overflow:auto"><span id="SMTPTestToAddressInput"></span><br /></div></div></div></div><div style="text-align:right;padding:10px 20px 0 0;"><span id="SendSMTPTestDataButton"></span><span id="CancelSMTPTestingButton"></span></div></div></form><script type="text/javascript" language="javascript">BuildDialog("$SMTP_TESTING_TITLE$","SMTPTestingDialog","430","675","","$CLOSE_CANCEL$","Email16.png");function OnSMTPTesting(){ShowDialog("SMTPTestingDialog");}function OnCancelSMTPTesting(){HideDialog("SMTPTestingDialog");}function ShowAlertSMTPParametersDialog(sLabel){var sRequiredField="$SMTP_REQUIRED_FIELD$";sRequiredField=sRequiredField.replace("$Label",sLabel);AlertDialog(sRequiredField,true);return false;}function IsSMTPToAddressValid(sToAddress){var SMTPToAddr=document.getElementById('SMTPToAddressLabel');var errorLbl=document.getElementById('SMTPToAddrsError');var nRet=false;if(!IsValidEmailAddressString(sToAddress)){SMTPToAddr.setAttribute("class","Error");errorLbl.removeAttribute("class","Hidden");nRet=false;}else{SMTPToAddr.removeAttribute("class","Error");errorLbl.setAttribute("class","Hidden");nRet=true;}return nRet;}function OnNoResponse(){BusyDialog(false);AlertDialog("$SESS_SMTP_NO_RESPONSE$",true,undefined,undefined,"$CANCEL_BUTTON$",OnCancelSMTPTesting);}function OnRecieveResponse(XMLDoc,bSsl){var SESS_SMTP_TIMEOUT=55;var SESS_INVALID_PARAMETER=4;var SESS_SMTP_CONNECTION_ERROR=50;var SMTP_COMMUNICATION_FAILED=54;BusyDialog(false);var nResult=GetXMLValueInt(XMLDoc,"result");var sResultText=GetXMLValue(XMLDoc,"ResultText");var sSMTPResultText=GetXMLValue(XMLDoc,"SMTPServerResponse");if(nResult==0){AlertDialog("$SMTP_CONFIGURATION_SUCCESS$",undefined,OnSaveSMTPConfig,undefined,"$NO_BUTTON$",OnCancelSMTPTesting);}else if(nResult==SMTP_COMMUNICATION_FAILED){var sResultDetails="$SESS_SMTP_UNSPECIFIED_ERROR$";OnSMTPShowLogs(sResultText,sResultDetails);}else if(nResult==SESS_SMTP_TIMEOUT&&bSsl==0){var sResultDetails="$SMTP_TIMEOUT_SSL_ERROR$";OnSMTPShowLogs(sResultText,sResultDetails);}else if((typeof sSMTPResultText!='undefined')&&(sSMTPResultText!="%SMTP_RESULT_TEXT%")){var sResultHint;if(nResult==SESS_SMTP_CONNECTION_ERROR&&bSsl==1&&(sSMTPResultText.indexOf("SSL Error:")>-1)){sResultHint="$SMTP_CONNECTION_SSL_ERROR$";}var sFinalResult;sFinalResult=sSMTPResultText+"\n\n";if(typeof sResultHint!='undefined'){sFinalResult+=sResultHint+"\n";}OnSMTPShowLogs(sResultText,sFinalResult);}else{AlertDialog(sResultText,true,undefined,undefined);}}function SendTestSMTPMail(sSMTPServerIP,sSMTPServerPort,sSMTPFromAddress,sSMTPFromName,sSMTPToAddress,bSMTPRequiredLogin,sSMTPAccountName,sSMTPPassword,bSMTPSsl,bSMTPUseSslCertificate,bSMTPUseExplicitSSL,sSMTPSubject,sSMTPMessage){var WAITING_RESPONSE_TIME_MS=100000;var sTestSMTPCmd="%ADMIN_FILE%XML/SMTPResult.xml%OBJECT_COMMAND_REF%CDomain.%ID%.CheckingSMTPConfiguration";var TestSMTPRequest=CreatePostRequest(sTestSMTPCmd);var SMTPNoResponseTimeOut;TestSMTPRequest.setParameter("SMTPServer",sSMTPServerIP);TestSMTPRequest.setParameter("SMTPServerPort",sSMTPServerPort);TestSMTPRequest.setParameter("SMTPFromAddress",sSMTPFromAddress);TestSMTPRequest.setParameter("SMTPFromName",sSMTPFromName);TestSMTPRequest.setParameter("SMTPSSL",bSMTPSsl);TestSMTPRequest.setParameter("SMTPUseSSLCertificate",bSMTPUseSslCertificate);TestSMTPRequest.setParameter("SMTPUseExplicitSSL",bSMTPUseExplicitSSL);TestSMTPRequest.setParameter("SMTPToAddress",sSMTPToAddress);TestSMTPRequest.setParameter("SMTPSubject",sSMTPSubject);TestSMTPRequest.setParameter("SMTPMessage",sSMTPMessage);TestSMTPRequest.setParameter("SMTPRequiresLogin",bSMTPRequiredLogin);if(bSMTPRequiredLogin==1){TestSMTPRequest.setParameter("SMTPAccountName",sSMTPAccountName);TestSMTPRequest.setParameter("SMTPPassword",sSMTPPassword);}TestSMTPRequest.request();BusyDialog(true,"$SENDING_EMAIL_BUSY_DIALOG$");SMTPNoResponseTimeOut=setTimeout(OnNoResponse,WAITING_RESPONSE_TIME_MS);TestSMTPRequest.response=function(XMLDoc){clearTimeout(SMTPNoResponseTimeOut);OnRecieveResponse(XMLDoc,bSMTPSsl);};}function OnGetSMTPTestingData(){var requiresLogin,server,port,accountName,password,fromAddress,fromName,ssl,useSslCert,useExplicitSSL,toAddress;var smtpTestSubject,smtpTestMessage,smtpTestToAddress;smtpTestSubject=SMTPTestSubjectInput.getControlText();smtpTestMessage=SMTPTestMessageInput.value;smtpTestToAddress=SMTPTestToAddressInput.getControlText();requiresLogin=((SMTPRequireLoginCheckbox.getControlValue())?"1":"0");server=Trim(SMTPServerCombo.getControlText());port=SMTPPortCombo.getControlText();accountName=SMTPAccountNameCombo.getControlText();password=SMTPPasswordCombo.getControlText();fromAddress=SMTPFromAddressCombo.getControlText();fromName=SMTPFromNameCombo.getControlText();ssl=((SMTPRequiresSSLCheckbox.getControlValue())?"1":"0");useSslCert=((SMTPUseSSLCertCheckbox.getControlValue())?"1":"0");useExplicitSSL=((SMTPUseExplicitSSLCheckbox.getControlValue())?"1":"0");if(IsSMTPToAddressValid(smtpTestToAddress)){SendTestSMTPMail(server,port,fromAddress,fromName,smtpTestToAddress,requiresLogin,accountName,password,ssl,useSslCert,useExplicitSSL,smtpTestSubject,smtpTestMessage);OnCancelSMTPTesting();}}function OnAdressChanged(){var SMTPToAddr=document.getElementById('SMTPToAddressLabel');IsSMTPToAddressValid(this.getControlText());}var SMTPTestSubjectInput=CreateInputField("$SMTP_TEST_EMAIL_SUBJECT$","SMTPTestSubjectInput","SMTPTestSubject",undefined,400);var SMTPTestToAddressInput=CreateInputField("","SMTPTestToAddressInput","SMTPTestToAddress",OnAdressChanged,400);var SMTPMsgBody=document.getElementById('SMTPTestMessageInput');SMTPMsgBody.value="$SMTP_TEST_EMAIL_BODY$";CreateDialogPushButton("$SEND_BUTTON$","SendSMTPTestDataButton",OnGetSMTPTestingData);CreateDialogPushButton("$CANCEL_BUTTON$","CancelSMTPTestingButton",OnCancelSMTPTesting);</script><div id="LogDialoginner" style="display:none;"><div style="margin:0 5px 0 5px;"><div id="logwindow" class="SpyLogScroll"><div id="log" style="width:100%;"></div></div><span id="CloseLog"></span></div></div><script type="text/javascript" language="javascript">var g_sAttrLogObjectType="Domain";var g_nAttrLogObjectId=%ID%;var g_sFilterLogText="";var g_GridToReload;BuildDialog("$LOG_DIALOG_TITLE$","LogDialog","775","300","","$CLOSE_CANCEL$");function OnShowLogDialog(){g_GridToReload=undefined;try{if(awActiveGrid!=undefined&&awActiveGrid.m_bUpdates)g_GridToReload=awActiveGrid;}catch(e){try{if(g_ActiveRezizeGrid!=undefined&&g_ActiveRezizeGrid.m_bUpdates)g_GridToReload=g_ActiveRezizeGrid;}catch(e){try{if(awSecondaryActiveGrid!=undefined&&awSecondaryActiveGrid.m_bUpdates)g_GridToReload=awSecondaryActiveGrid;}catch(e){g_GridToReload=undefined;}}}if(g_GridToReload!=undefined)
g_GridToReload.EnableUpdates(false);InitDomainAttrLog();FreezeDomainAttrLog(false);ShowDialog("LogDialog",undefined,ResetLogDialog);}function ResetLogDialog(){if(g_GridToReload!=undefined)g_GridToReload.EnableUpdates(true);FreezeDomainAttrLog(true);document.getElementById("log").innerHTML="";}function OnOkViewLog(){HideDialog('LogDialog');}CreateDialogPushButton("$CLOSE_BUTTON$","CloseLog",OnOkViewLog);InitLog("log","",0);</script><div id="SMTPErrorDialoginner" style="display:none;"><div id="SMTPTErrorContent" class="tabs-content"><div id="SMTPErrors"><div style="padding: 0 0 5px 5px;"><label id="ErrorLabel"></label><div style="padding-top:5px;clear:both;">$SMTP_ERROR_DETAILS$:</div><div style="overflow:auto;clear:both;"><textarea name="SMTPLogsInput" id="SMTPLogsInput" class="aw-border" style="width:395px;height:95px;"></textarea></div></div></div></div><div style="text-align:right;padding:10px 20px 0 0;"><span id="SMTPViewLogsButton"></span><span id="CloseSMTPLogsButton"></span></div></div><script type="text/javascript" language="javascript">BuildDialog("$SMTP_ERROR_DIALOG_TITLE$","SMTPErrorDialog","430","675","","$CLOSE_CANCEL$","Email16.png");function OnSMTPShowLogs(sError,sErrorDetails){var SMTPErrorLabel=document.getElementById('ErrorLabel');SMTPErrorLabel.innerText=sError;var SMTPLogTextArea=document.getElementById('SMTPLogsInput');SMTPLogTextArea.value=sErrorDetails;SMTPLogTextArea.disabled=true;ShowDialog("SMTPErrorDialog");}function OnCancelSMTPLogs(){HideDialog("SMTPErrorDialog");OnCancelSMTPTesting();}CreateDialogPushButton("$VIEW_LOG$","SMTPViewLogsButton",OnShowLogDialog);CreateDialogPushButton("$CLOSE_BUTTON$","CloseSMTPLogsButton",OnCancelSMTPLogs);</script><div id="SMTPConfigDialoginner" style="display:none;"><div style="display:inline;"><img alt="$SMTP_CONFIG$" src="%ADMIN_FILE%Images/Email32.png" width="32" height="32" class="header-icon" />$SMTP_CONFIG_INFO_DOMAIN$<div style='clear:both;height:5px;overflow:hidden;'></div></div><form name="SMTPConfigForm" id="SMTPConfigForm" onsubmit="return (false);"><div style="padding:0 0 5px 5px;"><span id="SMTPParametersError" class="Hidden"><label id='ErrorLabel' class="Error" style="font-size: 12px;"> $SMTP_PARAMETER_ERROR$</label><br /></span></div><table class="DialogTable"><tr><td style="vertical-align:top;"><span id="SMPTServerGroup"><div style="padding:0 0 5px 5px;"><label id='smtpServerLbl'>$SMTP_SERVER_LABEL$:</label><div style="overflow:auto"><span id="SMTPServer"></span></div><label id='smtpPortLbl'>$SMTP_PORT_LABEL$:</label><div style="overflow:auto"><span id="SMTPServerPort"></span></div><div><span id="SMTPSSL"></span></div><div id="SMPTCertDiv" style="display:none;"><span id="SMTPUseSSLCertificate"></span></div><div id="SMTPExplicitDiv" style="display:none;"><span id="SMTPUseExplicitSSL"></span></div><label id='fromAddressLbl'>$SMTP_FROM_ADDRESS_LABEL$:</label><div style="overflow:auto"><span id="SMTPFromAddress"></span></div>$SMTP_FROM_NAME_LABEL$ ($OPTIONAL$):<div style="overflow:auto"><span id="SMTPFromName"></span></div><div><span id="SMTPRequiresLogin"></span></div></div></span><span id="SMPTAuthGroup" style="display:none;"><div style="padding:0 0 5px 5px;"><label id="accountNameLbl">$SMTP_ACCOUNT_NAME_LABEL$:</label><div style="overflow:auto"><span id="SMTPAccountName"></span></div>$SMTP_ACCOUNT_PASSWORD_LABEL$:<div style="overflow:auto"><span id="SMTPPassword"></span></div></div></span><div style="padding:5px 0 5px 10px;"><span id="TestSMTPConfigButton"></span><br /></div></td><td style="text-align:right;vertical-align:top;padding-right:5px;" rowspan="2"><span id="SaveSMTPConfigButton"></span><br /><span id="CancelSMTPConfigButton"></span><br /><br /><span id="HelpSMTPConfigButton"></span></td></tr></table></form></div><script type="text/javascript" language="javascript">var sPortValue,sDefaultPortValue;BuildDialog("$SMTP_CONFIG_TITLE$","SMTPConfigDialog","450","390","","$CLOSE_CANCEL$","Email16.png");function OnSMTPConfig(){CleanupErrors();ShowHideSMTPAuth();ShowDialog("SMTPConfigDialog");}function ShowHideSMTPAuth(){var bValue=SMTPRequireLoginCheckbox.getControlValue();if(bValue)document.getElementById("SMPTAuthGroup").style.display="block";else document.getElementById("SMPTAuthGroup").style.display="none";}function ShowHideSMTPSSLCert(){var bValue=SMTPRequiresSSLCheckbox.getControlValue();var bExplicitSSL=SMTPUseExplicitSSLCheckbox.getControlValue();if(bValue){document.getElementById("SMPTCertDiv").style.display="block";document.getElementById("SMTPExplicitDiv").style.display="block";if(!bExplicitSSL){SMTPPortCombo.initValue("465",sDefaultPortValue);SMTPPortCombo.setControlText("465");}else{if(sPortValue.length)SMTPPortCombo.setControlText(sPortValue);else SMTPPortCombo.setControlText(sDefaultPortValue);}}else{document.getElementById("SMPTCertDiv").style.display="none";document.getElementById("SMTPExplicitDiv").style.display="none";SMTPPortCombo.initValue(sPortValue,sDefaultPortValue);if(sPortValue.length)SMTPPortCombo.setControlText(sPortValue);else SMTPPortCombo.setControlText(sDefaultPortValue);}}function OnToggleExplicitSSL(){var bValue=SMTPUseExplicitSSLCheckbox.getControlValue();if(bValue){if(sPortValue.length)SMTPPortCombo.setControlText(sPortValue);else SMTPPortCombo.setControlText(sDefaultPortValue);}else{SMTPPortCombo.initValue("465",sDefaultPortValue);SMTPPortCombo.setControlText("465");}}function OnCancelSMTPConfig(){HideDialog('SMTPConfigDialog');}function OnSaveSMTPConfigEx(){var requiresLogin,server,port,accountName,password,fromAddress,fromName,ssl,useSslCert,useExplicitSSL;if(bSMTPTriState){requiresLogin=document.getElementById(SMTPRequireLoginCheckbox.getContent("hidden").getId()).value;server=Trim(document.getElementById(SMTPServerCombo.getContent("hidden").getId()).value);port=document.getElementById(SMTPPortCombo.getContent("hidden").getId()).value;accountName=document.getElementById(SMTPAccountNameCombo.getContent("hidden").getId()).value;password=document.getElementById(SMTPPasswordCombo.getContent("hidden").getId()).value;fromAddress=document.getElementById(SMTPFromAddressCombo.getContent("hidden").getId()).value;fromName=document.getElementById(SMTPFromNameCombo.getContent("hidden").getId()).value;ssl=document.getElementById(SMTPRequiresSSLCheckbox.getContent("hidden").getId()).value;useSslCert=document.getElementById(SMTPUseSSLCertCheckbox.getContent("hidden").getId()).value;useExplicitSSL=document.getElementById(SMTPUseExplicitSSLCheckbox.getContent("hidden").getId()).value;}else{requiresLogin=((SMTPRequireLoginCheckbox.getControlValue())?"1":"0");server=Trim(SMTPServerCombo.getControlText());port=SMTPPortCombo.getControlText();accountName=SMTPAccountNameCombo.getControlText();password=SMTPPasswordCombo.getControlText();fromAddress=SMTPFromAddressCombo.getControlText();fromName=SMTPFromNameCombo.getControlText();ssl=((SMTPRequiresSSLCheckbox.getControlValue())?"1":"0");useSslCert=((SMTPUseSSLCertCheckbox.getControlValue())?"1":"0");useExplicitSSL=((SMTPUseExplicitSSLCheckbox.getControlValue())?"1":"0");}SavingDialog(true);var sSMTPConfigCmd="%ADMIN_FILE%XML/Result.xml%UPDATE_OBJECT_REF%CServer.%SERVER_ID%.Domain."+g_EditObjectID+"&StaticOnly=1";var SMTPConfigRequest=CreatePostRequest(sSMTPConfigCmd);SMTPConfigRequest.setParameter("SMTPRequiresLogin",requiresLogin);SMTPConfigRequest.setParameter("SMTPServer",server);SMTPConfigRequest.setParameter("SMTPServerPort",port);SMTPConfigRequest.setParameter("SMTPAccountName",accountName);SMTPConfigRequest.setParameter("SMTPPassword",password);SMTPConfigRequest.setParameter("SMTPFromAddress",fromAddress);SMTPConfigRequest.setParameter("SMTPFromName",fromName);SMTPConfigRequest.setParameter("SMTPSSL",ssl);SMTPConfigRequest.setParameter("SMTPUseSSLCertificate",useSslCert);SMTPConfigRequest.setParameter("SMTPUseExplicitSSL",useExplicitSSL);SMTPConfigRequest.request();SMTPConfigRequest.response=function(XMLDoc){BusyDialog(false);var nResult=GetXMLValueInt(XMLDoc,"result");var sResultText=GetXMLValue(XMLDoc,"ResultText");if(nResult!=0)AlertDialog(GetResultText(0,"",sResultText));else HideDialog("SMTPConfigDialog");};}function OnSaveSMTPConfig(){var sRequiredField="$SMTP_REQUIRED_FIELD$";var server=String(SMTPServerCombo.getControlText());var fromAddress=String(SMTPFromAddressCombo.getControlText());if(server.length>0||fromAddress.length>0){if(server.length<1){sRequiredField=sRequiredField.replace("$Label","$SMTP_SERVER_LABEL$");AlertDialog(sRequiredField);}else if((fromAddress.length<1)||(!IsValidEmailAddressString(fromAddress))){sRequiredField=sRequiredField.replace("$Label","$SMTP_FROM_ADDRESS_LABEL$");AlertDialog(sRequiredField);}else OnSaveSMTPConfigEx();}else OnSaveSMTPConfigEx();}function OnSMTPConfigHelp(){if(g_bDomainNav)sExpandNode="Item10_4";else sExpandNode="Item7_3";LaunchHelp("Help-SMTP.htm",sExpandNode);}function CleanupErrors(){var serverLbl=document.getElementById('smtpServerLbl');var portLbl=document.getElementById('smtpPortLbl');var accountNameLbl=document.getElementById('accountNameLbl');var fromAddressLbl=document.getElementById('fromAddressLbl');var errorLbl=document.getElementById('SMTPParametersError');var labelsArray=[serverLbl,portLbl,fromAddressLbl,accountNameLbl];var i;for(i=0;i<labelsArray.length;i++){labelsArray[i].removeAttribute("class","Error");}errorLbl.setAttribute("class","Hidden");}function OnParameterValid(server,port,fromAddress,loginRequired,accountName){var bRet=true;var nPort=parseInt(port);var errorLbl=document.getElementById('SMTPParametersError');CleanupErrors();if(server.length<1){document.getElementById('smtpServerLbl').setAttribute("class","Error");bRet=false;}if(isNaN(nPort)||nPort<0||nPort>parseInt(65535)){document.getElementById('smtpPortLbl').setAttribute("class","Error");bRet=false;}if(!IsValidEmailAddressString(fromAddress)){document.getElementById('fromAddressLbl').setAttribute("class","Error");bRet=false;}if(loginRequired){if((!IsValidEmailAddressString(accountName))){document.getElementById('accountNameLbl').setAttribute("class","Error");bRet=false;}}if(bRet==false){errorLbl.setAttribute("class","Hidden");}else{errorLbl.removeAttribute("class","Hidden");}return bRet;}function OnSMTPConfigCheck(){var server=SMTPServerCombo.getControlText();var port=SMTPPortCombo.getControlText();var requiresLogin=SMTPRequireLoginCheckbox.getControlValue();var accountName=SMTPAccountNameCombo.getControlText();var fromAddress=SMTPFromAddressCombo.getControlText();var errorLbl=document.getElementById('SMTPParametersError');if(OnParameterValid(server,port,fromAddress,requiresLogin,accountName)){errorLbl.setAttribute("class","Hidden");OnSMTPTesting();}else{errorLbl.removeAttribute("class","Hidden");}}function OnSMTPServerLoad(){var sServerValue=GetDecodedDirPath("%CDomain.%ID%.SMTPServer%");var sDefaultServerValue=GetDecodedDirPath("%CDomain.%ID%.SMTPServer.Default%");SMTPServerCombo.initValue(sServerValue,sDefaultServerValue);if(sServerValue.length){SMTPServerCombo.setControlText(sServerValue);}else SMTPServerCombo.setControlText(sDefaultServerValue);sPortValue="%CDomain.%ID%.SMTPServerPort%";sDefaultPortValue="%CDomain.%ID%.SMTPServerPort.Default%";SMTPPortCombo.initValue(sPortValue,sDefaultPortValue);if(sPortValue.length){SMTPPortCombo.setControlText(sPortValue);}else SMTPPortCombo.setControlText(sDefaultPortValue);var sSMTPFromValue=GetDecodedDirPath("%CDomain.%ID%.SMTPFromAddress%");var sDefaultSMTPFromValue=GetDecodedDirPath("%CDomain.%ID%.SMTPFromAddress.Default%");var sSMTPFromNameValue=GetDecodedDirPath("%CDomain.%ID%.SMTPFromName%");var sDefaultSMTPFromNameValue=GetDecodedDirPath("%CDomain.%ID%.SMTPFromName.Default%");SMTPFromNameCombo.initValue(sSMTPFromNameValue,sDefaultSMTPFromNameValue);if(sSMTPFromNameValue.length)SMTPFromNameCombo.setControlText(sSMTPFromNameValue);else SMTPFromNameCombo.setControlText(sDefaultSMTPFromNameValue);SMTPFromAddressCombo.initValue(sSMTPFromValue,sDefaultSMTPFromValue);if(sSMTPFromValue.length)SMTPFromAddressCombo.setControlText(sSMTPFromValue);else SMTPFromAddressCombo.setControlText(sDefaultSMTPFromValue);var sSMTPAccountNameValue=GetDecodedDirPath("%CDomain.%ID%.SMTPAccountName%");var sDefaultSMTPAccountNameValue=GetDecodedDirPath("%CDomain.%ID%.SMTPAccountName.Default%");var nDefaultSMTPAccountNameValue=parseInt("%CDomain.%ID%.SMTPAccountName.IsDefault%");SMTPAccountNameCombo.initValue(sSMTPAccountNameValue,sDefaultSMTPAccountNameValue);if(sSMTPAccountNameValue.length){SMTPAccountNameCombo.setControlText(sSMTPAccountNameValue);}else SMTPAccountNameCombo.setControlText(sDefaultSMTPAccountNameValue);if((bSMTPTriState)&&(nDefaultSMTPAccountNameValue)){setTimeout(function(){document.getElementById(SMTPAccountNameCombo.getContent("hidden").getId()).value="";},500);}var sSMTPPasswordValue=DecodeString("%CDomain.%ID%.SMTPPassword%");var sDefaultSMTPPasswordValue=DecodeString("%CDomain.%ID%.SMTPPassword.Default%");SMTPPasswordCombo.initValue(sSMTPPasswordValue,sDefaultSMTPPasswordValue);SMTPPasswordCombo.setControlText(sSMTPPasswordValue);document.getElementById(SMTPPasswordCombo.getContent("hidden").getId()).value=sSMTPPasswordValue;if(sSMTPPasswordValue.length)SMTPPasswordCombo.setControlText(sSMTPPasswordValue);else SMTPPasswordCombo.setControlText(sDefaultSMTPPasswordValue);}function BuildIEInput(){var SMTPForm=document.getElementById("SMTPPassword-box");var ElemId=SMTPPasswordCombo.getContent("box/text").getId();var InputElement=document.getElementById(ElemId);var sInputVal=InputElement.value;var NextSibling=InputElement.nextSibling;var sStyle=InputElement.getAttribute("style");var sClass=InputElement.className;var sName=InputElement.name;SMTPForm.removeChild(InputElement);var Passwd_field=document.createElement("INPUT");Passwd_field.setAttribute("type","password");Passwd_field.setAttribute("value",sInputVal);Passwd_field.setAttribute("style",sStyle);Passwd_field.setAttribute("name",sName);Passwd_field.setAttribute("id",ElemId);SMTPForm.insertBefore(Passwd_field,NextSibling);document.getElementById(ElemId).className=sClass;}CreateGroupBox("$SMTP_SERVER_GROUP$","SMPTServerGroup","320px","245px",true);CreateGroupBox("$SMTP_AUTH_GROUP$","SMPTAuthGroup","280px","100px",true);var bSMTPTriState=true;if(sEventObjectType.toLowerCase()=="server")bSMTPTriState=false;var SMTPServerCombo=CreateComboBox("","",[],[],"SMTPServer","SMTPServer",undefined,undefined,bSMTPTriState,250,20,OnSaveSMTPConfig,true);var SMTPPortCombo=CreateComboBox("","",[],[],"SMTPServerPort","SMTPServerPort",undefined,undefined,bSMTPTriState,250,20,OnSaveSMTPConfig,true);var SMTPAccountNameCombo=CreateComboBox("","",[],[],"SMTPAccountName","SMTPAccountName",undefined,undefined,bSMTPTriState,250,20,OnSaveSMTPConfig,true);var SMTPPasswordCombo=CreateComboBox("","",[],[],"SMTPPassword","SMTPPassword",undefined,undefined,bSMTPTriState,250,20,OnSaveSMTPConfig,true);if(AW.ie)BuildIEInput();else SMTPPasswordCombo.getContent("box/text").setAttribute("type","password");var SMTPFromAddressCombo=CreateComboBox("","",[],[],"SMTPFromAddress","SMTPFromAddress",undefined,undefined,bSMTPTriState,250,20,OnSaveSMTPConfig,true);var SMTPFromNameCombo=CreateComboBox("","",[],[],"SMTPFromName","SMTPFromName",undefined,undefined,bSMTPTriState,250,20,OnSaveSMTPConfig,true);var SMTPRequiresSSLCheckbox,SMTPUseSSLCertCheckbox,SMTPUseExplicitSSLCheckbox;if(bSMTPTriState){SMTPRequiresSSLCheckbox=CreateTriStateCheckBox("$SMTP_REQUIRE_SSL$","SMTPSSL","SMTPSSL","%CDomain.%ID%.SMTPSSL%","%CDomain.%ID%.SMTPSSL.Default%","%CDomain.%ID%.SMTPSSL.IsDefault%",ShowHideSMTPSSLCert);SMTPUseSSLCertCheckbox=CreateTriStateCheckBox("$SMTP_USE_SSL_CERT$","SMTPUseSSLCertificate","SMTPUseSSLCertificate","%CDomain.%ID%.SMTPUseSSLCertificate%","%CDomain.%ID%.SMTPUseSSLCertificate.Default%","%CDomain.%ID%.SMTPUseSSLCertificate.IsDefault%");SMTPUseExplicitSSLCheckbox=CreateTriStateCheckBox("$SMTP_USE_EXPLICIT_SSL$","SMTPUseExplicitSSL","SMTPUseExplicitSSL","%CDomain.%ID%.SMTPUseExplicitSSL%","%CDomain.%ID%.SMTPUseExplicitSSL.Default%","%CDomain.%ID%.SMTPUseExplicitSSL.IsDefault%",OnToggleExplicitSSL);}else{SMTPRequiresSSLCheckbox=CreateCheckBox("$SMTP_REQUIRE_SSL$","SMTPSSL","SMTPSSL","%CDomain.%ID%.SMTPSSL%",ShowHideSMTPSSLCert);SMTPUseSSLCertCheckbox=CreateCheckBox("$SMTP_USE_SSL_CERT$","SMTPUseSSLCertificate","SMTPUseSSLCertificate","%CDomain.%ID%.SMTPUseSSLCertificate%");SMTPUseExplicitSSLCheckbox=CreateCheckBox("$SMTP_USE_EXPLICIT_SSL$","SMTPUseExplicitSSL","SMTPUseExplicitSSL","%CDomain.%ID%.SMTPUseExplicitSSL%",OnToggleExplicitSSL);}var SMTPRequireLoginCheckbox;if(bSMTPTriState)SMTPRequireLoginCheckbox=CreateTriStateCheckBox("$SMTP_REQUIRE_LOGIN$","SMTPRequiresLogin","SMTPRequiresLogin","%CDomain.%ID%.SMTPRequiresLogin%","%CDomain.%ID%.SMTPRequiresLogin.Default%","%CDomain.%ID%.SMTPRequiresLogin.IsDefault%",ShowHideSMTPAuth);else SMTPRequireLoginCheckbox=CreateCheckBox("$SMTP_REQUIRE_LOGIN$","SMTPRequiresLogin","SMTPRequiresLogin","%CDomain.%ID%.SMTPRequiresLogin%",ShowHideSMTPAuth);OnSMTPServerLoad();CreateDialogPushButton("$SAVE_BUTTON$","SaveSMTPConfigButton",OnSaveSMTPConfig);CreateDialogPushButton("$CANCEL_BUTTON$","CancelSMTPConfigButton",OnCancelSMTPConfig);CreateDialogPushButton("$HELP_BUTTON$","HelpSMTPConfigButton",OnSMTPConfigHelp);CreatePushButton("$TEST_SMTP_BUTTON$","TestSMTPConfigButton",OnSMTPConfigCheck,110,25);</script>
<!--#include "Include\..\Strings\Strings.strings"-->
<!--#include "Include\..\..\Common\Strings\Strings.strings"-->
<div id="SSLCipherSuitesDialoginner" style="display:none;"><div style="padding:0 10px 0 10px;"><span id="SSLCipherSuitesPageTabs"></span><div id="SSLCipherSuitesTabsContent" class="tabs-content"><div id="CiphersTLSv12" style="display:none"><div class="layercontent"><table cellpadding="0" cellspacing="0"><tr><td style="vertical-align:top;padding-right:10px;"><img alt="$SSL_CIPHER_SUITES_TXT$" src="%ADMIN_FILE%Images/Encryption.png" width="32" height="32" /></td><td style="vertical-align:top;">$SSL_CIPHER_SUITES_TLSV12_INFO$</td></tr></table><div><span id="ECDHE-RSA-AES256-GCM-SHA384"></span><br /><span id="ECDHE-RSA-AES256-SHA384"></span><br /><span id="AES256-GCM-SHA384"></span><br /><span id="AES256-SHA256"></span><br /><span id="ECDHE-RSA-AES128-GCM-SHA256"></span><br /><span id="ECDHE-RSA-AES128-SHA256"></span><br /><span id="AES128-GCM-SHA256"></span><br /><span id="AES128-SHA256"></span><br /><span id="AES128-CCM"></span><br /><span id="AES256-CCM"></span><br /><span id="ARIA128-GCM-SHA256"></span><br /><span id="ARIA256-GCM-SHA384"></span><br /><span id="ECDHE-ARIA128-GCM-SHA256"></span><br /><span id="ECDHE-ARIA256-GCM-SHA384"></span><br /><span id="ECDHE-RSA-CHACHA20-POLY1305"></span><br /></div></div></div><div id="CiphersTLSv13" style="display:none"><div class="layercontent"><table cellpadding="0" cellspacing="0"><tr><td style="vertical-align:top;padding-right:10px;"><img alt="$SSL_CIPHER_SUITES_TXT$" src="%ADMIN_FILE%Images/Encryption.png" width="32" height="32" /></td><td style="vertical-align:top;">$SSL_CIPHER_SUITES_TLSV13_INFO$</td></tr></table><div><span id="TLS_AES_128_GCM_SHA256"></span><br /><span id="TLS_AES_256_GCM_SHA384"></span><br /><span id="TLS_CHACHA20_POLY1305_SHA256"></span><br /><span id="TLS_AES_128_CCM_SHA256"></span><br /><span id="TLS_AES_128_CCM_8_SHA256"></span><br /></div></div></div></div></div><div style="text-align:right;padding:10px 10px 0 0;"><span id="CiphersOKButton"></span></div></div><script type="text/javascript" language="javascript">BuildDialog("$SSL_CIPHER_SUITES_DIALOG_TITLE$","SSLCipherSuitesDialog","575","348","","$CLOSE_CANCEL$");var g_ActiveTab=CreateTabs(["$TLSV12_CIPHER_SUITES$","$TLSV13_CIPHER_SUITES$"],["CiphersTLSv12","CiphersTLSv13"],"SSLCipherSuitesPageTabs","SSLCipherSuitesTabsContent",1);CreateDialogPushButton("$OK_BUTTON$","CiphersOKButton",CloseSSLCipherSuitesDialog);$("#SSLCipherSuitesPageTabs").width("535px");function OnShowCipherSuitesDialog(){ShowDialog("SSLCipherSuitesDialog");}function CloseSSLCipherSuitesDialog(){HideDialog("SSLCipherSuitesDialog");}</script><script %CSP_NONCE_USAGE_ATTR% type="text/javascript" language="JavaScript">BlankGif=new Image();BlankGif.src="%COMMON_FILE%Images/blank.gif";</script><!--[if lt IE 7]><script %CSP_NONCE_USAGE_ATTR% type="text/javascript" language="javascript">g_bIE7 = false;</script><style type="text/css">img, .ToolTipPointerCell, .TopPointer,.ToolTipLeftCornerBottom,.ToolTipRightCornerBottom {behavior: url("%COMMON_FILE%Scripts/pngbehavior.htc");}</style><![endif]--></head><body><script type="text/javascript" language="JavaScript">document.addEventListener('DOMContentLoaded',function(){var createServerIdentityContainer=document.getElementById("CreateServerIdentity");if(g_bSysAdmin&&g_bReadOnlyAccess){createServerIdentityContainer.innerHTML='<div><a id="CreateServerIdentityTxt" class="CreateSITxt"><span id="CreateSI"></span>$CLICK_TO_CREATE_SERVER_IDENTITY_FOR_READONLY_SYSADMIN$</a></div>';}if(g_bSysAdmin&&!g_bReadOnlyAccess){createServerIdentityContainer.innerHTML='<div><a onclick="javascript:navigateToServerIdentityTab(); return false;" target="_blank" id="CreateServerIdentityTxt" class="CreateSITxt"><span id="CreateSI"></span>$CLICK_TO_CREATE_SERVER_IDENTITY$</a></div>';}});</script><div id="container"><div id="MC-logo" style="overflow:visible;"><div id="sulogo-div"><div class="header-logo-container"><a href="javascript:LoadConsolePage('%ADMIN_FILE%', true)"><img src="%COMMON_FILE%Images/swlogo.png" id="SWLOGO" style="border:none;" alt="$CONSOLE_TITLE$"/></a></div><div class="sulogo-prodname"><strong style="font-size:12pt; margin-right: 8px;">%PRODUCT%</strong><span style="font-size:10pt;">$MANAGEMENT_CONSOLE$</span></div></div><div id="TrialExpire" style="display:none;"><div><a href="https://ecomm.solarwinds.com/onepagecheckout/Servu?sku=7205&CMPSource=SERVUSITE#/" target="_blank" id="TrialExpireTxt" class="DaysExpireTxt"><span id="TrialExpireDays"></span>$DAYS$ $TRIAL_EXPIRES_IN$. $BUY_NOW$</a></div></div><div id="CreateServerIdentity" style="display:none;"></div><div class="header-user-block"><span class="head-item head-user"><span id="UserOptBtn" class="menu-toggle"><span class="head-icon"></span><span id="CurrentlyLoggedIn" style="font-weight:bold;"></span></span></span><span class="head-item head-help"><a href="javascript:MainHelp();"><span class="head-icon"></span></a></span><span class="head-item head-menu"><span id="ManConNavBarJumpToList" class="menu-toggle"><span class="head-icon"></span></span></span></div></div><noscript><center><p>$NO_SCRIPT_TEXT$</p></center></noscript><div class="maincontent" ><div id="leftCol-Contain"><div id="leftCol-Nav"><div class="menu-nav" id="MenuListNav"><ul id="nav"><li id="navmenuserver-global" style="display:none;"><a id="navmenuserver-global-href" href="#"><div><span class="navDomain icon"></span><span class="navDomain text">$GLOBAL$</span></div></a><ul><li data-active='6' class='activetab'><a id="navmenuserver-global-dashboard-href" href="javascript:LoadConsolePage('%ADMIN_FILE%')"><span></span>$DASHBOARD$</a></li><li data-active='0' class='activetab'><a id="navmenuserver-global-details-href" href="javascript:SubmitServerNavFrame('%ADMIN_FILE%Server.htm', 1,0,true);">$SERVERDETAILS$</a></li><li data-active='1' class='activetab'><a id="navmenuserver-global-users-href" href="javascript:SubmitServerNavFrame('%ADMIN_FILE%ServerUsers.htm', 1,1,true);">$USERS$</a></li><li data-active='2' class='activetab'><a id="navmenuserver-global-groups-href" href="javascript:SubmitServerNavFrame('%ADMIN_FILE%ServerGroups.htm', 1,2,true);">$GROUPS$</a></li><li data-active='3' class='activetab'><a id="navmenuserver-global-dirs-href" href="javascript:SubmitServerNavFrame('%ADMIN_FILE%ServerDir.htm', 1,3,true);">$DIRECTORIES$</a></li><li data-active='4' class='activetab'><a id="navmenuserver-global-limits-href" href="javascript:SubmitServerNavFrame('%ADMIN_FILE%ServerLimits.htm', 1,4,true);">$LIMITS$</a></li><li data-active='5' class='activetab'><a id="navmenuserver-global-activity-href" href="javascript:SubmitServerNavFrame('%ADMIN_FILE%ServerActivity.htm', 1,5,true);">$SERVERACTIVITY$</a></li></ul></li><li id="navmenuserver-DomainStart" class="NavDomainStart"><span class="navHeadTxtWhite">$DOMAINS$ <span id="DomainStart-Count"></span></span></li><div class="nav-add-domain"><a id="AddDomain-btn" href="javascript:OnShowDomainWizard();" style="align-items: center;"><img src="%COMMON_FILE%Images/add_domain_icon.png" width="20px" height="20px" alt="$NEW_DOMAIN_BUTTON$" title="$NEW_DOMAIN_BUTTON$" border="0" /><span id="brdcrumb-main" class="navHeadTxtWhite">$NEW_DOMAIN$</span></a></div></ul><div id="nav-loading" style="width:230px;text-align:center;"><img src='%COMMON_FILE%Images/domain-load.gif' alt='$LOADING_DOMAINS$' border='0' style="margin:0 auto;"/></div></div><div class="TreeInfoBox"><div style="min-height:400px; display: flex; flex-direction: column; flex-grow: 1; justify-content: flex-end"><div id="MaintContainUpdate" class="MaintInfoBox"><span class="TreeInfoBox__text-panel">$LATEST_UPDATE$</span><div id="SU-UpdateInfo" style="margin-top:10px;color:#333333;">$NO_UPDATE$</div></div><div id="MaintContain" class="MaintInfoBox"><div class="TreeInfoBox__text-secondary">$MAINTENANCE_ENDS$:</div><div class="TreeInfoBox__text-default" id="MaintDaybox"><span id="MaintDays"></span> $DAYS$, <span id="MaintDate"></span></div></div></div></div></div><div class="content-container"><div class="breadcrumb-container"><div style="display:inline-block;padding-left:15px"><span id="breadcrumb"></span></div></div><div id="TreeCol"><div class="MainHeaderInfo" style="vertical-align:top"><img src="%ADMIN_FILE%Images/rules32.png" width="32" height="32" class="tab-header" alt="" /><strong>$DOMAIN_LIMITS_PAGE_TITLE$</strong> - $DOMAIN_LIMITS_INFO$</div><br style="clear:both" /><span id="PageTabs"></span><div id="TabsContent" class="tabs-content"><div id="Limits" style="display:none">
<!--#include "Include\..\Strings\LimitsStrings.strings"-->
<div id="limits" style="width:100%"><div class="layercontent"><table cellpadding="0" cellspacing="0"><tr><td style="vertical-align:top;padding-right:10px;"><img alt="$LIMIT_LABEL$" src="%ADMIN_FILE%Images/Limits32.png" width="32" height="32"/></td><td style="vertical-align:top;">$DOMAIN_LIMITS_TAB_INFO$</td></tr></table><div style="clear:both;padding-bottom:5px;">$LIMIT_TYPE$:<div style="overflow:auto"><span id="LimitType"></span></div></div><div id="LimitsListContain"><span id="LimitsList"></span></div><div style="padding-top:5px;width:100%"><table cellpadding="0" cellspacing="0" style="width:100%"><tr><td><span id="AddLimitButton"></span><span id="EditLimitButton"></span><span id="DeleteLimitButton"></span></td><td style="text-align:right;"><span id="RatioQuotasButton"></span><span id="RatioFreeFilesButton" ></span></td></tr></table></div></div></div><script type="text/javascript" language="JavaScript">var g_bAllowWindowsDrives=("%WINDOWS_DRIVES%"!="0");var g_bWindowsDirListingMask=("%WINDOWS_DIR_LISTING_MASK%"!="0");var g_bWindowsShortcutStrings=("%WINDOWS_SHORTCUTS%"!="0");var g_bSupportsChangeOwner=("%SUPPORTS_CHOWN%"!="0");var g_bSupportsInterpretLFASEOL=("%SUPPORTS_INTERPRET_LF_AS_EOL%"!="0");var g_bPauseRefresh=false;AW.Formats.LimitName=AW.Formats.String.subclass();AW.Formats.LimitName.create=function(){var obj=this.prototype;var _super=this.superclass.prototype;obj.init=function(){_super.init.call(this);};obj.dataToText=function(data){return(g_asLimitStrings[String(data)]);};obj.dataToValue=function(data){return(this.dataToText(data));};};AW.Formats.LimitValue=AW.Formats.String.subclass();AW.Formats.LimitValue.create=function(){var obj=this.prototype;var _super=this.superclass.prototype;obj.init=function(){_super.init.call(this);};obj.dataToText=function(data,Grid,nCol,nRow){var nScale=parseInt(Grid.getCellData(7,nRow));if((isNaN(nScale))||(nScale<1))nScale=1;return(FormatLimitValue(data,Grid.getCellData(6,nRow),nScale,Grid.getCellData(0,nRow)));};obj.dataToValue=function(data,Grid,nCol,nRow){return(this.dataToText(data,Grid,nCol,nRow));};};AW.Formats.LimitTOD=AW.Formats.String.subclass();AW.Formats.LimitTOD.create=function(){var obj=this.prototype;var _super=this.superclass.prototype;obj.init=function(){_super.init.call(this);};obj.dataToText=function(data,Grid,nCol,nRow){return(FormatAppliedDayTime(String(data),Grid.getCellData(3,nRow),Grid.getCellData(4,nRow),Grid.getCellData(5,nRow)));};obj.dataToValue=function(data,Grid,nCol,nRow){return(this.dataToText(data,Grid,nCol,nRow));};};var g_sCurrentLimitCat="";var g_asLangVals=["en,US","de,DE","it,IT","fr,FR","es,ES","pt,PT","sr,SR","se,SE","fi,FI","no,NO","ru,RU","dk,DK","zh,CN","zh,TW","jp,JP"];;var g_asLangStrings=["$ENGLISH$","$GERMAN$","$ITALIAN$","$FRENCH$","$SPANISH$","$PORTUGUESE$","$SERBIAN$","$SWEDISH$","$FINISH$","$NORWEGIAN$","$RUSSIAN$","$DANISH$","$SIMPLIFIED_CHINESE$","$TRADITIONAL_CHINESE$","$JAPANESE$"];var sLimitTargetTxt="$LIMIT_DL_SCASTARGET$";var sLimitShrtCtLinkTxt="$LIMIT_DL_SCLINKS$";if(!g_bWindowsShortcutStrings){sLimitTargetTxt="$LIMIT_DL_SCASTARGET_NON_WIN_OS$";sLimitShrtCtLinkTxt="$LIMIT_DL_SCLINKS_NON_WIN_OS$";}var g_asLimitStrings={"AllowNonRFCSSHProtoVersionExchange":"$ALLOW_NON_RFC_SSH_PROTOCOL_VERSION_EXCHANGE_ID$","ConvertURLChars":"$LIMIT_ADV_CONVERTURLCHARS$","CheckDirSizePeriodically":"$LIMIT_ADV_CHECKDIRSIZE$","InlineOutOfBand":"$LIMIT_ADV_INLINEOOB$","SendKeepAlive":"$LIMIT_ADV_KEEPALIVE$","DisableNagle":"$LIMIT_ADV_NAGLE$","UploadAdaptiveTimeout":"$LIMIT_ADV_ADAPTIVETO$","MaxServerSessions":"$LIMIT_CONN_MAXSERVERSESS$","MaxServerSessionsIP":"$LIMIT_CONN_MAXSERVERSESSIP$","MaxDomainSessions":"$LIMIT_CONN_MAXDOMAINSESS$","MaxDomainSessionsIP":"$LIMIT_CONN_MAXDOMAINSESSIP$","MaxGroupSessions":"$LIMIT_CONN_MAXGROUPSESS$","MaxGroupSessionsIP":"$LIMIT_CONN_MAXGROUPSESSIP$","MaxSessionsPerUser":"$LIMIT_CONN_MAXSESSUSER$","MaxSessionsIPPerUser":"$LIMIT_CONN_MAXSESSIPUSER$","RequireSecure":"$LIMIT_CONN_REQUIRESECURE$","IdleTimeSeconds":"$LIMIT_CONN_IDLETO$","SessTimeoutSeconds":"$LIMIT_CONN_SESSTO$","BlockAntiTimeout":"$LIMIT_CONN_BLOCKANTITO$","AutoCreateHomeDir":"$LIMIT_CONN_AUTOCREATE$","NaturalSort":"$LIMIT_DL_NATURALSORT$","HideHidden":"$LIMIT_DL_HIDEHIDDEN$","LowerCaseFileNames":"$LIMIT_DL_LOWERCASE$","WindowsShortCutsAsLinks":sLimitShrtCtLinkTxt,"TreatWindowsShortCutsAsTarget":sLimitTargetTxt,"LockInHomeDir":"$LIMIT_DL_LOCK$","RootIsDrives":"$LIMIT_DL_ROOT$","HideCompressedState":"$LIMIT_DL_COMP_STATE$","HideEncryptedState":"$LIMIT_DL_ENCRYPT_STATE$","DirMessage":"$LIMIT_DL_DIR_MSG$","HTTPLoginPageDefaultLanguage":"$LIMIT_ADV_DEFAULT_LANG$","CheckAnonymousPassword":"$LIMIT_PW_CHECKANON$","RequireComplexPasswords":"$LIMIT_PW_REQCOMPLEX$","MinPasswordLen":"$LIMIT_PW_MINLENGTH$","PasswordExpiresDays":"$LIMIT_PW_EXPIRES$","PasswordChange":"$LIMIT_PW_CHANGE$","EncryptPasswords":"$LIMIT_PW_ENCRYPT$","HidePasswordInLog":"$LIMIT_PW_HIDEINLOG$","SSHAuthType":"$LIMIT_PW_SSHAUTHTYPE$","PasswordType":"$LIMIT_PW_TYPE$","ServerDomainDirAccessFirst":"$LIMIT_ADV_SERV_DOM_DIR_ACCESS$","EnablePasswordRecovery":"$LIMIT_PW_ENABLE_RECOVERY$","AllowRenameOverwrite":"$LIMIT_ADV_ALLOWRENAMEOVERWRITE$","WarnOldBrowser":"$LIMIT_ADV_WARNOLDBROWSER$","RequireReverseDNSName":"$LIMIT_CONN_REQ_REV_DNS$","SFTPMaxVersion":"$LIMIT_ADV_SFTPMAXVERSION$","MaxServerUploadRate":"$LIMIT_TRAN_SERVERUP$","MaxServerDownloadRate":"$LIMIT_TRAN_SERVERDN$","MaxDomainUploadRate":"$LIMIT_TRAN_DOMAINUP$","MaxDomainDownloadRate":"$LIMIT_TRAN_DOMAINDN$","MaxGroupUploadRate":"$LIMIT_TRAN_GROUPUP$","MaxGroupDownloadRate":"$LIMIT_TRAN_GROUPDN$","MaxUserUploadRate":"$LIMIT_TRAN_USERUP$","MaxUserDownloadRate":"$LIMIT_TRAN_USERDN$","MaxSessionUploadRate":"$LIMIT_TRAN_SESSUP$","MaxSessionDownloadRate":"$LIMIT_TRAN_SESSDN$","MaxUploadFileSize":"$LIMIT_TRAN_MAX_FILE_SIZE$","DeletePartiallyUploaded":"$LIMIT_TRAN_DELETEPARTIAL$","InterpretLFasEOL":"$LIMIT_TRAN_INTERPRETLFASEOL$","AllowHTTPMediaPlayback":"$LIMIT_TRAN_ALLOWMEDIAPLAY$","AllowRememberMe":"$LIMIT_HTTP_ALLOW_REMEMBER_ME$","ShowLanguage":"$LIMIT_HTTP_ALLOW_SHOW_LANG$","MaintainHTTPUploadTimes":"$LIMIT_HTTP_MAINTAIN_UL_TIMES$","AllowHTTPIPAddressChange":"$LIMIT_HTTP_ALLOW_IP_CHANGE$","TimeoutBlockIPSeconds":"$LIMIT_CONN_TIMEOUTBLOCKIP$","FTP":"$LIMIT_CONN_FTP$","SSH":"$LIMIT_CONN_SSH$","HTTP":"$LIMIT_CONN_HTTP$","AllowXForwardedFor":"$LIMIT_CONN_ALLOWXFORWARD$","HideVersionInHeader":"$LIMIT_HTTP_HIDE_VERSION_IN_HEADER$","AllowAutoCompleteForLoginFields":"$LIMIT_HTTP_ALLOW_AUTOCOMPLETE_IN_LOGIN_FIELDS$","UseHTTPStrictTransportSecurity":"$LIMIT_HTTP_USE_HSTS$","DisableHTTPCompression":"$LIMIT_HTTP_DISABLE_COMPRESSION$","SSHFileFlushFrequency":"$LIMIT_UPLOADED_FILE_FLUSH_PERIOD$","AllowPermittedCrossDomainPolicies":"$LIMIT_ALLOW_PERMITTED_CROSS_DOMAIN_POLICIES$","UploadFileMode":"$LIMIT_TRAN_UPLOAD_FILE_MODE$","DownloadFileMode":"$LIMIT_TRAN_DOWNLOAD_FILE_MODE$","MaxSimulThumbnails":"$LIMIT_TRAN_MAX_SIMUL_THUMBS$","DirListingMask":"$LIMIT_DL_DIR_LIST_MASK$","FileOwner":"$LIMIT_ADV_FILE_OWNER$","FileGroup":"$LIMIT_ADV_FILE_GROUP$","ResetUserStatsAfterRestart":"$LIMIT_ADV_RESET_USER_STATS_RESTART$","ResetGroupStatsAfterRestart":"$LIMIT_ADV_RESET_GROUP_STATS_RESTART$","AllowWebClient":"$LIMIT_HTTP_ALLOW_WEB_CLIENT$","AllowWebClientPro":"$LIMIT_HTTP_ALLOW_WEB_CLIENT_PRO$","AllowFTPVoyagerJV":"$LIMIT_HTTP_ALLOW_FVJV$","PasswordStaleDays":"$LIMIT_PW_STALE_DAYS$","DisablePasswordGenerators":"$LIMIT_PW_DISABLE_GENERATORS$","PreDisableDays":"$LIMIT_ADV_PRE_DISABLE_DAYS$","PreDeleteDays":"$LIMIT_ADV_PRE_DELETE_DAYS$","DisableBranding":"$LIMIT_HTTP_DISABLE_BRANDING$","EmailAddressSet":"$LIMIT_EMAIL_ALLOW_SET$","RequireEmailAddressSet":"$LIMIT_EMAIL_REQUIRE_SET$","RequirePasswordForGuests":"$LIMIT_ADHOC_REQUIRE_PWORD_FOR_GUESTS$","InsertPasswordInEmailInvite":"$LIMIT_ADHOC_INSERT_PWORD_IN_EMAIL$","MaxGuestUploadFileSize":"$LIMIT_ADHOC_MAX_GUEST_UPLOAD_FILE_SIZE$","AllowUserDefinedGuestAccess":"$LIMIT_ADHOC_ALLOW_USER_DEF_GUEST_LINK_EXPIRATION$","RestrictGuestAccessDays":"$LIMIT_ADHOC_MAX_GUEST_LINK_EXPIRATION$","NotifyAfterGuestDownload":"$LIMIT_ADHOC_NOTIFY_AFTER_GUEST_DOWNLOAD$","NotifyAfterGuestUpload":"$LIMIT_ADHOC_NOTIFY_AFTER_GUEST_UPLOAD$","SendAccessLinkToRecipients":"$LIMIT_ADHOC_SEND_LINK_TO_RECIPIENTS$","SendAccessLinkToSender":"$LIMIT_ADHOC_SEND_LINK_TO_SENDER$","AllowFileSharing":"$LIMIT_ADHOC_ALLOW_FILE_SHARING$","AllowCustomContactInfo":"$LIMIT_ADHOC_ALLOW_CUSTOM_CONTACT_INFO$","AdHocMaxNumOfFilesInSentShare":"$LIMIT_ADHOC_MAX_FILES_IN_SENT_SHARE$","AdHocMaxNumOfFilesInRequestedShare":"$LIMIT_ADHOC_MAX_FILES_IN_REQUESTED_SHARE$","AdHocAllowedOutgoingSource":"$LIMIT_ADHOC_ALLOWED_OUTGOING_SOURCE$"};var g_asLimitComboStrings={"SSHAuthType":["$SSH_AUTH_TYPE_PWD_AND_PUB$","$SSH_AUTH_TYPE_PWD_OR_PUB$","$SSH_AUTH_TYPE_PUB$","$SSH_AUTH_TYPE_PWD$"],"PasswordType":["$PASSWORD_REGULAR_DESC$","$PASSWORD_MD4_DESC$","$PASSWORD_MD5_DESC$"],"HTTPLoginPageDefaultLanguage":g_asLangStrings,"UploadFileMode":["$FILE_MODE_READ$","$FILE_MODE_DENY$","$FILE_MODE_FULL$"],"DownloadFileMode":["$FILE_MODE_READ$","$FILE_MODE_DENY$","$FILE_MODE_FULL$"],"RequirePasswordForGuests":["$ADHOC_LIMIT_OPTIONAL$","$ADHOC_LIMIT_ALWAYS$","$ADHOC_LIMIT_NEVER$"],"InsertPasswordInEmailInvite":["$ADHOC_LIMIT_OPTIONAL$","$ADHOC_LIMIT_ALWAYS$","$ADHOC_LIMIT_NEVER$"],"NotifyAfterGuestDownload":["$ADHOC_LIMIT_OPTIONAL$","$ADHOC_LIMIT_ALWAYS$","$ADHOC_LIMIT_NEVER$"],"NotifyAfterGuestUpload":["$ADHOC_LIMIT_OPTIONAL$","$ADHOC_LIMIT_ALWAYS$","$ADHOC_LIMIT_NEVER$"],"SendAccessLinkToRecipients":["$ADHOC_LIMIT_OPTIONAL$","$ADHOC_LIMIT_ALWAYS$","$ADHOC_LIMIT_NEVER$"],"SendAccessLinkToSender":["$ADHOC_LIMIT_OPTIONAL$","$ADHOC_LIMIT_ALWAYS$","$ADHOC_LIMIT_NEVER$"],"AdHocAllowedOutgoingSource":["$ADHOC_ADHOC_ALLOWED_OUTGOING_SOURCE_0$","$ADHOC_ADHOC_ALLOWED_OUTGOING_SOURCE_1$","$ADHOC_ADHOC_ALLOWED_OUTGOING_SOURCE_2$"]};CreatePushButton("$ADD_BUTTON$...","AddLimitButton",OnAddLimit);CreatePushButton("$EDIT_BUTTON$...","EditLimitButton",OnEditLimit);CreatePushButton("$DELETE_BUTTON$","DeleteLimitButton",OnDeleteLimit);if("Domain"=="Group")CreatePushButton("$EDIT_RATIO_FREE_FILES$...","RatioFreeFilesButton",OnEditRatioFreeFiles);else if("Domain"=="User"){CreatePushButton("$EDIT_RATIO_FREE_FILES$...","RatioFreeFilesButton",OnEditRatioFreeFiles);CreatePushButton("$RATIOS_QUOTAS_BUTTON$...","RatioQuotasButton",OnShowRatioQuota);}var aLimitTypeStr=[];var aLimitTypeName=[];aLimitTypeStr=["$CONNECTION_LIMIT$","$PASSWORD_LIMIT$","$DIR_LIST_LIMIT$","$TRANSFER_LIMIT$","$LISTENER_TYPE_HTTP_DESC$","$EMAIL_LIMIT$","$FILE_SHARING$","$ADVANCED_LIMIT$"];aLimitTypeName=["Connection","Password","DirList","Transfer","HTTP","Email","FileSharing","Advanced"];var LimitCatCombo=CreateComboBox("$CONNECTION_LIMIT$","Connection",aLimitTypeStr,aLimitTypeName,"LimitType","LimitType",OnChangeLimitType,undefined,false,200);LimitCatCombo.getPopupTemplate().setStyle("height",(aLimitTypeName.length<=10)?((16*aLimitTypeName.length)+((AW.ie)?3:0))+"px":"163px");LimitCatCombo.onControlActivated=function(event){g_bPauseRefresh=true;};LimitCatCombo.onControlDeactivating=function(event){g_bPauseRefresh=false;};var LimitsList=CreateAdminGrid("LimitsList",["$NAME$","$VALUE$","$LIMIT_APPLIED_TOD$"],[$LIMITS_LIST_COL_SIZES$],"","limits","var",10,OnEditLimit);LimitsList.m_nTimerMS=5000;LimitsList.onKeyDelete=OnDeleteLimit;LimitsList.setCellFormat([new AW.Formats.LimitName,new AW.Formats.LimitValue,new AW.Formats.LimitTOD]);LimitsFilterGrid();function LimitsFilterGrid(){var sFilterServerAdminLimits="";var sFilterServerWindowAdminLimits="";var sFilterChangeOwnerLimits="";var sFilterWinLDAP="";if(!g_bSysAdmin){sFilterServerAdminLimits="*0";sFilterServerWindowAdminLimits=",3";}if(!g_bSupportsChangeOwner)sFilterChangeOwnerLimits=",4";if(!g_bSupportsInterpretLFASEOL)sFilterChangeOwnerLimits=sFilterChangeOwnerLimits+",5";if(!g_bAllowWindowsDrives&&!g_bWindowsDirListingMask){LimitsList.FilterGrid("[^1,2"+sFilterChangeOwnerLimits+sFilterServerWindowAdminLimits+"]",11,true,true);}else if(!g_bAllowWindowsDrives){LimitsList.FilterGrid("[^1"+sFilterChangeOwnerLimits+sFilterServerWindowAdminLimits+"]",11,true,true);}else if(!g_bWindowsDirListingMask){LimitsList.FilterGrid("[^2"+sFilterChangeOwnerLimits+sFilterServerWindowAdminLimits+"]",11,true,true);}else if(!g_bSupportsChangeOwner){LimitsList.FilterGrid("[^4"+sFilterServerWindowAdminLimits+"]",11,true,true);}else if(!g_bSupportsInterpretLFASEOL){LimitsList.FilterGrid("[^5"+sFilterServerWindowAdminLimits+"]",11,true,true);}else LimitsList.FilterGrid(sFilterServerAdminLimits,10,true,true);}LimitsList.getCellImage=function(nCol,nRow){return("Limit");};LimitsList.m_XMLTable.setColumns(["@name","@val","@todLimit","@todStart","@todEnd","@todDays","@type","@scale","@inherited","@ID","@admintype","@OStype"]);LimitsList.EnableUpdatesDef=LimitsList.EnableUpdates;LimitsList.EnableUpdates=function(bEnable,sFmtStr,sNewVal,bReplaceOrigURL){if(bEnable)UpdateLimitsURL();LimitsList.EnableUpdatesDef(bEnable,sFmtStr,sNewVal,bReplaceOrigURL);};LimitsList.setSelectionMode("single-row");LimitsList.setSelectionMultiple(false);LimitsList.defineRowProperty("row-color",function(nRow){return(this.getCellData(8,nRow)=="1")?"#e9f1f5":"white"});LimitsList.getRowTemplate().setStyle("background",function(){return(this.getRowProperty("row-color"))});LimitsList.onSelectedRowsChanging=function(array){if(this.getSelectedRows().length)this.getRowTemplate(this.getSelectedRows()[0]).setStyle("background",function(){return(this.getRowProperty("row-color"))});};LimitsList.onSelectedRowsChanged=function(anSelectedRows){if(anSelectedRows.length)this.getRowTemplate(anSelectedRows[0]).setStyle("background","#316ac5");};function SetLimitListFocus(){g_bPauseRefresh=false;}if(document.attachEvent)document.getElementById("LimitsListContain").attachEvent("onmousedown",SetLimitListFocus);else document.getElementById("LimitsListContain").addEventListener("mousedown",SetLimitListFocus,false);LimitsList.RestoreRowState=function(){this.m_bRestoredCurrent=false;if((this.m_anSelectedObjects!=undefined)&&(this.m_anSelectedObjects.length)){var nSelID=this.m_anSelectedObjects[0];for(var nIndex=0;nIndex<this.getRowCount();nIndex++){if(parseInt(this.getCellData((this.m_nNumColumns-1),nIndex))==nSelID){this.setRowSelected(true,nIndex);this.setSelectedRows([nIndex]);this.setCurrentRow(nIndex);this.m_nCurrentObj=-1;this.m_bRestoredCurrent=true;}else this.getRowTemplate(nIndex).setStyle("background",function(){return(this.getRowProperty("row-color"))});}this.m_anSelectedObjects=undefined;}if(!g_bPauseRefresh){try{this.element().focus();}catch(ex){}}};var sOnAddLimit=String("OnAddLimit(");var sOnEditLimit=String("OnEditLimit(");var sOnDeleteLimit=String("OnDeleteLimit(");var g_bDefaultLimitAdd=false;CreateContextMenu([sOnAddLimit,sOnEditLimit,sOnDeleteLimit],["$ADD_BUTTON$...",function(){return(OnEqualOneContextMenu(LimitsList,"$EDIT_BUTTON$..."))},function(){return(OnGreaterZeroContextMenu(LimitsList,"$DELETE_BUTTON$"))}],["Add","Edit","FileDelete"],LimitsList,"LimitsListContext",true);function OnChangeLimitType(sValue,bSkipLoading,bForce){if((bForce)||(sValue!=g_sCurrentLimitCat)){LoadingDialog(true);LimitsList.setSelectedRows([]);ClearGrid(LimitsList);UpdateLimitsURL(sValue);LimitsList.m_bSaving=true;g_sCurrentLimitCat=sValue;LimitsList.ForceUpdate();}}function UpdateLimitsURL(sValue){if((sValue==undefined)||(sValue=="")){var nSelectedItem=LimitCatCombo.getSelectedItems();sValue=LimitCatCombo.getItemValue(nSelectedItem);LimitCatCombo.setControlText(LimitCatCombo.getItemText(nSelectedItem));}if("Domain"=="Group"&&((g_sActiveGroupType=="OUGroups"||g_sActiveGroupType=="LDAPGroups")&&sValue=="Password"))sValue="WinLDAPPassword";LimitsList.ChangeURL("Limits/Domain"+sValue+"Limits.xml?ID="+"%ID%");}function FormatAppliedDayTime(sLimited,sStart,sEnd,sDays){var asDayAbbrevs=["$MONDAY_ABBREV$","$TUESDAY_ABBREV$","$WEDNESDAY_ABBREV$","$THURSDAY_ABBREV$","$FRIDAY_ABBREV$","$SATURDAY_ABBREV$","$SUNDAY_ABBREV$"];var sLimitedStr="";if(sLimited=="1"){sLimitedStr=FormatTODTime(sStart)+" - "+FormatTODTime(sEnd);}else{sLimitedStr="$LIMIT_NOT_LIMITED$";}for(var nIndex=0;nIndex<sDays.length;nIndex++){if(sDays.charAt(nIndex)=="1")sLimitedStr+=", "+asDayAbbrevs[nIndex];}return(sLimitedStr);}function FormatTODTime(sMilliseconds){var nTotalMinutes=(parseInt(sMilliseconds)/1000/60);var nHours=parseInt(nTotalMinutes/60),nMinutes=parseInt(nTotalMinutes % 60);var sTime="$LOCALE_TIME_FORMAT$",sTemp="";if(sTime.indexOf("%I")>=0){if(sTime.indexOf("%p")>=0)sTime=sTime.replace(eval("/%p/g"),((nHours>=12)?"$TIME_PM$":"$TIME_AM$"));if(nHours>12)sTemp=(nHours-12);else if(nHours==0)sTemp=12;else sTemp=nHours;sTime=sTime.replace(eval("/%I/g"),sTemp);}else if(sTime.indexOf("%H")>=0){if(nHours<10)sTemp="0"+nHours;else sTemp=nHours;sTime=sTime.replace(eval("/%H/g"),sTemp);}if(sTime.indexOf("%M")>=0){if(nMinutes>10)sTemp=nMinutes;else sTemp="0"+nMinutes;sTime=sTime.replace(eval("/%M/g"),sTemp);}return(sTime);}function FormatLimitValue(sValue,sType,sScale,sName){var sRet=decodeURIComponent(sValue);var nValue=parseInt(sValue);var nScale=parseInt(sScale);var sLimitName=sName;if(isNaN(nValue))nValue=0;switch(parseInt(sType)){case(0):sRet=(sValue=="1")?"$YES_BUTTON$":"$NO_BUTTON$";break;case(1):var fValue=parseFloat(sValue);if(fValue==0)sRet="$LIMIT_UNLIMITED$";else sRet=FormatFileSize((fValue*1024),true)+"/$ACTIVITY_SEC_ABBREV$";break;case(2):nValue=parseInt(nValue/nScale);if(nValue==0)sRet="$LIMIT_NO_TIMEOUT$";else sRet=nValue+((nValue==1)?" $LIMIT_MINUTE$":" $LIMIT_MINUTES$");break;case(3):if(nValue==0)sRet="$LIMIT_UNLIMITED$";else sRet=nValue+((nValue==1)?" $LIMIT_SESSION$":" $LIMIT_SESSIONS$");break;case(4):nValue=parseInt(nValue/nScale);if(nValue==0)sRet="$LIMIT_NEVER_EXPIRES$";else sRet=nValue+((nValue==1)?" $DAY$":" $DAYS$");break;case(5):if(sRet==0)sRet="$LIMIT_NO_MINIMUM$";else sRet=nValue+((nValue==1)?" $LIMIT_CHARACTER$":" $LIMIT_CHARACTERS$");break;case(6):sRet="$LIMIT_VERSION$ "+nValue;break;case(7):case(12):var fValue=parseFloat(sValue);if(fValue==0)sRet="$LIMIT_UNLIMITED$";else{sRet=FormatFileSize((fValue),true);}break;case(8):if(sLimitName=="HTTPLoginPageDefaultLanguage"){var asComboValues=g_asLangVals;if(sValue=="")sRet="$NONE$";else{for(var nIndex=0;nIndex<asComboValues.length;nIndex++){if(asComboValues[nIndex]==decodeURIComponent(sValue)){sRet=g_asLimitComboStrings[sLimitName][nIndex];break;}}}}else sRet=g_asLimitComboStrings[sLimitName][nValue];break;case(13):if(nValue==0)sRet="$LIMIT_NEVER$";else sRet=nValue+((nValue==1)?" $LIMIT_SECOND$":" $LIMIT_SECONDS$");break;}return(sRet);}function GetLimitInfo(nRow){var asLimitInfo=[];var nScale=parseInt(LimitsList.getCellData(7,nRow));if((isNaN(nScale))||(nScale<1))nScale=1;asLimitInfo[0]=LimitsList.getCellText(0,nRow);asLimitInfo[1]=LimitsList.getCellData(6,nRow);asLimitInfo[2]=LimitsList.getCellData(1,nRow);asLimitInfo[3]=nScale;asLimitInfo[4]=LimitsList.getCellData(2,nRow);asLimitInfo[5]=LimitsList.getCellData(3,nRow);asLimitInfo[6]=LimitsList.getCellData(4,nRow);asLimitInfo[7]=LimitsList.getCellData(5,nRow);asLimitInfo[8]=LimitsList.getCellData(9,nRow);asLimitInfo[9]=LimitsList.getCellData(0,nRow);return(asLimitInfo);}function OnAddLimit(bReplaceLoad,bReplaceConfirm){g_bPauseRefresh=true;if(LimitsList.getRowCount()==0){LoadingDialog(true);LimitsList.m_fnPostUpdate=function(nError){if(!nError)AddLimit(true);else{var xmlDoc=this.m_XMLTable.getResponseXML();var sResultText=GetXMLValue(xmlDoc,"ResultText");LoadingDialog(false);AlertDialog(GetResultText(0,"",sResultText));}this.m_fnPostUpdate=undefined;};}else AddLimit(bReplaceLoad,bReplaceConfirm);}function AddLimit(bReplaceLoad,bReplaceConfirm){var aasLimits=[];var sLastLimit="";var anIndices=LimitsList.getRowIndices();for(var nIndex=0;nIndex<LimitsList.getRowCount();nIndex++){bSkipWindowsLimits=false;bSkipNonWindowsLimits=false;if((LimitsList.getCellData(8,anIndices[nIndex])=="1")&&(LimitsList.getCellText(0,anIndices[nIndex])!=sLastLimit)){if((!g_bAllowWindowsDrives&&(parseInt(LimitsList.getCellData(11,anIndices[nIndex]))==1))||(!g_bWindowsDirListingMask&&(parseInt(LimitsList.getCellData(11,anIndices[nIndex]))==2))||(!g_bSupportsInterpretLFASEOL&&(parseInt(LimitsList.getCellData(11,anIndices[nIndex]))==5)))bSkipWindowsLimits=true;if((!g_bSupportsChangeOwner&&(parseInt(LimitsList.getCellData(11,anIndices[nIndex]))==4)))bSkipNonWindowsLimits=true;if((g_bSysAdmin||(parseInt(LimitsList.getCellData(10,anIndices[nIndex]))!=1))&&!bSkipWindowsLimits&&!bSkipNonWindowsLimits){aasLimits.push(GetLimitInfo(anIndices[nIndex]));sLastLimit=aasLimits[aasLimits.length-1][0];}}}OnLimitLoad(aasLimits);if(bReplaceLoad)ReplaceDialog(g_sBusyDialog,"LimitsDialog");else if(bReplaceConfirm){ReplaceDialog("ConfirmDialog","LimitsDialog");SaveLimitsButton.focus();}else{ShowDialog("LimitsDialog");SaveLimitsButton.focus();}g_bDefaultLimitAdd=false;}function AddLimitConfirm(){g_bDefaultLimitAdd=true;OnAddLimit(false,true);}function OnEditLimit(){var anSelectedRows=LimitsList.getSelectedRows();g_bDefaultLimitAdd=false;g_bPauseRefresh=true;if(anSelectedRows.length==1){if(!g_bWebClientProLicense&&LimitsList.getCellData(0,anSelectedRows[0])=="AllowWebClientPro")AlertDialog("$NO_WEB_CLIENT_PRO_LICENSE$");else if(!g_bFVJVLicense&&LimitsList.getCellData(0,anSelectedRows[0])=="AllowFTPVoyagerJV")AlertDialog("$NO_FVJV_LICENSE$");else if(!g_bBrandingRemovalLicense&&LimitsList.getCellData(0,anSelectedRows[0])=="DisableBranding")AlertDialog("$NO_BRAND_REMOVAL_LICENSE$");else{if(LimitsList.getCellData(8,anSelectedRows[0])=="1"){ConfirmDialog("$LIMIT_CANT_EDIT_INHERITED$<br><br>$LIMIT_CREATE_NEW$",AddLimitConfirm,undefined,undefined,undefined,undefined,undefined,undefined,true);}else{aasLimits=[];aasLimits.push(GetLimitInfo(anSelectedRows[0]));OnLimitLoad(aasLimits,true);ShowDialog("LimitsDialog");}}}else AlertDialog("$SELECT_A_LIMIT_TO_EDIT$");}function LimitDeleteDone(){LimitsList.ForceUpdate();}function OnDeleteLimit(){var anSelectedRows=LimitsList.getSelectedRows();g_bPauseRefresh=true;if(anSelectedRows.length==1){if(LimitsList.getCellData(8,anSelectedRows[0])=="1")AlertDialog("$LIMIT_CANT_DELETE_INHERITED$");else{LimitsList.OnDeleteObject("Result.xml%DELETE_OBJECT_REF%CSessionAttrs."+g_EditObjectID+"."+LimitsList.getCellData(0,anSelectedRows[0]),"$ASK_DELETE_LIMIT$","$SELECT_A_LIMIT_TO_DELETE$",LimitDeleteDone);}}else AlertDialog("$SELECT_A_LIMIT_TO_DELETE$");}</script></div><div id="Settings" style="display:none"><div class="layercontent"><table cellpadding="0" cellspacing="0"><tr><td style="vertical-align:top;padding-right:10px;"><img alt="$SETTINGS_TAB$" src="%ADMIN_FILE%Images/Settings32.png" width="32" height="32" /></td><td style="vertical-align:top;">$DOMAIN_SETTINGS_TAB_INFO$</td></tr></table><div class="ie6positionfix"><div style="float:left; width:$CONTAINER_CONNECTION_GROUP_WIDTH$px;padding-bottom:5px;margin-right:10px;"><div id="ConnectionGroup"><span id="EnableAntiHammer"></span> <span id="AHTimes"></span>&nbsp; $AH_TIMES_WITHIN$ <span id="AHSpan"></span>&nbsp; $AH_SECONDS_FOR$ <span id="AHDuration"></span> &nbsp;$LIMIT_MINUTES$ (0 $FOR_PERMANENTLY$).<br /><span id="SSHSettings" style="display:none;"><span id="SSHHideServerID"></span><br /></span>$WEB_CLIENT_STARTUP$:<br /><span id="WebClientStartupMode"></span><br /><div style="padding-top:5px;clear:both;width:525px;"><span id="SaveConnectionButton" style="float:right"></span></div></div><br /><div id="CustomLogoGroup" style="padding-bottom:5px;"><div id="CustomLogoTabContent"><div>$CUSTOM_TITLE_TEXT$:<div style="overflow:auto"><span id="HTTPLoginPageTitle"></span></div></div>$CUSTOM_LOGO_PATH$:<div style="overflow:auto"><span id="HTTPLogoPath"></span> <span id="BrowseButtonCustomLogo"></span></div><img src="%COMMON_FILE%Images/blank.gif" width="160" height="40" class="CustomLogoContainer" alt="$CUSTOM_LOGO$" id="CustomLogoID" /><div style="float:left;width:250px;padding:5px 0 0 10px;">$CUSTOM_LOGO_NOTE$</div><br /><br /><div><div style="clear:both;width:450px;"><span id="UseInheritedCLT" style="float:right"></span><span style="line-height:25px;">$CUSTOM_LOGIN_TEXT$:</span></div><div style="overflow:auto;clear:both;"><textarea name="HTTPLoginPageText" id="HTTPLoginPageText" class="aw-border" style="width:450px;height:120px;"></textarea></div></div><div>$CUSTOM_WEB_CLIENT_BACKGROUND_STYLE$:<br /><div style="overflow:auto"><span id="HTMLWebClientBackground"></span></div></div><div style="padding-top:5px;clear:both;width:525px;"><span id="SaveCustomLogoButton" style="float:right"></span></div></div><div style="text-align:center;" id="CustomLogoTabContentContainer"><div id="CustomLogoTabContentNone" class="UpgradeLicenseMsg"><img id="CustomLogoTabContentDisableImage" src="%COMMON_FILE%Images/Warn.png" width="32" height="32" alt="" class="UpgradeLicenseImg" /><div id="CustomLogoTabContentBody">$LICENSE_DISABLED_FEATURE$<br /><br />$UPGRADE_LICENSE_NOTE$</div></div></div></div><script type="text/javascript" language="javascript">function AddPostSettings(objPostReq){}</script></div><div id="PasswordRecoveryEmailGroup" style="float:left;margin-right:5px;"><div id="PasswordRecoveryTabContent">$EVENTS_EMAIL_SUBJECT_LABEL$:<div style="overflow:auto"><span id="PasswordRecoveryEmailSubject"></span></div><div style="clear:both;width:525px;"><span id="UseInheritedPRM" style="float:right"></span><span style="line-height:25px;">$EVENTS_EMAIL_BODY_LABEL$:</span></div><div style="overflow:auto;clear:both;"><textarea name="PasswordRecoveryMessage" id="PasswordRecoveryMessage" class="aw-border" style="width:525px;height:180px;"></textarea></div><div style="padding-top:5px;clear:both;width:525px;"><span id="SavePasswordRecoveryEmailButton" style="float:right"></span><span id="ConfigSMTPWelcomeButton"></span></div></div></div><br /><div id="DLLPathGroup" style="display:none;margin-top:5px;padding-bottom:5px;float:left;"><div id="IntegrationDLLTabContent"><div><img src="%COMMON_FILE%Images/Warn.png" width="32" height="32" class="tab-header" alt="" />$INTEGRATION_DLL_TEXT$</div><br />$INTEGRATION_DLL_PATH$:<div style="overflow:auto"><span id="IntegrationDLLPath"></span> <span id="BrowseButtonIntegrationDLL"></span></div><div style="padding-top:5px;clear:both;width:525px;"><span id="SaveDLLButton" style="float:right"></span></div></div><div style="text-align:center;" id="IntegrationDLLTabContentContainer"><div id="IntegrationDLLTabContentNone" class="UpgradeLicenseMsg"><img id="IntegrationDLLTabContentDisableImage" src="%COMMON_FILE%Images/Warn.png" width="32" height="32" alt="" class="UpgradeLicenseImg" /><div id="IntegrationDLLTabContentBody">$LICENSE_DISABLED_FEATURE$<br /><br />$UPGRADE_LICENSE_NOTE$</div></div></div></div></div><div style="padding-top:5px;clear:both;width:538px;"><span id="EditRatioFreeFiles"></span> <span id="ChangeAdminPasswordButton" style="padding-left:5px;"></span></div></div></div><div id="FTPCP" style="display:none"><div class="layercontent"><table cellpadding="0" cellspacing="0"><tr><td style="vertical-align:top;padding-right:10px;"><img alt="$FTP_COMMANDS_TAB$" src="%ADMIN_FILE%Images/Command32.png" width="32" height="32" /></td><td style="vertical-align:top;">$DOMAIN_FTPCP_TAB$</td></tr></table><div id="FTPCPInfo" style="padding:0 0 5px 0;"><span id="FTPCPStatus"></span><br /><span id="ManageFTPCPButton"></span></div><div id="CommandProcInfo" style="visibility:hidden;"><div style="clear:both;"><span id="CommandsList"></span></div><div style="padding:5px 0 0 0;"><span id="CommandProperties"></span><span id="GlobalProperties"></span></div></div></div></div><div id="Encryption" style="display:none"><div class="layercontent"><div class="ie6positionfix"><table cellpadding="0" cellspacing="0"><tr><td style="vertical-align:top;padding-right:10px;"><img alt="$ENCRYPTION_TAB$" src="%ADMIN_FILE%Images/Encryption.png" width="32" height="32" /></td><td style="vertical-align:top;">$DOMAIN_ENCRYPTION_TAB_INFO$</td></tr></table><div id="EncryptionTabContent"><span id="DomainCertNote" style="display:none;padding-bottom:5px;"><br />$CERTIFICATE_SHARE_NOTE$<br /><br /></span><div class="ie6positionfixNoRelative"><div style="float:left;width:400px;padding-right:10px;margin-right:10px;"><div id="SSLCertGroup"><div>$CERTIFICATE$:<br /><div style="overflow:auto"><span id="SSLCertPath"></span><span id="SSLCertBrowse"></span></div></div><div>$PRIVATE_KEY$:<br /><div style="overflow:auto"><span id="SSLKeyPath"></span><span id="SSLKeyBrowse"></span></div></div><div id="passcert-container">$PASSWORD$:<br /><div style="height:57px;"><span id="SSLCertPassword"></span><div style="margin-top:5px;"><span id="ViewCert"></span></div></div></div>$CACERTIFICATE$:<div id="CACertificateContent"><div style="overflow:auto"><span id="SSLCACertPath"></span><span id="SSLCACertBrowse"></span></div></div><div style="text-align:center;" id="CACertificateContentContainer"><div id="CACertificateContentNone" class="UpgradeLicenseMsg"><img id="CACertificateContentDisableImage" src="%COMMON_FILE%Images/Warn.png" width="32" height="32" alt="" class="UpgradeLicenseImg" /><div id="CACertificateContentBody">$LICENSE_DISABLED_FEATURE$<br /><br />$UPGRADE_LICENSE_NOTE$</div></div></div><div><div style="padding:5px 0 0 0;float:left;width:200px;"><span id="CreateCert"></span></div><div style="padding:5px 0 0 10px;float:left;width:172px;"><span id="SSLSaveCert" style="float:right;"></span></div></div></div><div id="SSLOptionsContainer" style="height:230px;margin-top:10px;"><div id="SSLOptions"><div id="SSLOption-Unavailable" style="display:none;">$SSL_OPTION_NOT_AVAILABLE$</div><div id="SSLOption-CheckBox"><span id="DisableTLSv12"></span><br /><span id="DisableTLSv13"></span><br /><div><span id="ShowSSLCipherSuites"></span></div></div></div></div></div><div style="float:left; width:380px; height: 100%; padding-right:10px;margin-right:10px;" id="SSHGroup"><div id="SSHCertGroup"><div>$PRIVATE_KEY$:<br /><div style="overflow:auto"><span id="SSHKeyPath"></span><span id="SSHKeyBrowse" style="padding-left: 5px;"></span></div></div><div>$PASSWORD$:<div style="overflow:auto"><span id="SSHCertPassword"></span></div></div><div><div style="padding:10px 0px 5px 0px;float:left;width:200px;"><span id="CreatePrivateKey"></span></div><div style="padding:10px 0px 5px 5px;;float:left;width:160px;"><span id="SSHSaveCert" style="float:right;"></span></div></div><div id="SSHKeyFingerprintDIV" style="padding-top:5px;clear:both;">$SSH_KEY_TYPE$:<div style="overflow:auto"><span id="SSHKeyType"></span></div>$SSH_KEY_FINGERPRINT$:<div style="overflow:auto"><textarea name="SSHKeyFingerprints" id="SSHKeyFingerprints" class="aw-border" style="width:340px;height:48px;"></textarea></div></div></div>
<div id="SSHOptions" style="min-width: 160px; min-height: 200px; margin-top: 10px; display: block;"><div id="SSHCiphers" class="gen-floating"><div class="gen-option-group"><span class="gen-option" id="SSHAES128"></span><span class="gen-option" id="SSHAES192"></span><span class="gen-option" id="SSHAES256"></span></div><div class="gen-option-group"><span class="gen-option" id="SSHAES128ctr"></span><span class="gen-option" id="SSHAES192ctr"></span><span class="gen-option" id="SSHAES256ctr"></span></div><div class="gen-option-group"><span class="gen-option" id="SSHCBC"></span><span class="gen-option" id="SSH3DES"></span></div></div><div id="SSHMACs" class="gen-floating" style="padding-top: 5px; /*shame on me :'(*/"><div class="gen-option-group"><span class="gen-option" id="SSHMACMD5"></span></div><div class="gen-option-group"><span class="gen-option" id="SSHMACSHA1"></span><span class="gen-option" id="SSHMACSHA1_96"></span></div><div class="gen-option-group"><span class="gen-option" id="SSHMACSHA2_256"></span><span class="gen-option" id="SSHMACSHA2_256_96"></span><span class="gen-option" id="SSHMACSHA2_512"></span><br /><span class="gen-option" id="SSHMACSHA2_512_96"></span><br /></div></div><div id="SSHKEXs" class="gen-floating" style="padding-top: 5px;"><div class="gen-option-group"><span class="gen-option" id="SSHKEX_DH_GROUP1"></span><span class="gen-option" id="SSHKEX_DH_GROUP14"></span><span class="gen-option" id="SSHKEX_DH_GROUP14_SHA2_256"></span><span class="gen-option" id="SSHKEX_DH_GROUP16_SHA2_512"></span><span class="gen-option" id="SSHKEX_DH_GROUP_EXCHANGE_SHA2_256"></span></div><div class="gen-option-group"><span class="gen-option" id="SSHKEX_ECDH_NISTP256"></span><span class="gen-option" id="SSHKEX_ECDH_NISTP384"></span><span class="gen-option" id="SSHKEX_ECDH_NISTP521"></span></div></div></div></div></div><div style="display:none;float:left;width:250px;height:315px;" id="FIPS-Div"><div id="FIPSOptions"><span id="EnableFIPS"></span><br />$FIPS_NOTE$<div style="text-align:center;"><img src="%ADMIN_FILE%Images/FIPSDisabled-small.png" id="FIPSImage" alt="$EDITION_FIPS$" style="margin:0 auto 0 auto;" /></div></div></div></div><div style="text-align:center;" id="EncryptionTabContentContainer"><div id="EncryptionTabContentNone" class="UpgradeLicenseMsg"><img id="EncryptionTabContentDisableImage" src="%COMMON_FILE%Images/Warn.png" width="32" height="32" alt="" class="UpgradeLicenseImg" /><div id="EncryptionTabContentBody">$LICENSE_DISABLED_FEATURE$<br /><br />$UPGRADE_LICENSE_NOTE$</div></div></div></div></div><div style="clear:left;">&nbsp;</div></div><div id="CustHTML" style="display:none"><div class="layercontent"><div class="ie6positionfix"><table cellpadding="0" cellspacing="0"><tr><td style="vertical-align:top;padding-right:10px;"><img alt="$CUSTOM_HTML_TAB$" src="%ADMIN_FILE%Images/CustomHTML32.png" width="32" height="32" /></td><td style="vertical-align:top;">$CUSTOM_HTML_TAB_INFO$</td></tr></table><div id="CustomHTMLTabContent"><div id="CustomHTMLPathsGroup"><div>$CUSTOM_DIR_PATH$:<br /><div style="overflow:auto"><span id="HTMLDir"></span><span id="HTMLDirBrowse"></span></div></div><div>$CUSTOM_CSS_PATH$:<br /><div style="overflow:auto"><span id="HTMLLoginCSS"></span><span id="HTMLLoginCSSBrowse"></span></div></div><div>$CUSTOM_HEADER_PATH$:<br /><div style="overflow:auto"><span id="HTMLLoginHeader"></span><span id="HTMLLoginHeaderBrowse"></span></div></div><div>$CUSTOM_FOOTER_PATH$:<br /><div style="overflow:auto"><span id="HTMLLoginFooter"></span><span id="HTMLLoginFooterBrowse"></span></div></div><span id="UseCustomHTML"></span><div style="padding-top:5px;clear:both;width:380px;"><span id="SaveCustomHTML" style="float:right"></span></div><div style="padding-top:10px;clear:both;"><img src="%COMMON_FILE%Images/Information.png" width="32" height="32" style="float:left;margin:0 5px 40px 0;" />$CUSTOM_HTML_SAMPLE_TXT$</div></div></div></div><div style="text-align:center;" id="CustomHTMLTabContentContainer"><div id="CustomHTMLTabContentNone" class="UpgradeLicenseMsg"><img id="CustomHTMLTabContentDisableImage" src="%COMMON_FILE%Images/Warn.png" width="32" height="32" alt="" class="UpgradeLicenseImg" /><div id="CustomHTMLTabContentBody">$LICENSE_DISABLED_FEATURE$<br /><br />$UPGRADE_LICENSE_NOTE$</div></div></div></div></div><div id="FileShareTab" style="display:none"><div class="layercontent"><div class="ie6positionfix"><table cellpadding="0" cellspacing="0"><tr><td style="vertical-align:top;padding-right:10px;"><img alt="$FILE_SHARE_TAB$" src="%COMMON_FILE%Images/FileShare32.png" width="32" height="32" /></td><td style="vertical-align:top;">$FILE_SHARE_TAB_INFO$</td></tr></table><div id="FileShareTabContent"><div id="FileShareContentGroup"><div><label id="AdHocURLDomainLabel" for="AdHocURLDomain">$FILE_SHARE_DOMAIN_URL$:</label><br /><div style="overflow:auto;"><span id="AdHocURLDomain"></span></div></div><div><label id="AdHocRootPathLabel" for="AdHocFileShareRoot">$FILE_SHARE_ROOT_PATH$:</label><br /><div style="overflow:auto"><span id="AdHocFileShareRoot"></span><span id="AdHocFileShareRootBrowse"></span></div></div><div>$FILE_SHARE_DELETE_DAYS$ <span id="AdHocDeleteDays"></span> $DAYS$<span><a href="#" onclick="javascript:return OnFileShareDeleteInfo();"><img src="%COMMON_FILE%Images/Help16.png" width="16" height="16" title="$HELP$" alt="$HELP$" style="margin:0 1px;border:none;vertical-align:middle;" /></a></span></div><div style="clear:both"><span style="line-height:25px;">$FILE_SHARE_SUBJECT_TEMPLATE$:</span></div><div style="overflow:auto;clear:both;"><textarea name="AdHocSubjectTemplate" id="AdHocSubjectTemplate" class="aw-border" style="width:525px;height:30px;"></textarea></div><div id="UseInheritedSubjectTemplate"></div><div style="clear:both"><span style="line-height:25px;">$FILE_SHARE_INVITATION_TEMPLATE$:</span></div><div style="overflow:auto;clear:both;"><textarea name="AdHocInvitationTemplate" id="AdHocInvitationTemplate" class="aw-border" style="width:525px;height:180px;"></textarea></div><div id="UseInheritedInvitationTemplate"></div><div id="AdHocURLSecure"></div><div id="AllowAdHocFileSharing"></div><div style="padding-top:5px;clear:both;"><span id="SaveAdHocSettings" style="float:right"></span><span id="myConfigSMTPButton" style="float:right"></span></div><div style="padding-top:10px;clear:both;"><div style="float:left;margin:0 5px 40px 0;width:32px;height:32px"><img src="%COMMON_FILE%Images/Information.png" width="32" height="32" /></div><div style="float:left;padding-left:8px;width: 482px;"><div id="AdHocLimitInfo">$FILE_SHARE_LIMIT_INFO$</div><div id="AdHocWarnSMTP" style="margin-top:8px;display:none;">$FILE_SHARE_SMTP_WARNING$</div></div><div style="clear: both;"></div></div></div></div></div><div style="text-align:center;" id="FileShareTabContentContainer"><div id="FileShareTabContentNone" class="UpgradeLicenseMsg"><img id="FileShareTabContentDisableImage" src="%COMMON_FILE%Images/Warn.png" width="32" height="32" alt="" class="UpgradeLicenseImg" /><div id="FileShareTabContentBody">$LICENSE_DISABLED_FEATURE$<br /><br />$UPGRADE_LICENSE_NOTE$</div></div></div></div></div><div id="LimitsMFATab" class="mfa-tab" style="display:none"><div class="layercontent mfa-tab__content"><div class="ie6positionfix"><div id="LimitsMFATabContent"><div class="mfa-tab__description mfa-row"><img alt="$WINDOWS_AUTH_TAB_NAME$" src="%ADMIN_FILE%Images/shield.png" width="32" height="32"/><span>$MFA_TAB_INFO$</span></div><div class="mfa-tab__state mfa-row"><label><strong>$MFA_AUTHENTICATOR$</strong></label><br><span id="TOTPProvisioning"></span><span class="mfa-tab__warning Hidden"><img src="Images/Warn16.png" alt="warning"><span>$MFA_DOMAIN_DISABLED_WARNING$</span></span></div><div class="mfa-tab__company-name mfa-row"><label for="mfa-company-name"><strong class="company-name">$MFA_COMPANY_NAME$</strong></label><br><span id="TOTPCompanyName"></span></div><div class="mfa-tab__company-name mfa-row"><span id="mfa-save"></span></div></div></div><div style="text-align:center;" id="LimitsMFATabContentContainer"><div id="LimitsMFATabContentNone" class="UpgradeLicenseMsg"><img id="LimitsMFATabContentDisableImage" src="%COMMON_FILE%Images/Warn.png" width="32" height="32" alt="" class="UpgradeLicenseImg" /><div id="LimitsMFATabContentBody">$LICENSE_DISABLED_FEATURE$<br /><br />$UPGRADE_LICENSE_NOTE$</div></div></div></div></div></div><script type="text/javascript" language="JavaScript">var g_EditObjectID=%ID%;var g_bSSHLicense=("%CServer.%SERVER_ID%.SSHLicense%"!="0");var g_bIntegrationDLLLicense=("%CDomain.%ID%.IntegrationDLLLicense%"!="0");var g_bAllowWindowsIntegrationDLL=("%WINDOWS_INTEGRATION_DLL%"!="0");var g_nAntiHammerID=parseInt("%CDomain.%ID%.LimitIPConnect.ID%");var g_anAHDefaults=(isNaN("%CServer.%SERVER_ID%.LimitIPConnect.ID%"))?[4,30,300]:["%CLimitConnect.%CServer.%SERVER_ID%.LimitIPConnect.ID%.Connections%","%CLimitConnect.%CServer.%SERVER_ID%.LimitIPConnect.ID%.WithinSeconds%","%CLimitConnect.%CServer.%SERVER_ID%.LimitIPConnect.ID%.BlockSeconds%"];var sEventObjectType="Domain";var sPREmailSubjectVal=decodeURIComponent("%CDomain.%ID%.PasswordRecoveryEmailSubject%"),sPREmailSubjectDefault=decodeURIComponent("%CDomain.%ID%.PasswordRecoveryEmailSubject.Default%");var sMessageValue=decodeURIComponent("%CDomain.%ID%.PasswordRecoveryEmailMessage%"),sMessageDefaultValue=decodeURIComponent("%CDomain.%ID%.PasswordRecoveryEmailMessage.Default%");CreateGroupBox("$PASSWORD_RECOVERY_EMAIL_GROUP$","PasswordRecoveryEmailGroup",565,295);CreatePushButton("$SAVE_BUTTON$","SavePasswordRecoveryEmailButton",OnSaveSettings);var PasswordRecoveryEmailSubject=CreateComboBox("","",[],[],"PasswordRecoveryEmailSubject","PasswordRecoveryEmailSubject",undefined,undefined,true,525,20,OnSaveSettings,true);var WECheck=CreateCheckBox("$PR_CHECK_LABEL$","UseInheritedPRM","UseInheritedPRM",(sMessageValue==sMessageDefaultValue),OnEnableDisablePR);PasswordRecoveryEmailSubject.initValue(sPREmailSubjectVal,sPREmailSubjectDefault);if(sPREmailSubjectVal.length)PasswordRecoveryEmailSubject.setControlText(sPREmailSubjectVal);else PasswordRecoveryEmailSubject.setControlText(sPREmailSubjectDefault);if(sMessageValue.length)document.getElementById("PasswordRecoveryMessage").value=sMessageValue;else document.getElementById("PasswordRecoveryMessage").value=sMessageDefaultValue;if(sMessageValue!=sMessageDefaultValue)document.getElementById("PasswordRecoveryMessage").disabled=false;else document.getElementById("PasswordRecoveryMessage").disabled=true;var SMTPWelcomeButton=CreatePushButton("$CONFIG_SMTP_BUTTON$...","ConfigSMTPWelcomeButton",OnSMTPConfig);SMTPWelcomeButton.setControlImage("SMTP_Icon");var nIntegrationDLLGroupHeight=196;if(g_bSysAdmin&&g_bAllowWindowsIntegrationDLL){if(!g_bIntegrationDLLLicense)nIntegrationDLLGroupHeight=156;CreateGroupBox("$INTEGRATION_DLL_GROUP$","DLLPathGroup",565,nIntegrationDLLGroupHeight);CreatePushButton("$SAVE_BUTTON$","SaveDLLButton",OnSaveSettings);document.getElementById("DLLPathGroup").style.display="block";}else document.getElementById("DLLPathGroup").style.display="none";var g_anWebClientVals=["%CDomain.%ID%.WebClientStartupMode%","%CDomain.%ID%.WebClientStartupMode.Default%","%CDomain.%ID%.WebClientStartupMode.IsDefault%"];CreateGroupBox("$CONNECTION_GROUP$","ConnectionGroup",$CONNECTION_GROUP_WIDTH$,(g_bSSHLicense)?160:150);var CustomLogoTextGroupHeight=365;if("%CDomain.%ID%.CustomLogoLicense%"!="1")CustomLogoTextGroupHeight=150;CreateGroupBox("$CUSTOM_LOGO_TITLE$","CustomLogoGroup",$CONNECTION_GROUP_WIDTH$,CustomLogoTextGroupHeight);var AHCheck=CreateCheckBox("$AH_CHECK_LABEL$","EnableAntiHammer","EnableAntiHammer",(!isNaN(g_nAntiHammerID)),OnEnableDisableAH);var AHTimesInput=CreateInputField("4","AHTimes","AHTimes",undefined,32);var AHSpanInput=CreateInputField("30","AHSpan","AHSpan",undefined,32);var AHDurationInput=CreateInputField("5","AHDuration","AHDuration",undefined,32);var SSHHideCheck;if("Domain"=="Server")SSHHideCheck=CreateCheckBox("$SSH_HIDE_SERVER_ID$","SSHHideServerID","SSHHideServerID",(parseInt(%CServer.%SERVER_ID%.SSHHideServerID%)!=0),OnChangeSettingsCheck);else SSHHideCheck=CreateTriStateCheckBox("$SSH_HIDE_SERVER_ID$","SSHHideServerID","SSHHideServerID","%CDomain.%ID%.SSHHideServerID%","%CDomain.%ID%.SSHHideServerID.Default%","%CDomain.%ID%.SSHHideServerID.IsDefault%",OnChangeSettingsCheck);var WebClientCombo=CreateComboBox("$WEB_CLIENT_ASK_DESC$","2",["$WEB_CLIENT_BASIC_DESC$","$WEB_CLIENT_FVJV_DESC$","$WEB_CLIENT_SHARE_DESC$","$WEB_CLIENT_ASK_DESC$","$WEB_CLIENT_NEW_DESC$","$WEB_CLIENT_SHARE_NEW_DESC$"],["0","1","3","2","5","6"],"WebClientStartupMode","WebClientStartupMode",OnChangeWebClient,undefined,true,210,20,undefined,undefined,undefined,true);CreatePushButton("$EDIT_RATIO_FREE_FILES$...","EditRatioFreeFiles",OnEditRatioFreeFiles);CreatePushButton("$SAVE_BUTTON$","SaveCustomLogoButton",OnSaveSettings);CreatePushButton("$SAVE_BUTTON$","SaveConnectionButton",OnSaveSettings);var CustomLogoPathCombo=CreateComboBox("","",[],[],"HTTPLogoPath","HTTPLogoPath",undefined,undefined,true,450,20,OnSaveSettings,true);var CustomLogoBrowse=CreatePushButton("","BrowseButtonCustomLogo",LoadDynamicContentAndRun,undefined,undefined,["%ADMIN_FILE%Include/BrowseDialog.htm?ID=%ID%","BrowseDialogDiv",String("OnBrowse("),[CustomLogoPathCombo,true,"0","0"]]);CustomLogoBrowse.setControlImage("Browse");if("%CDomain.%ID%.CustomLogoLicense%"!="1"){DisableTab("CustomLogoTabContent");document.getElementById("CustomLogoTabContentNone").className="UpgradeLicenseMsgNoMargin";}if(!g_bIntegrationDLLLicense){DisableTab("IntegrationDLLTabContent");document.getElementById("IntegrationDLLTabContentNone").className="UpgradeLicenseMsgNoMargin";}var bResizeSSLGroup=false;if("%CDomain.%ID%.CACertLicense%"!="1"){DisableTab("CACertificateContent");document.getElementById("CACertificateContentNone").className="UpgradeLicenseMsgNoMargin";document.getElementById("CACertificateContentNone").className="UpgradeLicenseMsgNoAutoMargin";document.getElementById("CACertificateContentContainer").style.textAlign="left";bResizeSSLGroup=true;}var nGroupBoxHeight=242;if(bResizeSSLGroup)nGroupBoxHeight=340;function OnFIPSCheckBoxValueChanged(CheckBox){var bFIPSEnable=false;CheckBoxValueChanged(CheckBox,"Result.xml%UPDATE_OBJECT_REF%CServer.%SERVER_ID%.Server.%SERVER_ID%&StaticOnly=1",CheckIfUsingFIPS);if(CheckBox.getControlValue()==false){document.getElementById("SSLOption-CheckBox").style.display="block";document.getElementById("SSLOption-Unavailable").style.display="none";document.getElementById("SSLOptionsContainer").style.height="230px";document.getElementById("SSLOptionsFS").style.height="220px";}else{document.getElementById("SSLOption-CheckBox").style.display="none";document.getElementById("SSLOption-Unavailable").style.display="block";document.getElementById("SSLOptionsContainer").style.height="145px";document.getElementById("SSLOptionsFS").style.height="140px";if(CheckBox.getControlValue()==true){bFIPSEnable=true;}}}function CheckIfUsingFIPS(bEnabled){var sFIPSCmd=g_sAdminXMLPath+"FIPSInfo.xml?"+SyncRequestParameter();var FIPSTable=new AW.XML.Table;var aFIPS=new Array();var aFIPSCols=["UsingFIPS"];FIPSTable.setURL(sFIPSCmd);FIPSTable.setRows("//FIPS/*");FIPSTable.setColumns(aFIPSCols);FIPSTable.response1=FIPSTable.response;FIPSTable.response=function(data){this.response1(data);g_bUsingFIPS=parseInt(this.getData(0,0))?true:false;if(g_bUsingFIPS)document.getElementById("FIPSImage").src="%ADMIN_FILE%Images/FIPSEnabled-small.png";else document.getElementById("FIPSImage").src="%ADMIN_FILE%Images/FIPSDisabled-small.png";setTimeout(function(){SavingDialog(false);if(bEnabled)AlertDialog("$CONFIRM_FIPS_MODE_TEXT$");});};FIPSTable.request();}function ReplaceCustomImage(){var CustomImg=new Image();if(CustomLogoPathCombo.getControlText()=="")CustomImg.src="%COMMON_FILE%Images/sulogo-2.png";else CustomImg.src="/?Command=Download&File="+encodeURIComponent(CustomLogoPathCombo.getControlText())+'&CsrfToken='+"%ENC_CSRF_TOKEN%"+"&Width=160&Height=40&AdminDownload=1&Thumbnail=1"+SyncRequestParameter();document.getElementById("CustomLogoID").src=CustomImg.src;document.getElementById("CustomLogoID").width="160";document.getElementById("CustomLogoID").height="40";}function OnCustomLogoLoad(){var sValue=GetDecodedDirPath("%CDomain.%ID%.HTTPLogoPath%");var sDefaultValue=GetDecodedDirPath("%CDomain.%ID%.HTTPLogoPath.Default%");CustomLogoPathCombo.initValue(sValue,sDefaultValue);if(sValue.length)CustomLogoPathCombo.setControlText(sValue);else CustomLogoPathCombo.setControlText(sDefaultValue);}OnCustomLogoLoad();ReplaceCustomImage();if(g_bSSHLicense)document.getElementById("SSHSettings").style.display="block";var CustomLoginTitleTextInput=undefined;var CustWebClientBackground=undefined;if("Domain"=="Server"){var sCustomLoginTextVal=DecodeString("%CDomain.%ID%.HTTPLoginPageText%");CustomLoginTitleTextInput=CreateInputField("%CDomain.%ID%.HTTPLoginPageTitle%","HTTPLoginPageTitle","HTTPLoginPageTitle",undefined,450);CustWebClientBackground=CreateInputField("%CDomain.%ID%.HTMLWebClientBackground%","HTMLWebClientBackground","HTMLWebClientBackground",undefined,450);document.getElementById("HTTPLoginPageText").value=sCustomLoginTextVal;CreateGroupBox("$FIPS_OPTIONS$","FIPSOptions",250,nGroupBoxHeight);CreateCheckBox("$ENABLE_FIPS$","EnableFIPS","EnableFIPS",(parseInt(%CServer.%SERVER_ID%.EnableFIPS%)!=0),OnFIPSCheckBoxValueChanged);if("%CDomain.%ID%.FIPSLicense%"=="1"){document.getElementById("FIPS-Div").style.display="block";if(parseInt(%CServer.%SERVER_ID%.EnableFIPS%)!=0){document.getElementById("SSLOption-CheckBox").style.display="none";document.getElementById("SSLOption-Unavailable").style.display="block";document.getElementById("SSLOptionsContainer").style.height="145px";if(parseInt("%CDomain.%ID%.UsingFIPS%")==1)document.getElementById("FIPSImage").src="%ADMIN_FILE%Images/FIPSEnabled-small.png";}else{document.getElementById("SSLOption-CheckBox").style.display="block";document.getElementById("SSLOption-Unavailable").style.display="none";document.getElementById("SSLOptionsContainer").style.height="230px";}}else document.getElementById("FIPS-Div").style.display="none";}else{var sCustomLoginTextVal=DecodeString("%CDomain.%ID%.HTTPLoginPageText%"),sCustomLoginTextDefault=DecodeString("%CDomain.%ID%.HTTPLoginPageText.Default%");var CustomMessageCheck=CreateCheckBox("$PR_CHECK_LABEL$","UseInheritedCLT","UseInheritedCLT",(sCustomLoginTextVal==sCustomLoginTextDefault),OnEnableDisableCLT);if(sCustomLoginTextVal.length)document.getElementById("HTTPLoginPageText").value=sCustomLoginTextVal;else document.getElementById("HTTPLoginPageText").value=sCustomLoginTextDefault;if(sCustomLoginTextVal!=sCustomLoginTextDefault)document.getElementById("HTTPLoginPageText").disabled=false;else document.getElementById("HTTPLoginPageText").disabled=true;var sCustomLoginTitleVal=DecodeString("%CDomain.%ID%.HTTPLoginPageTitle%"),sCustomLoginTitleDefault=DecodeString("%CDomain.%ID%.HTTPLoginPageTitle.Default%");CustomLoginTitleTextInput=CreateComboBox("","",[],[],"HTTPLoginPageTitle","HTTPLoginPageTitle",undefined,undefined,true,450,20,undefined,true);CustomLoginTitleTextInput.initValue(sCustomLoginTitleVal,sCustomLoginTitleDefault);if(sCustomLoginTitleVal.length)CustomLoginTitleTextInput.setControlText(sCustomLoginTitleVal);else CustomLoginTitleTextInput.setControlText(sCustomLoginTitleDefault);var sCustWebClientBackgroundVal=DecodeString("%CDomain.%ID%.HTMLWebClientBackground%"),sCustWebClientBackgroundDefault=DecodeString("%CDomain.%ID%.HTMLWebClientBackground.Default%");CustWebClientBackground=CreateComboBox("","",[],[],"HTMLWebClientBackground","HTMLWebClientBackground",undefined,undefined,true,450,20,undefined,true);CustWebClientBackground.initValue(sCustWebClientBackgroundVal,sCustWebClientBackgroundDefault);if(sCustWebClientBackgroundVal.length)CustWebClientBackground.setControlText(sCustWebClientBackgroundVal);else CustWebClientBackground.setControlText(sCustWebClientBackgroundDefault);}var IntegrationDLLInput;if(g_bSysAdmin)IntegrationDLLInput=CreateInputField("%CDomain.%ID%.IntegrationDLLPath%","IntegrationDLLPath","IntegrationDLLPath",undefined,450);if((%IS_LOCAL_ADMIN%)&&("Domain"=="Server")){CreatePushButton("$ADMIN_PASSWORD_BUTTON$...","ChangeAdminPasswordButton",OnChangeAdminPassword);}if(!isNaN(g_nAntiHammerID)){AHSpanInput.setControlText("%CLimitConnect.%CDomain.%ID%.LimitIPConnect.ID%.WithinSeconds%");AHDurationInput.setControlText(parseInt("%CLimitConnect.%CDomain.%ID%.LimitIPConnect.ID%.BlockSeconds%")/60);AHTimesInput.setControlText("%CLimitConnect.%CDomain.%ID%.LimitIPConnect.ID%.Connections%");}else{AHTimesInput.setControlText(g_anAHDefaults[0]);AHTimesInput.setControlDisabled(true);AHSpanInput.setControlText(g_anAHDefaults[1]);AHSpanInput.setControlDisabled(true);AHDurationInput.setControlText(parseInt(g_anAHDefaults[2])/60);AHDurationInput.setControlDisabled(true);}if(g_anWebClientVals[2]=="1")WebClientCombo.initValue("",g_anWebClientVals[1]);else WebClientCombo.initValue(g_anWebClientVals[0],g_anWebClientVals[1]);var IntegrationDLLBrowse=CreatePushButton("","BrowseButtonIntegrationDLL",LoadDynamicContentAndRun,undefined,undefined,["%ADMIN_FILE%Include/BrowseDialog.htm?ID=%ID%","BrowseDialogDiv",String("OnBrowse("),[IntegrationDLLInput,true,"0","0"]]);IntegrationDLLBrowse.setControlImage("Browse");function OnChangeWebClient(sValue){var nValue=parseInt(sValue);if(!g_bFVJVLicense&&(sValue==1||sValue==2))ConfirmDialog(g_sFVJVLicenseInfo,OnMoreFVJVInfo);else if((!g_bFileSharingLicense)&&((sValue==3)||(sValue==2)))ConfirmDialog(g_sAdhocFileShareLicenseInfo,OnMoreFVJVInfo);}function OnChangeAdminPassword(){ClearPasswordDialog();ShowDialog("ChangePasswordDialog");}function OnEnableDisableAH(CheckBox){if(isNaN(g_nAntiHammerID)&&CheckBox.getControlValue()){var objCreateReq=undefined;if(objCreateReq=CreatePostRequest("%ADMIN_FILE%XML/Result.xml%ADD_OBJECT_REF%CDomain.%ID%.LimitIPConnect",OnAddAntiHammerDone)){objCreateReq.setParameter("Connections",AHTimesInput.getControlText());objCreateReq.setParameter("WithinSeconds",AHSpanInput.getControlText());objCreateReq.setParameter("BlockSeconds",parseInt(AHDurationInput.getControlText())*60);BusyDialog(true);objCreateReq.request(null);}}else{var objDeleteReq=undefined;if(objDeleteReq=CreatePostRequest("%ADMIN_FILE%XML/Result.xml%DELETE_OBJECT_REF%CDomain.%ID%.LimitIPConnect",OnDeleteAntiHammerDone)){BusyDialog(true);objDeleteReq.setParameter("IDs",g_nAntiHammerID);objDeleteReq.request();}}if(CheckBox.getControlValue()){AHTimesInput.setControlDisabled(false);AHSpanInput.setControlDisabled(false);AHDurationInput.setControlDisabled(false);}else{AHTimesInput.setControlDisabled(true);AHSpanInput.setControlDisabled(true);AHDurationInput.setControlDisabled(true);}}function OnAddAntiHammerDone(XMLDoc){var nResult=GetXMLValueInt(XMLDoc,"result");var sResultText=GetXMLValue(XMLDoc,"ResultText");var nObjectID=GetXMLValueInt(XMLDoc,"ObjectID");BusyDialog(false);if((nResult==0)&&(nObjectID)){g_nAntiHammerID=nObjectID;}else{AlertDialog(GetResultText(0,"",sResultText));}}function OnDeleteAntiHammerDone(XMLDoc){var nResult=GetXMLValueInt(XMLDoc,"result");var sResultText=GetXMLValue(XMLDoc,"ResultText");DeletingDialog(false);if(nResult==0){g_nAntiHammerID=undefined;AHTimesInput.setControlDisabled(true);AHSpanInput.setControlDisabled(true);AHDurationInput.setControlDisabled(true);}else{AlertDialog(GetResultText(0,"",sResultText));AHCheck.setChecked(true);}}function OnEnableDisablePR(CheckBox){var bDisableInherited=(!CheckBox.getControlValue());var sMessageValue=decodeURIComponent("%CDomain.%ID%.PasswordRecoveryEmailMessage%");var sMessageDefaultValue=decodeURIComponent("%CDomain.%ID%.PasswordRecoveryEmailMessage.Default%");if(bDisableInherited){document.getElementById("PasswordRecoveryMessage").value=sMessageValue;document.getElementById("PasswordRecoveryMessage").disabled=false;}else{document.getElementById("PasswordRecoveryMessage").value=sMessageDefaultValue;document.getElementById("PasswordRecoveryMessage").disabled=true;}}function OnEnableDisableCLT(CheckBox){var bDisableInherited=(!CheckBox.getControlValue());var sMessageValue=decodeURIComponent("%CDomain.%ID%.HTTPLoginPageText%");var sMessageDefaultValue=decodeURIComponent("%CDomain.%ID%.HTTPLoginPageText.Default%");if(bDisableInherited){document.getElementById("HTTPLoginPageText").value=sMessageValue;document.getElementById("HTTPLoginPageText").disabled=false;}else{document.getElementById("HTTPLoginPageText").value=sMessageDefaultValue;document.getElementById("HTTPLoginPageText").disabled=true;}}function OnSaveSettings(){var SaveSettingsReq=CreatePostRequest("%ADMIN_FILE%XML/Result.xml%UPDATE_OBJECT_REF%CServer.%SERVER_ID%.Domain.%ID%&StaticOnly=1");var sCustomLoginText="";SavingDialog(true);SaveSettingsReq.setParameter("WebClientStartupMode",document.getElementById(WebClientCombo.getContent("hidden").getId()).value);SaveSettingsReq.setParameter("HTTPLogoPath",document.getElementById(CustomLogoPathCombo.getContent("hidden").getId()).value);sCustomTitleText=CustomLoginTitleTextInput.getControlText();SaveSettingsReq.setParameter("HTTPLoginPageTitle",sCustomTitleText);sCustomWebClientBackground=CustWebClientBackground.getControlText();SaveSettingsReq.setParameter("HTMLWebClientBackground",sCustomWebClientBackground);sCustomLoginText=document.getElementById("HTTPLoginPageText").value;SaveSettingsReq.setParameter("HTTPLoginPageText",sCustomLoginText);if(g_bSysAdmin)SaveSettingsReq.setParameter("IntegrationDLLPath",IntegrationDLLInput.getControlText());SaveSettingsReq.setParameter("PasswordRecoveryEmailSubject",document.getElementById(PasswordRecoveryEmailSubject.getContent("hidden").getId()).value);if(WECheck.getControlValue()==true)SaveSettingsReq.setParameter("PasswordRecoveryEmailMessage","");else SaveSettingsReq.setParameter("PasswordRecoveryEmailMessage",document.getElementById("PasswordRecoveryMessage").value);AddPostSettings(SaveSettingsReq);SaveSettingsReq.response=function(){var nResult=OnSaveComplete(this,true);var sResultText=OnGetResultText(this);if((nResult==0)){if(g_nAntiHammerID){var SaveAntiHammerReq=CreatePostRequest("%ADMIN_FILE%XML/Result.xml%UPDATE_OBJECT_REF%CDomain.%ID%.LimitIPConnect."+g_nAntiHammerID);SaveAntiHammerReq.setParameter("Connections",AHTimesInput.getControlText());SaveAntiHammerReq.setParameter("WithinSeconds",AHSpanInput.getControlText());SaveAntiHammerReq.setParameter("BlockSeconds",parseInt(AHDurationInput.getControlText())*60);SaveAntiHammerReq.response=OnSaveComplete;SaveAntiHammerReq.request(null);}else OnEnableDisableAH(AHCheck);ReplaceCustomImage();}else{if(nResult!=0){SavingDialog(false);AlertDialog(GetResultText(0,"",sResultText));}else{SavingDialog(false);ReplaceCustomImage();}}};SaveSettingsReq.request(null);return(false);}var LimitsMfaStateCombo;var TOTPCompanyNameLimitsCombo;CreatePushButton("$SAVE_BUTTON$","mfa-save",saveMfa);initMfaStateControls();function initMfaStateControls(){var isWithInherit=true;var mfaValues=["0","1","2",""];LimitsMfaStateCombo=CreateComboBox("","",["$TOTP_MFA_DISABLED$","$TOTP_MFA_ENABLED$","$TOTP_MFA_ENFORCED$"],mfaValues,"TOTPProvisioning","TOTPProvisioning",onTotpPtovisioningChange,undefined,isWithInherit,200,20,undefined,undefined,undefined,true);TOTPCompanyNameLimitsCombo=CreateComboBox("","",[],[],"TOTPCompanyName","TOTPCompanyName",undefined,undefined,isWithInherit,200,20,undefined,true);}function onTotpPtovisioningChange(val){var config=getMfaConfig("Domain"=="Server");var isDefaultDisabled=config.TOTPProvisioningDefault==="0";var isCurrentDisabled=config.TOTPProvisioning==="0";var isShowWarning=(val==="0"&&!isCurrentDisabled)||(val===""&&isDefaultDisabled&&!isCurrentDisabled);if(isShowWarning){showMfaStatusWarning();return;}hideMfaStatusWarning();}function updateMfaState(isServer){var config=getMfaConfig(isServer);var totpProvisioningValues=getTotpProvisioningValues(config);var totpCompanyNameValues=getTotpCompanyNameValues(config);LimitsMfaStateCombo.initValue(totpProvisioningValues.currentVal,totpProvisioningValues.defaultVal);TOTPCompanyNameLimitsCombo.initValue(totpCompanyNameValues.currentVal,totpCompanyNameValues.defaultVal);if(totpCompanyNameValues.currentVal.length){TOTPCompanyNameLimitsCombo.setControlText(totpCompanyNameValues.currentVal);}else{TOTPCompanyNameLimitsCombo.setControlText(totpCompanyNameValues.defaultVal);}}function resetMfaState(isServer){var config=getMfaConfig(isServer);var totpProvisioningValues=getTotpProvisioningValues(config);var totpCompanyNameValues=getTotpCompanyNameValues(config);LimitsMfaStateCombo.initValue(totpProvisioningValues.initialVal,totpProvisioningValues.defaultVal);TOTPCompanyNameLimitsCombo.initValue(totpCompanyNameValues.initialVal,totpCompanyNameValues.defaultVal);if(totpCompanyNameValues.initialVal.length){TOTPCompanyNameLimitsCombo.setControlText(totpCompanyNameValues.initialVal);}else{TOTPCompanyNameLimitsCombo.setControlText(totpCompanyNameValues.defaultVal);}}function showMfaStatusWarning(){document.querySelector(".mfa-tab__warning").classList.remove("Hidden");}function hideMfaStatusWarning(){document.querySelector(".mfa-tab__warning").classList.add("Hidden");}function saveMfa(){var mfaUpdateUrl="%ADMIN_FILE%XML/Result.xml%UPDATE_OBJECT_REF%CServer.%SERVER_ID%.Domain.%ID%&StaticOnly=1";var mfaUpdateRequest=CreatePostRequest(mfaUpdateUrl,onSaveMfaResponse);var mfaState=document.getElementById(LimitsMfaStateCombo.getContent("hidden").getId()).value;var currentMfaCompanyName=TOTPCompanyNameLimitsCombo.getControlText();var mfaCompanyName;if(currentMfaCompanyName===DecodeString("%CDomain.%ID%.TOTPCompanyName.Default%")){mfaCompanyName="";}else{mfaCompanyName=currentMfaCompanyName;}mfaUpdateRequest.setParameter("TOTPProvisioning",mfaState);mfaUpdateRequest.setParameter("TOTPCompanyName",mfaCompanyName);SavingDialog(true);hideMfaStatusWarning();mfaUpdateRequest.request();}function onSaveMfaResponse(XMLDoc){SavingDialog(false);var nResult=GetXMLValueInt(XMLDoc,"result");if(nResult!==0){var sResultText=GetXMLValue(XMLDoc,"ResultText");AlertDialog(GetResultText(0,"",sResultText),null,resetMfaState);return;}var mfaStateUrl;if("Domain"=="Server"){mfaStateUrl="%ADMIN_FILE%XML/ServerMFAState.xml?ID=%SERVER_ID%&Forcelist=1";}else{mfaStateUrl="%ADMIN_FILE%XML/Domains.xml?ForceList=1";}var mfaStateRequest=createAWHttpRequest("GET",mfaStateUrl,saveMfaState);mfaStateRequest.request();}function saveMfaState(XMLDoc){var TOTPProvisioning=GetXMLValue(XMLDoc,"TOTPProvisioning");var TOTPProvisioningDefault=GetXMLValue(XMLDoc,"TOTPProvisioningDefault");var IsTOTPProvisioningDefault=GetXMLValue(XMLDoc,"IsTOTPProvisioningDefault");var TOTPCompanyName=GetXMLValue(XMLDoc,"TOTPCompanyName");
var IsTOTPCompanyNameDefault=GetXMLValue(XMLDoc,"IsTOTPCompanyNameDefault");var TOTPCompanyNameDefault=decodeURIComponent(GetXMLValue(XMLDoc,"TOTPCompanyNameDefault"));var updatedConfig={TOTPProvisioning:TOTPProvisioning,TOTPProvisioningDefault:TOTPProvisioningDefault,IsTOTPProvisioningDefault:IsTOTPProvisioningDefault,TOTPCompanyName:TOTPCompanyName,IsTOTPCompanyNameDefault:IsTOTPCompanyNameDefault,TOTPCompanyNameDefault:TOTPCompanyNameDefault };updateMfaConfig(updatedConfig,"Domain"=="Server");}function updateMfaConfig(updatedConfig,isServer){var mfaConfig;if(isServer){mfaConfig=g_ServerMfaConfig;}else{mfaConfig=g_DomainMfaConfig;}mfaConfig.TOTPProvisioning=updatedConfig.TOTPProvisioning;mfaConfig.TOTPProvisioningDefault=updatedConfig.TOTPProvisioningDefault;mfaConfig.IsTOTPProvisioningDefault=updatedConfig.IsTOTPProvisioningDefault;mfaConfig.TOTPCompanyName=updatedConfig.TOTPCompanyName;mfaConfig.TOTPCompanyNameDefault=updatedConfig.TOTPCompanyNameDefault;mfaConfig.IsTOTPCompanyNameDefault=updatedConfig.IsTOTPCompanyNameDefault;}function getMfaConfig(isServer){var mfaConfig;if(isServer){mfaConfig=g_ServerMfaConfig;}else{mfaConfig=g_DomainMfaConfig;}return mfaConfig;}AW.Formats.FTPCommandName=AW.Formats.String.subclass();AW.Formats.FTPCommandName.create=function(){var obj=this.prototype;var _super=this.superclass.prototype;obj.init=function(){_super.init.call(this);};obj.dataToText=function(data,Grid,nColumn,nRow){var sText=Grid.getCellData(5,nRow),sParent=Grid.getCellData(6,nRow);if(sParent!="FTPCommandProcessor")sText=(sParent+" "+sText);return(sText);};obj.dataToValue=function(data,Grid,nColumn,nRow){return(this.dataToText(data,Grid,nColumn,nRow));};};var g_nFTPCPId=0,g_nEditObjID=0;var ManageFTPCPButton=undefined;var g_sEditCmdName="",g_sEditObjStr="",g_sPageObjectType="Domain",g_sPageObjectID="%ID%";var g_bSavingCommand=false,g_bEditFTPCP=false;
%DELETE_LIST_STRINGS%
%ADD_LIST_STRING% g_nFTPCPId=parseInt("%LIST_ID%");
%CDomain.%ID%.FTPCommandProcessor.List%
ManageFTPCPButton=CreatePushButton("","ManageFTPCPButton",OnManageFTPCP);var FTPCommandGrid=CreateAdminGrid("CommandsList",["$FTP_COMMAND$","$NAME$","$DESCRIPTION$"],[100,165,500],"FTPCommands.xml?ID=$FTPCP_ID$","commands","command",9,OnDelayLoadEditCommand);var fmtXMLString=new AW.Formats.XMLString;FTPCommandGrid.setCellFormat([new AW.Formats.FTPCommandName,fmtXMLString,fmtXMLString]);FTPCommandGrid.setSelectionMode("single-row");FTPCommandGrid.getCellImage=function(nColumn,nRow){if(!parseInt(this.getCellData(7,nRow)))return("FTPCmdParentDisabled");else{var bEnabled=(this.getCellData(3,nRow)!="0");if(parseInt(this.getCellData(4,nRow)))return((bEnabled)?"FTPCmd":"FTPCmdDisabled");else return((bEnabled)?"FTPCmdSuperfluous":"FTPCmdSuperfluousDisabled");}};var sOnEditCommand=String("OnDelayLoadEditCommand(");var sOnToggleCommand=String("OnToggleCommand(");CreateContextMenu([sOnEditCommand,sOnToggleCommand],["$EDIT_BUTTON$...",GetCommandToggleString],["Edit",GetCommandImage],FTPCommandGrid,"FTPCommandGridContext",true);CreatePushButton("$EDIT_BUTTON$...","CommandProperties",OnDelayLoadEditCommand);CreatePushButton("$GLOBAL_PROPERTIES$...","GlobalProperties",OnDelayLoadEditFTPCP);InitFTPCPTab();function InitFTPCPTab(){if("Domain"=="Server")document.getElementById("FTPCPInfo").style.display="none";if(g_nFTPCPId){ManageFTPCPButton.setControlText("$FTPCP_USE_DEFAULT$");document.getElementById("FTPCPStatus").innerHTML="$FTPCP_OVERRIDE$";document.getElementById("CommandProcInfo").style.visibility="visible";FTPCommandGrid.ForceUpdate("$FTPCP_ID$",g_nFTPCPId);FTPCommandGrid.m_fnPostUpdate=function(){if(!(this.getSortColumn()>=0))this.sort(0,"ascending");this.m_fnPostUpdate=undefined;};}else{ManageFTPCPButton.setControlText("$FTPCP_USE_OVERRIDE$");document.getElementById("FTPCPStatus").innerHTML="$FTPCP_DEFAULT$";document.getElementById("CommandProcInfo").style.visibility="hidden";ClearGrid(FTPCommandGrid,true);}}function OnToggleCommand(){var anSelectedRows=FTPCommandGrid.getSelectedRows();var sVal="0";if(anSelectedRows.length){var ToggleCommandReq=CreatePostRequest("%ADMIN_FILE%XML/Result.xml%UPDATE_OBJECT_REF%CFTPCommandProcessor."+g_nFTPCPId+"."+GetCommandClass(anSelectedRows[0])+"."+FTPCommandGrid.GetSelectedObjectID());if(FTPCommandGrid.getCellData(3,anSelectedRows[0])=="0")sVal="1";SavingDialog(true);ToggleCommandReq.setParameter("Enabled",sVal);ToggleCommandReq.response=function(){var nResult=OnSaveComplete(this);var sResultText=OnGetResultText(this);if(nResult==0){FTPCommandGrid.m_bSaving=true;FTPCommandGrid.ForceUpdate();}else{SavingDialog(false);AlertDialog(GetResultText(0,"",sResultText));}};ToggleCommandReq.request(null);}}function GetCommandImage(){var anSelectedRows=FTPCommandGrid.getSelectedRows();var sRet="Abort";if((anSelectedRows.length)&&(FTPCommandGrid.getCellData(3,anSelectedRows[0])=="0"))sRet="CMDEnable";return(sRet);}function GetCommandToggleString(){var anSelectedRows=FTPCommandGrid.getSelectedRows();var sRet="$DISABLE_COMMAND$";if((anSelectedRows.length)&&(FTPCommandGrid.getCellData(3,anSelectedRows[0])=="0"))sRet="$ENABLE_COMMAND$";return(sRet);}function OnDelayLoadEditCommand(){LoadDynamicContentAndRun(["%ADMIN_FILE%Include/FTPCommandDialog.htm?ID=%ID%","FTPCommandDialogDiv",OnEditCommand]);}function OnDelayLoadEditFTPCP(){LoadDynamicContentAndRun(["%ADMIN_FILE%Include/FTPCommandDialog.htm?ID=%ID%","FTPCommandDialogDiv",OnEditFTPCP]);}function OnEditCommand(){var anSelectedRows=FTPCommandGrid.getSelectedRows();if(anSelectedRows.length){var sEditObjClass="FTPCmd";var nParentObjID=g_nFTPCPId;var sParentClass=FTPCommandGrid.getCellData(6,anSelectedRows[0]);g_sEditCmdName=FTPCommandGrid.getCellData(5,anSelectedRows[0]);sEditObjClass=GetCommandClass(anSelectedRows[0],sParentClass,g_sEditCmdName);if(sParentClass!="FTPCommandProcessor"){nParentObjID=FTPCommandGrid.GetObjectID(sParentClass,5);sParentClass="FTPCmd"+sParentClass;}g_nEditObjID=FTPCommandGrid.GetSelectedObjectID();g_sEditObjStr="C"+sParentClass+"."+nParentObjID+"."+sEditObjClass;g_bEditFTPCP=false;FTPCommandGrid.OnEditObject("FTPCommand.xml?Command=CreateTempObject&Object="+g_sEditObjStr+".","Result.xml%UPDATE_OBJECT_REF%"+g_sEditObjStr+".",document.FTPCommandForm,"FTPCommandDialog","","",[OnShowFTPCommandDialog,OnHideFTPCommandDialog],true);}else{LoadingDialog(false);AlertDialog("$SELECT_ONE_COMMAND_EDIT$");}}function OnEditFTPCP(){g_bEditFTPCP=true;g_nEditObjID=g_nFTPCPId;g_sEditObjStr="CDomain.%ID%.FTPCommandProcessor";FTPCommandGrid.OnEditObject("FTPCommand.xml?Command=CreateTempObject&Object="+g_sEditObjStr+".","Result.xml%UPDATE_OBJECT_REF%"+g_sEditObjStr+".",document.FTPCommandForm,"FTPCommandDialog","","",[OnShowFTPCommandDialog,OnHideFTPCommandDialog],true,g_nFTPCPId);}function GetCommandClass(nRow,sParentClass,sCmdName){var sRet="FTPCmd",sTemp="";if(sParentClass==undefined)sParentClass=FTPCommandGrid.getCellData(6,nRow);if(sCmdName==undefined)sCmdName=FTPCommandGrid.getCellData(5,nRow);if(sParentClass!="FTPCommandProcessor")sRet+=sParentClass;switch(sCmdName){case("XCUP"):sCmdName="CDUP";break;case("XCWD"):sCmdName="CWD";break;case("XDEL"):sCmdName="DELE";break;case("XMKD"):sCmdName="MKD";if(XMKDAllowCreateParentDirCheck!=undefined){document.getElementById(XMKDAllowCreateParentDirCheck.getContent("hidden").getId()).name="XMKD_CreateParent";document.getElementById(AllowCreateParentDirCheck.getContent("hidden").getId()).name="CreateParentOnhold";}break;case("MKD"):if(XMKDAllowCreateParentDirCheck!=undefined){document.getElementById(XMKDAllowCreateParentDirCheck.getContent("hidden").getId()).name="XMKD_CreateParentOnhold";document.getElementById(AllowCreateParentDirCheck.getContent("hidden").getId()).name="CreateParent";}break;case("NLST"):if(NLSTAllowListFullPathCheck!=undefined){document.getElementById(NLSTAllowListFullPathCheck.getContent("hidden").getId()).name="NLST_FullPathWithFileParam";document.getElementById(AllowListFullPathCheck.getContent("hidden").getId()).name="FullPathWithFileParamOnhold";}if(NLSTAllowRecurseDirs!=undefined){document.getElementById(NLSTAllowRecurseDirs.getContent("hidden").getId()).name="NLST_AllowRecurseDirs";document.getElementById(AllowRecurseDirs.getContent("hidden").getId()).name="AllowRecurseDirsOnhold";}break;case("LIST"):if(NLSTAllowListFullPathCheck!=undefined){document.getElementById(NLSTAllowListFullPathCheck.getContent("hidden").getId()).name="NLST_FullPathWithFileParamOnhold";document.getElementById(AllowListFullPathCheck.getContent("hidden").getId()).name="FullPathWithFileParam";}if(NLSTAllowRecurseDirs!=undefined){document.getElementById(NLSTAllowRecurseDirs.getContent("hidden").getId()).name="NLST_AllowRecurseDirsOnhold";document.getElementById(AllowRecurseDirs.getContent("hidden").getId()).name="AllowRecurseDirs";}break;case("XPWD"):sCmdName="PWD";break;case("XRMD"):sCmdName="RMD";break;}return(sRet+=sCmdName);}function SaveFTPCommand(){g_bSavingCommand=true;FTPCommandGrid.OnSaveObject();}function OnShowFTPCommandDialog(){g_nEditObjID=FTPCommandGrid.m_nEditObjectID;if(g_bEditFTPCP)PrepareFTPCommandDialog("FTPCP");else PrepareFTPCommandDialog("",FTPCommandGrid.getSelectedRows()[0]);ResponseGrid.EnableUpdates(true,"%OBJECT_EDIT_ID%",g_nEditObjID);g_bSavingCommand=false;}function OnHideFTPCommandDialog(){ResponseGrid.EnableUpdates(false);if(!g_bSavingCommand){var objRequest=CreatePostRequest(g_sAdminXMLPath+"Result.xml%DELETE_OBJECT_REF%"+g_sEditObjStr);if(objRequest){objRequest.setParameter("IDs",g_nEditObjID);objRequest.request(null);}}else FTPCommandGrid.ForceUpdate();g_sEditObjStr="";g_nEditObjID=-1;}function OnManageFTPCP(){if(g_nFTPCPId)ConfirmDialog("$CONFIRM_FTPCP_DELETE$",OnDeleteFTPCP,undefined,undefined,undefined,undefined,true);else{var objCreateReq=undefined;if(objCreateReq=CreatePostRequest("%ADMIN_FILE%XML/Result.xml%ADD_OBJECT_REF%CDomain.%ID%.FTPCommandProcessor",OnAddFTPCPDone)){BusyDialog(true);objCreateReq.request(null);}}}function OnDeleteFTPCP(){var objDeleteReq=undefined;if(objDeleteReq=CreatePostRequest("%ADMIN_FILE%XML/Result.xml%DELETE_OBJECT_REF%CDomain.%ID%.FTPCommandProcessor",OnDeleteFTPCPDone)){ReplaceDialog("ConfirmDialog","BusyDialog");objDeleteReq.setParameter("IDs",g_nFTPCPId);objDeleteReq.request();}}function OnDeleteFTPCPDone(XMLDoc){var nResult=GetXMLValueInt(XMLDoc,"result");var sResultText=GetXMLValue(XMLDoc,"ResultText");DeletingDialog(false);if(nResult==0){g_nFTPCPId=0;InitFTPCPTab();}else AlertDialog(GetResultText(0,"",sResultText));}function OnAddFTPCPDone(XMLDoc){var nResult=GetXMLValueInt(XMLDoc,"result");var nObjectID=GetXMLValueInt(XMLDoc,"ObjectID");var sResultText=GetXMLValue(XMLDoc,"ResultText");BusyDialog(false);if((nResult==0)&&(nObjectID)){g_nFTPCPId=nObjectID;InitFTPCPTab();}else AlertDialog(GetResultText(0,"",sResultText));}var g_nSSLCertID=0,g_nSSHCertID=0,g_sCurCertType="",g_asSSLCertInfo=["","","",""],g_asSSHCertInfo=["","","",""];if(!g_bSSHLicense)document.getElementById("SSHGroup").style.display="none";
%DELETE_LIST_STRINGS%
%ADD_LIST_STRING% g_nSSLCertID=parseInt("%LIST_ID%");
%ADD_LIST_STRING% g_asSSLCertInfo=[DecodeString("%CSSLCertificate.%LIST_ID%.CertPath%"),DecodeString("%CSSLCertificate.%LIST_ID%.PrivateKeyPath%"),DecodeString("%CSSLCertificate.%LIST_ID%.PrivateKeyPassword%"),DecodeString("%CSSLCertificate.%LIST_ID%.CACertPath%")];
%CDomain.%ID%.SSLCertificate.List%
%DELETE_LIST_STRINGS%
%ADD_LIST_STRING% g_nSSHCertID=parseInt("%LIST_ID%");
%ADD_LIST_STRING% g_asSSHCertInfo=[DecodeString("%CSSHCertificate.%LIST_ID%.CertPath%"),DecodeString("%CSSHCertificate.%LIST_ID%.PrivateKeyPath%"),DecodeString("%CSSHCertificate.%LIST_ID%.PrivateKeyPassword%"),DecodeString("%CSSHCertificate.%LIST_ID%.CACertPath%")];
%CDomain.%ID%.SSHCertificate.List%
CreateGroupBox("$SSL_CERTIFICATE_OPTIONS$","SSLCertGroup",400,nGroupBoxHeight);var SSLCertificateInput=CreateInputField(g_asSSLCertInfo[0],"SSLCertPath","SSLCertPath",undefined,340,undefined,undefined,undefined,true);var SSLKeyInput=CreateInputField(g_asSSLCertInfo[1],"SSLKeyPath","SSLKeyPath",undefined,340,undefined,undefined,undefined,true);var SSLPasswordInput=CreatePasswordField(g_asSSLCertInfo[2],"SSLCertPassword","SSLCertPassword",undefined,340,undefined,undefined,undefined,true);setTimeout(function(){initPasswordTypeToggler(SSLPasswordInput,"SSLCertPassword");});var SSLCACertificateInput=CreateInputField(g_asSSLCertInfo[3],"SSLCACertPath","SSLCACertPath",undefined,340,undefined,undefined,undefined,true);var SSLCACertBrowse=CreatePushButton("","SSLCACertBrowse",LoadDynamicContentAndRun,undefined,undefined,["%ADMIN_FILE%Include/BrowseDialog.htm?ID=%ID%","BrowseDialogDiv",String("OnBrowse("),[SSLCACertificateInput,true,"0","0"]]);SSLCACertBrowse.setControlImage("Browse");var SSLCertBrowse=CreatePushButton("","SSLCertBrowse",LoadDynamicContentAndRun,undefined,undefined,["%ADMIN_FILE%Include/BrowseDialog.htm?ID=%ID%","BrowseDialogDiv",String("OnBrowse("),[SSLCertificateInput,true,"0","0"]]);SSLCertBrowse.setControlImage("Browse");var SSLKeyBrowse=CreatePushButton("","SSLKeyBrowse",LoadDynamicContentAndRun,undefined,undefined,["%ADMIN_FILE%Include/BrowseDialog.htm?ID=%ID%","BrowseDialogDiv",String("OnBrowse("),[SSLKeyInput,true,"0","0"]]);SSLKeyBrowse.setControlImage("Browse");var ViewCertButton=CreatePushButton("$VIEW_CERTIFICATE$...","ViewCert",OnViewCert);if(g_asSSLCertInfo[0]==""){document.getElementById("ViewCert").style.visibility="hidden";$("#passcert-container").css("height","38px");}CreatePushButton("$CREATE_CERTIFICATE$...","CreateCert",OnCreateCert);CreateDialogPushButton("$SAVE_BUTTON$","SSLSaveCert",OnSaveSSLCert);CreateGroupBox("$SSH_PRIVATE_KEY_OPTIONS$","SSHCertGroup",380,nGroupBoxHeight);var SSHKeyInput=CreateInputField(g_asSSHCertInfo[1],"SSHKeyPath","SSHKeyPath",undefined,340,undefined,undefined,undefined,true);var SSHPasswordInput=CreatePasswordField(g_asSSHCertInfo[2],"SSHCertPassword","SSHCertPassword",undefined,340,undefined,undefined,undefined,true);setTimeout(function(){initPasswordTypeToggler(SSHPasswordInput,"SSHCertPassword");});var SSHKeyBrowse=CreatePushButton("","SSHKeyBrowse",LoadDynamicContentAndRun,undefined,undefined,["%ADMIN_FILE%Include/BrowseDialog.htm?ID=%ID%","BrowseDialogDiv",String("OnBrowse("),[SSHKeyInput,true,"0","0"]]);SSHKeyBrowse.setControlImage("Browse");CreatePushButton("$CREATE_PRIVATE_KEY$...","CreatePrivateKey",OnCreatePrivateKey);CreateDialogPushButton("$SAVE_BUTTON$","SSHSaveCert",OnSaveSSHCert);var sSSHFingerprint=decodeURIComponent("%CDomain.%ID%.SSHKeyFingerprint%");var sSSHKeyType="%CDomain.%ID%.SSHKeyType%";var SSHKeyType=CreateInputField(sSSHKeyType,"SSHKeyType","SSHKeyType",undefined,340,undefined,undefined,undefined,true);SSHKeyType.getContent('box/text').setAttribute('readonly',true);document.getElementById("SSHKeyFingerprints").setAttribute('readonly',true);document.getElementById("SSHKeyFingerprints").value=sSSHFingerprint;if(sSSHFingerprint!="")$("#SSHKeyFingerprintDIV").show();else $("#SSHKeyFingerprintDIV").hide();function OnCustomHTMLBrowseDone(sValue){var bDisabled=true;if(sValue!=""||CustDirCombo.getControlText()!="")bDisabled=false;if(bDisabled)CustHTMLEnabled.setChecked(false,true);}function ExaminePath(sPath){if(sPath=="")return(true);else{nDriveCheck=sPath.search(eval("/\\w\\:/"));nBackSlashCheck=sPath.search(eval("/\\\\/g"));nForwardSlashCheck=sPath.search(eval("/\\//g"));if(nDriveCheck>=0)return(false);if(nBackSlashCheck>=0)return(false);if(nForwardSlashCheck>=0)return(false);}return(true);}function CheckCustHTMLPaths(){var bGoodPath=true;if(!ExaminePath(CustCSSCombo.getControlText()))bGoodPath=false;else if(!ExaminePath(CustHeaderCombo.getControlText()))bGoodPath=false;else if(!ExaminePath(CustFooterCombo.getControlText()))bGoodPath=false;return(bGoodPath);}function OnCustomHTMLSetContainer(sValue,inputObj){if(CustDirCombo.getControlText()=="")CustDirCombo.setControlText(decodeURIComponent(g_sCurrentDir));inputObj.setControlText(sValue);inputObj.getContent("box/text").element().focus();}function OnCustHTMLEnable(CheckBox){if(CustDirCombo.getControlText()==""&&CustHTMLEnabled.getControlValue()){AlertDialog("$PLEASE_SPECIFY_HTML_FOLDER$");CustHTMLEnabled.setChecked(false,true);}}var CustCSSCombo;var CustHeaderCombo;var CustFooterCombo;var CustDirCombo;var CustHTMLEnabled;var CustDirBrowse;var CustCSSBrowse;var CustHeaderBrowse;var CustFooterBrowse;CreateGroupBox("$CUSTOM_HTML_GROUP_TITLE$","CustomHTMLPathsGroup",400,350);if("Domain"=="Server"){CustCSSCombo=CreateInputField(DecodeString("%CDomain.%ID%.HTMLLoginCSS%"),"HTMLLoginCSS","HTMLLoginCSS",undefined,340,20,false,OnSaveCustHTML,true);CustHeaderCombo=CreateInputField(DecodeString("%CDomain.%ID%.HTMLLoginHeader%"),"HTMLLoginHeader","HTMLLoginHeader",undefined,340,20,false,OnSaveCustHTML,true);CustFooterCombo=CreateInputField(DecodeString("%CDomain.%ID%.HTMLLoginFooter%"),"HTMLLoginFooter","HTMLLoginFooter",undefined,340,20,false,OnSaveCustHTML,true);CustDirCombo=CreateInputField(DecodeString("%CDomain.%ID%.HTMLDir%"),"HTMLDir","HTMLDir",OnCustomHTMLBrowseDone,340,20,false,OnSaveCustHTML,true);CustHTMLEnabled=CreateCheckBox("$ENABLE_CUSTOM_HTML$","UseCustomHTML","UseCustomHTML",(parseInt("%CDomain.%ID%.UseCustomHTML%")!=0),OnCustHTMLEnable);CreateHTMLBrowseButtons(true);}else{CustCSSCombo=CreateComboBox("","",[],[],"HTMLLoginCSS","HTMLLoginCSS",undefined,undefined,true,340,20,OnSaveCustHTML,true);CustHeaderCombo=CreateComboBox("","",[],[],"HTMLLoginHeader","HTMLLoginHeader",undefined,undefined,true,340,20,OnSaveCustHTML,true);CustFooterCombo=CreateComboBox("","",[],[],"HTMLLoginFooter","HTMLLoginFooter",undefined,undefined,true,340,20,OnSaveCustHTML,true);CustHTMLEnabled=CreateTriStateCheckBox("$ENABLE_CUSTOM_HTML$","UseCustomHTML","UseCustomHTML","%CDomain.%ID%.UseCustomHTML%","%CDomain.%ID%.UseCustomHTML.Default%","%CDomain.%ID%.UseCustomHTML.IsDefault%",OnCustHTMLEnable);CustDirCombo=CreateComboBox("","",[],[],"HTMLDir","HTMLDir",OnCustomHTMLBrowseDone,undefined,true,340,20,OnSaveCustHTML,true);CreateHTMLBrowseButtons(false);var sCustDirVal=DecodeString("%CDomain.%ID%.HTMLDir%"),sCustDirDefault=DecodeString("%CDomain.%ID%.HTMLDir.Default%");CustDirCombo.initValue(sCustDirVal,sCustDirDefault);if(sCustDirVal.length)CustDirCombo.setControlText(sCustDirVal);else CustDirCombo.setControlText(sCustDirDefault);var sCustCSSVal=DecodeString("%CDomain.%ID%.HTMLLoginCSS%"),sCustCSSDefault=DecodeString("%CDomain.%ID%.HTMLLoginCSS.Default%");CustCSSCombo.initValue(sCustCSSVal,sCustCSSDefault);if(sCustCSSVal.length)CustCSSCombo.setControlText(sCustCSSVal);else CustCSSCombo.setControlText(sCustCSSDefault);var sCustHeaderVal=DecodeString("%CDomain.%ID%.HTMLLoginHeader%"),sCustHeaderDefault=DecodeString("%CDomain.%ID%.HTMLLoginHeader.Default%");CustHeaderCombo.initValue(sCustHeaderVal,sCustHeaderDefault);if(sCustHeaderVal.length)CustHeaderCombo.setControlText(sCustHeaderVal);else CustHeaderCombo.setControlText(sCustHeaderDefault);var sCustFooterVal=DecodeString("%CDomain.%ID%.HTMLLoginFooter%"),sCustFooterDefault=DecodeString("%CDomain.%ID%.HTMLLoginFooter.Default%");CustFooterCombo.initValue(sCustFooterVal,sCustFooterDefault);if(sCustFooterVal.length)CustFooterCombo.setControlText(sCustFooterVal);else CustFooterCombo.setControlText(sCustFooterDefault);}CreateDialogPushButton("$SAVE_BUTTON$","SaveCustomHTML",OnSaveCustHTML);function CreateHTMLBrowseButtons(bInputs){CustDirBrowse=CreatePushButton("","HTMLDirBrowse",LoadDynamicContentAndRun,undefined,undefined,["%ADMIN_FILE%Include/BrowseDialog.htm?ID=%ID%","BrowseDialogDiv",String("OnBrowse("),[CustDirCombo,false,"0","1"]]);CustDirBrowse.setControlImage("Browse");CustCSSBrowse=CreatePushButton("","HTMLLoginCSSBrowse",LoadDynamicContentAndRun,undefined,undefined,["%ADMIN_FILE%Include/BrowseDialog.htm?ID=%ID%","BrowseDialogDiv",String("OnBrowse("),[CustCSSCombo,true,"0","0",OnCustomHTMLSetContainer,true,CustDirCombo]]);CustCSSBrowse.setControlImage("Browse");CustHeaderBrowse=CreatePushButton("","HTMLLoginHeaderBrowse",LoadDynamicContentAndRun,undefined,undefined,["%ADMIN_FILE%Include/BrowseDialog.htm?ID=%ID%","BrowseDialogDiv",String("OnBrowse("),[CustHeaderCombo,true,"0","0",OnCustomHTMLSetContainer,true,CustDirCombo]]);CustHeaderBrowse.setControlImage("Browse");CustFooterBrowse=CreatePushButton("","HTMLLoginFooterBrowse",LoadDynamicContentAndRun,undefined,undefined,["%ADMIN_FILE%Include/BrowseDialog.htm?ID=%ID%","BrowseDialogDiv",String("OnBrowse("),[CustFooterCombo,true,"0","0",OnCustomHTMLSetContainer,true,CustDirCombo]]);CustFooterBrowse.setControlImage("Browse");if(bInputs&&DecodeString("%CDomain.%ID%.HTMLDir%")!="")OnCustomHTMLBrowseDone();}CreateGroupBox("$SSH_CIPHERS$","SSHCiphers",380,115);CreateGroupBox("$SSH_MACs$","SSHMACs",380,115);CreateGroupBox("$SSH_KEXs$","SSHKEXs",380,135);if("Domain"=="Domain"){document.getElementById("DomainCertNote").style.display="block";document.getElementById("SSLOptions").style.display="none";document.getElementById("SSLOptionsContainer").style.display="none";CreateTriStateCheckBox("$SSH_AES128$","SSHAES128","SSHAES128","%CDomain.%ID%.SSHAES128%","%CDomain.%ID%.SSHAES128.Default%","%CDomain.%ID%.SSHAES128.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_3DES$","SSH3DES","SSH3DES","%CDomain.%ID%.SSH3DES%","%CDomain.%ID%.SSH3DES.Default%","%CDomain.%ID%.SSH3DES.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_AES192$","SSHAES192","SSHAES192","%CDomain.%ID%.SSHAES192%","%CDomain.%ID%.SSHAES192.Default%","%CDomain.%ID%.SSHAES192.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_AES256$","SSHAES256","SSHAES256","%CDomain.%ID%.SSHAES256%","%CDomain.%ID%.SSHAES256.Default%","%CDomain.%ID%.SSHAES256.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_CBC$","SSHCBC","SSHCBC","%CDomain.%ID%.SSHCBC%","%CDomain.%ID%.SSHCBC.Default%","%CDomain.%ID%.SSHCBC.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_MACMD5$","SSHMACMD5","SSHMACMD5","%CDomain.%ID%.SSHMACMD5%","%CDomain.%ID%.SSHMACMD5.Default%","%CDomain.%ID%.SSHMACMD5.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_MACSHA1$","SSHMACSHA1","SSHMACSHA1","%CDomain.%ID%.SSHMACSHA1%","%CDomain.%ID%.SSHMACSHA1.Default%","%CDomain.%ID%.SSHMACSHA1.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_MACSHA1_96$","SSHMACSHA1_96","SSHMACSHA1_96","%CDomain.%ID%.SSHMACSHA1_96%","%CDomain.%ID%.SSHMACSHA1_96.Default%","%CDomain.%ID%.SSHMACSHA1_96.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_AES128CTR$","SSHAES128ctr","SSHAES128ctr","%CDomain.%ID%.SSHAES128ctr%","%CDomain.%ID%.SSHAES128ctr.Default%","%CDomain.%ID%.SSHAES128ctr.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_AES192CTR$","SSHAES192ctr","SSHAES192ctr","%CDomain.%ID%.SSHAES192ctr%","%CDomain.%ID%.SSHAES192ctr.Default%","%CDomain.%ID%.SSHAES192ctr.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_AES256CTR$","SSHAES256ctr","SSHAES256ctr","%CDomain.%ID%.SSHAES256ctr%","%CDomain.%ID%.SSHAES256ctr.Default%","%CDomain.%ID%.SSHAES256ctr.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_256$","SSHMACSHA2_256","SSHMACSHA2_256","%CDomain.%ID%.SSHMACSHA2_256%","%CDomain.%ID%.SSHMACSHA2_256.Default%","%CDomain.%ID%.SSHMACSHA2_256.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_256_96$","SSHMACSHA2_256_96","SSHMACSHA2_256_96","%CDomain.%ID%.SSHMACSHA2_256_96%","%CDomain.%ID%.SSHMACSHA2_256_96.Default%","%CDomain.%ID%.SSHMACSHA2_256_96.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_512$","SSHMACSHA2_512","SSHMACSHA2_512","%CDomain.%ID%.SSHMACSHA2_512%","%CDomain.%ID%.SSHMACSHA2_512.Default%","%CDomain.%ID%.SSHMACSHA2_512.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_512_96$","SSHMACSHA2_512_96","SSHMACSHA2_512_96","%CDomain.%ID%.SSHMACSHA2_512_96%","%CDomain.%ID%.SSHMACSHA2_512_96.Default%","%CDomain.%ID%.SSHMACSHA2_512_96.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_DH_GROUP1$","SSHKEX_DH_GROUP1","SSHKEX_DH_GROUP1","%CDomain.%ID%.SSHKEX_DH_GROUP1%","%CDomain.%ID%.SSHKEX_DH_GROUP1.Default%","%CDomain.%ID%.SSHKEX_DH_GROUP1.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_DH_GROUP14$","SSHKEX_DH_GROUP14","SSHKEX_DH_GROUP14","%CDomain.%ID%.SSHKEX_DH_GROUP14%","%CDomain.%ID%.SSHKEX_DH_GROUP14.Default%","%CDomain.%ID%.SSHKEX_DH_GROUP14.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_DH_GROUP14_SSH_256$","SSHKEX_DH_GROUP14_SHA2_256","SSHKEX_DH_GROUP14_SHA2_256","%CDomain.%ID%.SSHKEX_DH_GROUP14_SHA2_256%","%CDomain.%ID%.SSHKEX_DH_GROUP14_SHA2_256.Default%","%CDomain.%ID%.SSHKEX_DH_GROUP14_SHA2_256.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_DH_GROUP16_SSH_512$","SSHKEX_DH_GROUP16_SHA2_512","SSHKEX_DH_GROUP16_SHA2_512","%CDomain.%ID%.SSHKEX_DH_GROUP16_SHA2_512%","%CDomain.%ID%.SSHKEX_DH_GROUP16_SHA2_512.Default%","%CDomain.%ID%.SSHKEX_DH_GROUP16_SHA2_512.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_DH_GROUP_EXCHANGE_SSH_256$","SSHKEX_DH_GROUP_EXCHANGE_SHA2_256","SSHKEX_DH_GROUP_EXCHANGE_SHA2_256","%CDomain.%ID%.SSHKEX_DH_GROUP_EXCHANGE_SHA2_256%","%CDomain.%ID%.SSHKEX_DH_GROUP_EXCHANGE_SHA2_256.Default%","%CDomain.%ID%.SSHKEX_DH_GROUP_EXCHANGE_SHA2_256.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_ECDH_NISTP256$","SSHKEX_ECDH_NISTP256","SSHKEX_ECDH_NISTP256","%CDomain.%ID%.SSHKEX_ECDH_NISTP256%","%CDomain.%ID%.SSHKEX_ECDH_NISTP256.Default%","%CDomain.%ID%.SSHKEX_ECDH_NISTP256.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_ECDH_NISTP384$","SSHKEX_ECDH_NISTP384","SSHKEX_ECDH_NISTP384","%CDomain.%ID%.SSHKEX_ECDH_NISTP384%","%CDomain.%ID%.SSHKEX_ECDH_NISTP384.Default%","%CDomain.%ID%.SSHKEX_ECDH_NISTP384.IsDefault%",OnChangeSettingsCheck);CreateTriStateCheckBox("$SSH_ECDH_NISTP521$","SSHKEX_ECDH_NISTP521","SSHKEX_ECDH_NISTP521","%CDomain.%ID%.SSHKEX_ECDH_NISTP521%","%CDomain.%ID%.SSHKEX_ECDH_NISTP521.Default%","%CDomain.%ID%.SSHKEX_ECDH_NISTP521.IsDefault%",OnChangeSettingsCheck);}else{var nSSLOptionsFS=140;CreateGroupBox("$SSL_OPTIONS$","SSLOptions",400,nSSLOptionsFS);CreateCheckBox("$TLS_DISABLE_V12$","DisableTLSv12","DisableTLSv12",(parseInt(%CServer.%SERVER_ID%.DisableTLSv12%)!=0),OnChangeSettingsCheck);CreateCheckBox("$TLS_DISABLE_V13$","DisableTLSv13","DisableTLSv13",(parseInt(%CServer.%SERVER_ID%.DisableTLSv13%)!=0),OnChangeSettingsCheck);var aSSLEnableCiphers=decodeURIComponent("%CServer.%SERVER_ID%.DisableCiphersTLSv12%").split(":");var aEnableCiphersTLSv13=decodeURIComponent("%CServer.%SERVER_ID%.EnableCiphersTLSv13%").split(":");var ECDHERSAAES256GCMSHA384=CreateCheckBox("ECDHE-RSA-AES256-GCM-SHA384","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-RSA-AES256-GCM-SHA384",SetSSLCipherValue(aSSLEnableCiphers,"ECDHE-RSA-AES256-GCM-SHA384",false),OnChangeSSLCiphersCheck);var ECDHERSAAES256SHA384=CreateCheckBox("ECDHE-RSA-AES256-SHA384","ECDHE-RSA-AES256-SHA384","ECDHE-RSA-AES256-SHA384",SetSSLCipherValue(aSSLEnableCiphers,"ECDHE-RSA-AES256-SHA384",false),OnChangeSSLCiphersCheck);var AES256GCMSHA384=CreateCheckBox("AES256-GCM-SHA384","AES256-GCM-SHA384","AES256-GCM-SHA384",SetSSLCipherValue(aSSLEnableCiphers,"AES256-GCM-SHA384",false),OnChangeSSLCiphersCheck);var AES256SHA256=CreateCheckBox("AES256-SHA256","AES256-SHA256","AES256-SHA256",SetSSLCipherValue(aSSLEnableCiphers,"AES256-SHA256",false),OnChangeSSLCiphersCheck);var ECDHERSAAES128GCMSHA256=CreateCheckBox("ECDHE-RSA-AES128-GCM-SHA256","ECDHE-RSA-AES128-GCM-SHA256","ECDHE-RSA-AES128-GCM-SHA256",SetSSLCipherValue(aSSLEnableCiphers,"ECDHE-RSA-AES128-GCM-SHA256",false),OnChangeSSLCiphersCheck);var ECDHERSAAES128SHA256=CreateCheckBox("ECDHE-RSA-AES128-SHA256","ECDHE-RSA-AES128-SHA256","ECDHE-RSA-AES128-SHA256",SetSSLCipherValue(aSSLEnableCiphers,"ECDHE-RSA-AES128-SHA256",false),OnChangeSSLCiphersCheck);var AES128GCMSHA256=CreateCheckBox("AES128-GCM-SHA256","AES128-GCM-SHA256","AES128-GCM-SHA256",SetSSLCipherValue(aSSLEnableCiphers,"AES128-GCM-SHA256",false),OnChangeSSLCiphersCheck);var AES128SHA256=CreateCheckBox("AES128-SHA256","AES128-SHA256","AES128-SHA256",SetSSLCipherValue(aSSLEnableCiphers,"AES128-SHA256",false),OnChangeSSLCiphersCheck);var AES128CCM=CreateCheckBox("AES128-CCM","AES128-CCM","AES128-CCM",SetSSLCipherValue(aSSLEnableCiphers,"AES128-CCM",false),OnChangeSSLCiphersCheck);var AES256CCM=CreateCheckBox("AES256-CCM","AES256-CCM","AES256-CCM",SetSSLCipherValue(aSSLEnableCiphers,"AES256-CCM",false),OnChangeSSLCiphersCheck);var ARIA128GCMSHA256=CreateCheckBox("ARIA128-GCM-SHA256","ARIA128-GCM-SHA256","ARIA128-GCM-SHA256",SetSSLCipherValue(aSSLEnableCiphers,"ARIA128-GCM-SHA256",false),OnChangeSSLCiphersCheck);var ARIA256GCMSHA384=CreateCheckBox("ARIA256-GCM-SHA384","ARIA256-GCM-SHA384","ARIA256-GCM-SHA384",SetSSLCipherValue(aSSLEnableCiphers,"ARIA256-GCM-SHA384",false),OnChangeSSLCiphersCheck);var ECDHEARIA128GCMSHA256=CreateCheckBox("ECDHE-ARIA128-GCM-SHA256","ECDHE-ARIA128-GCM-SHA256","ECDHE-ARIA128-GCM-SHA256",SetSSLCipherValue(aSSLEnableCiphers,"ECDHE-ARIA128-GCM-SHA256",false),OnChangeSSLCiphersCheck);var ECDHEARIA256GCMSHA384=CreateCheckBox("ECDHE-ARIA256-GCM-SHA384","ECDHE-ARIA256-GCM-SHA384","ECDHE-ARIA256-GCM-SHA384",SetSSLCipherValue(aSSLEnableCiphers,"ECDHE-ARIA256-GCM-SHA384",false),OnChangeSSLCiphersCheck);var ECDHERSACHACHA20POLY1305=CreateCheckBox("ECDHE-RSA-CHACHA20-POLY1305","ECDHE-RSA-CHACHA20-POLY1305","ECDHE-RSA-CHACHA20-POLY1305",SetSSLCipherValue(aSSLEnableCiphers,"ECDHE-RSA-CHACHA20-POLY1305",false),OnChangeSSLCiphersCheck);var TLSAES128GCMSHA256=CreateCheckBox("TLS-AES-128-GCM-SHA256","TLS_AES_128_GCM_SHA256","TLS_AES_128_GCM_SHA256",SetSSLCipherValue(aEnableCiphersTLSv13,"TLS_AES_128_GCM_SHA256",true),OnChangeSSLCiphersCheck);var TLSAES256GCMSHA384=CreateCheckBox("TLS-AES-256-GCM-SHA384","TLS_AES_256_GCM_SHA384","TLS_AES_256_GCM_SHA384",SetSSLCipherValue(aEnableCiphersTLSv13,"TLS_AES_256_GCM_SHA384",true),OnChangeSSLCiphersCheck);var TLSCHACHA20POLY1305SHA256=CreateCheckBox("TLS-CHACHA20-POLY1305-SHA256","TLS_CHACHA20_POLY1305_SHA256","TLS_CHACHA20_POLY1305_SHA256",SetSSLCipherValue(aEnableCiphersTLSv13,"TLS_CHACHA20_POLY1305_SHA256",true),OnChangeSSLCiphersCheck);var TLSAES128CCMSHA256=CreateCheckBox("TLS-AES-128-CCM-SHA256","TLS_AES_128_CCM_SHA256","TLS_AES_128_CCM_SHA256",SetSSLCipherValue(aEnableCiphersTLSv13,"TLS_AES_128_CCM_SHA256",true),OnChangeSSLCiphersCheck);var TLSAES128CCM8SHA256=CreateCheckBox("TLS-AES-128-CCM-8-SHA256","TLS_AES_128_CCM_8_SHA256","TLS_AES_128_CCM_8_SHA256",SetSSLCipherValue(aEnableCiphersTLSv13,"TLS_AES_128_CCM_8_SHA256",true),OnChangeSSLCiphersCheck);CreatePushButton("$SHOW_SSL_CIPHER_SUITES$","ShowSSLCipherSuites",OnShowCipherSuitesDialog);CreateCheckBox("$SSH_AES128$","SSHAES128","SSHAES128",(parseInt("%CDomain.%ID%.SSHAES128%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_3DES$","SSH3DES","SSH3DES",(parseInt("%CDomain.%ID%.SSH3DES%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_AES192$","SSHAES192","SSHAES192",(parseInt("%CDomain.%ID%.SSHAES192%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_AES256$","SSHAES256","SSHAES256",(parseInt("%CDomain.%ID%.SSHAES256%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_CBC$","SSHCBC","SSHCBC",(parseInt("%CDomain.%ID%.SSHCBC%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_MACMD5$","SSHMACMD5","SSHMACMD5",(parseInt("%CDomain.%ID%.SSHMACMD5%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_MACSHA1$","SSHMACSHA1","SSHMACSHA1",(parseInt("%CDomain.%ID%.SSHMACSHA1%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_MACSHA1_96$","SSHMACSHA1_96","SSHMACSHA1_96",(parseInt("%CDomain.%ID%.SSHMACSHA1_96%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_AES128CTR$","SSHAES128ctr","SSHAES128ctr",(parseInt("%CDomain.%ID%.SSHAES128ctr%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_AES192CTR$","SSHAES192ctr","SSHAES192ctr",(parseInt("%CDomain.%ID%.SSHAES192ctr%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_AES256CTR$","SSHAES256ctr","SSHAES256ctr",(parseInt("%CDomain.%ID%.SSHAES256ctr%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_256$","SSHMACSHA2_256","SSHMACSHA2_256",(parseInt("%CDomain.%ID%.SSHMACSHA2_256%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_256_96$","SSHMACSHA2_256_96","SSHMACSHA2_256_96",(parseInt("%CDomain.%ID%.SSHMACSHA2_256_96%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_512$","SSHMACSHA2_512","SSHMACSHA2_512",(parseInt("%CDomain.%ID%.SSHMACSHA2_512%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_512_96$","SSHMACSHA2_512_96","SSHMACSHA2_512_96",(parseInt("%CDomain.%ID%.SSHMACSHA2_512_96%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_DH_GROUP1$","SSHKEX_DH_GROUP1","SSHKEX_DH_GROUP1",(parseInt("%CDomain.%ID%.SSHKEX_DH_GROUP1%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_DH_GROUP14$","SSHKEX_DH_GROUP14","SSHKEX_DH_GROUP14",(parseInt("%CDomain.%ID%.SSHKEX_DH_GROUP14%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_DH_GROUP14_SSH_256$","SSHKEX_DH_GROUP14_SHA2_256","SSHKEX_DH_GROUP14_SHA2_256",(parseInt("%CDomain.%ID%.SSHKEX_DH_GROUP14_SHA2_256%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_DH_GROUP16_SSH_512$","SSHKEX_DH_GROUP16_SHA2_512","SSHKEX_DH_GROUP16_SHA2_512",(parseInt("%CDomain.%ID%.SSHKEX_DH_GROUP16_SHA2_512%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_DH_GROUP_EXCHANGE_SSH_256$","SSHKEX_DH_GROUP_EXCHANGE_SHA2_256","SSHKEX_DH_GROUP_EXCHANGE_SHA2_256",(parseInt("%CDomain.%ID%.SSHKEX_DH_GROUP_EXCHANGE_SHA2_256%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_ECDH_NISTP256$","SSHKEX_ECDH_NISTP256","SSHKEX_ECDH_NISTP256",(parseInt("%CDomain.%ID%.SSHKEX_ECDH_NISTP256%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_ECDH_NISTP384$","SSHKEX_ECDH_NISTP384","SSHKEX_ECDH_NISTP384",(parseInt("%CDomain.%ID%.SSHKEX_ECDH_NISTP384%")!=0),OnChangeSettingsCheck);CreateCheckBox("$SSH_ECDH_NISTP521$","SSHKEX_ECDH_NISTP521","SSHKEX_ECDH_NISTP521",(parseInt("%CDomain.%ID%.SSHKEX_ECDH_NISTP521%")!=0),OnChangeSettingsCheck);}function SetSSLCipherValue(aSSLEnableCiphers,sCipher,bRetValue){if(aSSLEnableCiphers.length==0)return(true);else{for(var nIndex=0;(nIndex<aSSLEnableCiphers.length);nIndex++){if(aSSLEnableCiphers[nIndex].toString()==sCipher.toString())return(bRetValue);}}return(!bRetValue);}function OnChangeSSLCiphersCheck(CheckBox){var sDisabledTLSv12CiphersString="";var sEnabledTLSv13CiphersString="";var nTotalCiphers=20;var nTotalCiphersTLSv13=5;var nTLSv12CipherNumb=0;var nTLSv13CipherNumb=0;if(!ECDHERSAAES256GCMSHA384.getControlValue())sDisabledTLSv12CiphersString+="ECDHE-RSA-AES256-GCM-SHA384:";if(!ECDHERSAAES256SHA384.getControlValue())sDisabledTLSv12CiphersString+="ECDHE-RSA-AES256-SHA384:";if(!AES256GCMSHA384.getControlValue())sDisabledTLSv12CiphersString+="AES256-GCM-SHA384:";if(!AES256SHA256.getControlValue())sDisabledTLSv12CiphersString+="AES256-SHA256:";if(!ECDHERSAAES128GCMSHA256.getControlValue())sDisabledTLSv12CiphersString+="ECDHE-RSA-AES128-GCM-SHA256:";if(!ECDHERSAAES128SHA256.getControlValue())sDisabledTLSv12CiphersString+="ECDHE-RSA-AES128-SHA256:";if(!AES128GCMSHA256.getControlValue())sDisabledTLSv12CiphersString+="AES128-GCM-SHA256:";if(!AES128SHA256.getControlValue())sDisabledTLSv12CiphersString+="AES128-SHA256:";if(!AES128CCM.getControlValue())sDisabledTLSv12CiphersString+="AES128-CCM:";if(!AES256CCM.getControlValue())sDisabledTLSv12CiphersString+="AES256-CCM:";if(!ARIA128GCMSHA256.getControlValue())sDisabledTLSv12CiphersString+="ARIA128-GCM-SHA256:";if(!ARIA256GCMSHA384.getControlValue())sDisabledTLSv12CiphersString+="ARIA256-GCM-SHA384:";if(!ECDHEARIA128GCMSHA256.getControlValue())sDisabledTLSv12CiphersString+="ECDHE-ARIA128-GCM-SHA256:";if(!ECDHEARIA256GCMSHA384.getControlValue())sDisabledTLSv12CiphersString+="ECDHE-ARIA256-GCM-SHA384:";if(!ECDHERSACHACHA20POLY1305.getControlValue())sDisabledTLSv12CiphersString+="ECDHE-RSA-CHACHA20-POLY1305:";if(TLSAES128GCMSHA256.getControlValue())sEnabledTLSv13CiphersString+="TLS_AES_128_GCM_SHA256:";if(TLSAES256GCMSHA384.getControlValue())sEnabledTLSv13CiphersString+="TLS_AES_256_GCM_SHA384:";if(TLSCHACHA20POLY1305SHA256.getControlValue())sEnabledTLSv13CiphersString+="TLS_CHACHA20_POLY1305_SHA256:";if(TLSAES128CCMSHA256.getControlValue())sEnabledTLSv13CiphersString+="TLS_AES_128_CCM_SHA256:";if(TLSAES128CCM8SHA256.getControlValue())sEnabledTLSv13CiphersString+="TLS_AES_128_CCM_8_SHA256:";if(sDisabledTLSv12CiphersString.charAt(sDisabledTLSv12CiphersString.length-1)==":")sDisabledTLSv12CiphersString=sDisabledTLSv12CiphersString.substr(0,sDisabledTLSv12CiphersString.length-1);if(sEnabledTLSv13CiphersString.charAt(sEnabledTLSv13CiphersString.length-1)==":")sEnabledTLSv13CiphersString=sEnabledTLSv13CiphersString.substr(0,sEnabledTLSv13CiphersString.length-1);if(sDisabledTLSv12CiphersString.length!=0)nTLSv12CipherNumb=sDisabledTLSv12CiphersString.split(":").length;if(sEnabledTLSv13CiphersString.length!=0)nTLSv13CipherNumb=sEnabledTLSv13CiphersString.split(":").length;if((nTLSv12CipherNumb+nTotalCiphersTLSv13-nTLSv13CipherNumb)>=nTotalCiphers){BusyDialog(false);AlertDialog("$NO_DISABLE_ALL_CIPHERS$");if(CheckBox)CheckBox.setChecked(true,true);}else{var BoolUpdate=CreatePostRequest(g_sAdminXMLPath+"Result.xml%UPDATE_OBJECT_REF%CServer.%SERVER_ID%.Domain.%ID%&StaticOnly=1");BoolUpdate.setParameter("DisableCiphersTLSv12",sDisabledTLSv12CiphersString);BoolUpdate.setParameter("EnableCiphersTLSv13",sEnabledTLSv13CiphersString);SavingDialog(true);BoolUpdate.request();BoolUpdate.response=function(XMLDoc){var nResult=GetXMLValueInt(XMLDoc,"result");var sResultText=GetXMLValue(XMLDoc,"ResultText");SavingDialog(false);if(nResult!=g_nSessionOkay){AlertDialog(GetResultText(0,"",sResultText));}};}}function OnViewCert(){if(g_nSSLCertID){var ViewCertificateRequest=createAWHttpRequest("GET",(g_sAdminXMLPath+"CertificateInfo.xml?ID="+g_nSSLCertID),function(){var xmlDoc=this.getResponseXML();var nResult;var sResultText;if((xmlDoc)&&((nResult=GetXMLValueInt(xmlDoc,"Result"))==0))LoadDynamicContentAndRun(["%ADMIN_FILE%Include/ViewCertificateDialog.htm?ID=%ID%","ViewCertificateDialogDiv",String("LoadViewCertificateDialog("),[xmlDoc]]);else{sResultText=GetXMLValue(xmlDoc,"ResultText");LoadingDialog(false);AlertDialog(GetResultText(0,"",sResultText));}});LoadingDialog(true);ViewCertificateRequest.request();}}function OnCreateCert(){LoadDynamicContentAndRun(["%ADMIN_FILE%Include/NewCertificateDialog.htm?ID=%ID%","NewCertificateDialogDiv",String("OnShowNewCertificateDialog(")]);}function OnCreatePrivateKey(){LoadDynamicContentAndRun(["%ADMIN_FILE%Include/NewPrivateKeyDialog.htm?ID=%ID%","NewPrivateKeyDialogDiv",String("OnShowNewPrivateKeyDialog(")]);}function OnSaveSSLCert(){g_sCurCertType="SSLCertificate";OnSaveCert(g_sCurCertType,SSLCertificateInput.getControlText(),SSLKeyInput.getControlText(),SSLPasswordInput.getControlText(),SSLCACertificateInput.getControlText(),g_nSSLCertID);}function OnSaveSSHCert(){g_sCurCertType="SSHCertificate";OnSaveCert(g_sCurCertType,"",SSHKeyInput.getControlText(),SSHPasswordInput.getControlText(),"",g_nSSHCertID);}function OnSaveCert(sCertType,sCertPath,sKeyPath,sKeyPass,sCACertPath,nCurCertID){var sObjRef="%ADD_OBJECT_REF%";var objPostReq=null;var bDelete=false;if(nCurCertID){if((sCertPath=="")&&(sKeyPath=="")&&(sCACertPath=="")){sObjRef="%DELETE_OBJECT_REF%";bDelete=true;}else{sCertType+="."+nCurCertID;sObjRef="%UPDATE_OBJECT_REF%";}}if(objPostReq=CreatePostRequest("%ADMIN_FILE%XML/Result.xml"+sObjRef+"CDomain.%ID%."+sCertType,OnSaveCertDone)){SavingDialog(true);if(bDelete)objPostReq.setParameter("IDs",nCurCertID);else{objPostReq.setParameter("CertPath",sCertPath);objPostReq.setParameter("PrivateKeyPath",sKeyPath);objPostReq.setParameter("PrivateKeyPassword",sKeyPass);objPostReq.setParameter("CACertPath",sCACertPath);}objPostReq.request();}}function OnGetSSHFingerprint2(){var objPostReq=null;if(objPostReq=CreatePostRequest("%ADMIN_FILE%XML/DomainSSHKeyFingerprint.xml?ID=%ID%",OnGetSSHFingerprintDone)){SavingDialog(true);objPostReq.request();}}function OnGetSSHFingerprint(){var SSHFingerprintRequest=createAWHttpRequest("GET",("%ADMIN_FILE%XML/DomainSSHKeyFingerprint.xml?ID=%ID%"),function(){var xmlDoc=this.getResponseXML();OnGetSSHFingerprintDone(xmlDoc);});SSHFingerprintRequest.request();}function OnGetSSHKeyType(){var SSHKeyTypeRequest=createAWHttpRequest("GET",("%ADMIN_FILE%XML/DomainSSHKeyType.xml?ID=%ID%"),function(){var xmlDoc=this.getResponseXML();OnGetSSHKeyTypeDone(xmlDoc);});SSHKeyTypeRequest.request();}function OnGetSSHFingerprintDone(XMLDoc){var nRet=GetXMLValueInt(XMLDoc,"result");var sFingerprint=decodeURIComponent(GetXMLValue(XMLDoc,"fingerprint"));var sResultText=GetXMLValue(XMLDoc,"ResultText");SavingDialog(false);if(sFingerprint!=""&&sFingerprint!=undefined){document.getElementById("SSHKeyFingerprints").value=sFingerprint;$("#SSHKeyFingerprintDIV").show();}else{document.getElementById("SSHKeyFingerprints").value="";$("#SSHKeyFingerprintDIV").hide();}}function OnGetSSHKeyTypeDone(XMLDoc){var nRet=GetXMLValueInt(XMLDoc,"result");var sKeyType=GetXMLValue(XMLDoc,"keytype");var sResultText=GetXMLValue(XMLDoc,"ResultText");SavingDialog(false);if(sKeyType!=""&&sKeyType!=undefined){SSHKeyType.setControlText(sKeyType);$("#SSHKeyFingerprintDIV").show();}else{SSHKeyType.setControlText("");$("#SSHKeyFingerprintDIV").hide();}}function OnSaveCertDone(XMLDoc){var nRet=GetXMLValueInt(XMLDoc,"result");var nObjectID=GetXMLValueInt(XMLDoc,"ObjectID");var sResultText=GetXMLValue(XMLDoc,"ResultText");SavingDialog(false);if(nRet==0){if(g_sCurCertType=="SSLCertificate"){if(nObjectID){g_asSSLCertInfo[0]=SSLCertificateInput.getControlText();g_asSSLCertInfo[1]=SSLKeyInput.getControlText();g_asSSLCertInfo[2]=SSLPasswordInput.getControlText();g_asSSLCertInfo[3]=SSLCACertificateInput.getControlText();if(g_asSSLCertInfo[0]!="")document.getElementById("ViewCert").style.visibility="visible";$("#passcert-container").css("height","auto");}else{g_asSSLCertInfo=["","","",""];document.getElementById("ViewCert").style.visibility="hidden";$("#passcert-container").css("height","38px");}g_nSSLCertID=nObjectID;ViewCertButton.setControlDisabled(g_nSSLCertID==0);}else{if(nObjectID){g_asSSHCertInfo[1]=SSHKeyInput.getControlText();g_asSSHCertInfo[2]=SSHPasswordInput.getControlText();}else g_asSSHCertInfo=["","","",""];g_nSSHCertID=nObjectID;;}OnGetSSHFingerprint();OnGetSSHKeyType();}else AlertDialog(GetResultText(0,"",sResultText));}var nAdHocGroupHeight=560;if(parseInt("%CDomain.%ID%.CanEmail%")==0){document.getElementById("AdHocWarnSMTP").style.display="block";nAdHocGroupHeight=600;
var sUserAgent=navigator.userAgent;if(sUserAgent!=null&&sUserAgent!=undefined){var sMSIE="MSIE";var nFoundMSIE=sUserAgent.indexOf(sMSIE);if(nFoundMSIE!=-1)nAdHocGroupHeight+=25;}}var AdHocRootPathCombo;var AdHocRootPathBrowse;var AdHocDomainURLCombo;var AdHocDeleteDaysCombo;var AdHocURLSecure;var AdHocEnabled;var sAdhocShareRootVal=DecodeString("%CDomain.%ID%.AdHocFileShareRoot%");var sAdhocShareRootDefault=DecodeString("%CDomain.%ID%.AdHocFileShareRoot.Default%");var sAdhocDomainURLVal=DecodeString("%CDomain.%ID%.AdHocURLDomain%");var sAdhocDomainURLDefault=DecodeString("%CDomain.%ID%.AdHocURLDomain.Default%");var sAdHocDeleteDaysVal=DecodeString("%CDomain.%ID%.AdHocDeleteDays%");var sAdHocDeleteDaysDefault=DecodeString("%CDomain.%ID%.AdHocDeleteDays.Default%");var sInvitationTemplateValue=decodeURIComponent("%CDomain.%ID%.AdHocInvitationTemplate%");var sInvitationTemplateDefaultValue=decodeURIComponent("%CDomain.%ID%.AdHocInvitationTemplate.Default%");var sSubjectTemplateValue=decodeURIComponent("%CDomain.%ID%.AdHocSubjectTemplate%");var sSubjectTemplateDefaultValue=decodeURIComponent("%CDomain.%ID%.AdHocSubjectTemplate.Default%");CreateGroupBox("$FILE_SHARE_GROUP_TITLE$","FileShareContentGroup",540,nAdHocGroupHeight);if("Domain"=="Server"){AdHocRootPathCombo=CreateInputField(DecodeString("%CDomain.%ID%.AdHocFileShareRoot%"),"AdHocFileShareRoot","AdHocFileShareRoot",undefined,340,20,false,OnSaveAdHocSettings,true);AdHocDomainURLCombo=CreateInputField(DecodeString("%CDomain.%ID%.AdHocURLDomain%"),"AdHocURLDomain","AdHocURLDomain",undefined,340,20,false,OnSaveAdHocSettings,true);AdHocURLSecure=CreateCheckBox("$FILE_SHARE_USE_SECURE_URL$","AdHocURLSecure","AdHocURLSecure",(parseInt("%CDomain.%ID%.AdHocURLSecure%")!=0),undefined);AdHocEnabled=CreateCheckBox("$FILE_SHARE_ENABLE_TXT$","AllowAdHocFileSharing","AllowAdHocFileSharing",(parseInt("%CDomain.%ID%.AllowAdHocFileSharing%")!=0));}else{AdHocRootPathCombo=CreateComboBox("","",[],[],"AdHocFileShareRoot","AdHocFileShareRoot",undefined,undefined,true,340,20,OnSaveAdHocSettings,true);AdHocDomainURLCombo=CreateComboBox("","",[],[],"AdHocURLDomain","AdHocURLDomain",undefined,undefined,true,340,20,OnSaveAdHocSettings,true);AdHocURLSecure=CreateTriStateCheckBox("$FILE_SHARE_USE_SECURE_URL$","AdHocURLSecure","AdHocURLSecure","%CDomain.%ID%.AdHocURLSecure%","%CDomain.%ID%.AdHocURLSecure.Default%","%CDomain.%ID%.AdHocURLSecure.IsDefault%",undefined);AdHocEnabled=CreateTriStateCheckBox("$FILE_SHARE_ENABLE_TXT$","AllowAdHocFileSharing","AllowAdHocFileSharing","%CDomain.%ID%.AllowAdHocFileSharing%","%CDomain.%ID%.AllowAdHocFileSharing.Default%","%CDomain.%ID%.AllowAdHocFileSharing.IsDefault%");AdHocRootPathCombo.initValue(sAdhocShareRootVal,sAdhocShareRootDefault);AdHocDomainURLCombo.initValue(sAdhocDomainURLVal,sAdhocDomainURLDefault);}var asDeleteVals=new Array;var asDeleteNames=new Array;for(var nIndex=1;nIndex<=30;++nIndex){asDeleteVals.push(nIndex);asDeleteNames.push(nIndex);}AdHocDeleteDaysCombo=CreateComboBox("","",asDeleteNames,asDeleteVals,"AdHocDeleteDays","AdHocDeleteDays",undefined,undefined,true,60,20,OnSaveAdHocSettings,false,false,true);asDeleteVals[asDeleteVals.length-1]="$DEFAULT$";AdHocDeleteDaysCombo.setItemText(asDeleteVals);AdHocDeleteDaysCombo.initValue(sAdHocDeleteDaysVal,sAdHocDeleteDaysDefault);if(sAdhocShareRootVal.length)AdHocRootPathCombo.setControlText(sAdhocShareRootVal);else AdHocRootPathCombo.setControlText(sAdhocShareRootDefault);if(sAdhocDomainURLVal.length)AdHocDomainURLCombo.setControlText(sAdhocDomainURLVal);else AdHocDomainURLCombo.setControlText(sAdhocDomainURLDefault);if(sAdHocDeleteDaysVal.length)AdHocDeleteDaysCombo.setControlText(sAdHocDeleteDaysVal);else AdHocDeleteDaysCombo.setControlText(sAdHocDeleteDaysDefault);var ctrlUseInheritedInviteMsg=CreateCheckBox("$PR_CHECK_LABEL$","UseInheritedInvitationTemplate","UseInheritedInvitationTemplate",(sInvitationTemplateValue==sInvitationTemplateDefaultValue),OnUpdateInvitationTemplate);var ctrlUseInheritedSubjectMsg=CreateCheckBox("$DS_CHECK_LABEL$","UseInheritedSubjectTemplate","UseInheritedSubjectTemplate",(sSubjectTemplateValue==sSubjectTemplateDefaultValue),OnUpdateSubjectTemplate);if(sInvitationTemplateValue.length)document.getElementById("AdHocInvitationTemplate").value=sInvitationTemplateValue;else document.getElementById("AdHocInvitationTemplate").value=sInvitationTemplateDefaultValue;if(sInvitationTemplateValue!=sInvitationTemplateDefaultValue)document.getElementById("AdHocInvitationTemplate").disabled=false;else document.getElementById("AdHocInvitationTemplate").disabled=true;if(sSubjectTemplateValue.length)document.getElementById("AdHocSubjectTemplate").value=sSubjectTemplateValue;else document.getElementById("AdHocSubjectTemplate").value=sSubjectTemplateDefaultValue;if(sSubjectTemplateValue!=sSubjectTemplateDefaultValue)document.getElementById("AdHocSubjectTemplate").disabled=false;else document.getElementById("AdHocSubjectTemplate").disabled=true;AdHocRootPathBrowse=CreatePushButton("","AdHocFileShareRootBrowse",LoadDynamicContentAndRun,undefined,undefined,["%ADMIN_FILE%Include/BrowseDialog.htm?ID=%ID%","BrowseDialogDiv",String("OnBrowse("),[AdHocRootPathCombo,false,"0","1",OnSetAdHocRootPath,false,undefined]]);AdHocRootPathBrowse.setControlImage("Browse");CreateDialogPushButton("$SAVE_BUTTON$","SaveAdHocSettings",OnSaveAdHocSettings);var SMTPButton=CreatePushButton("$CONFIG_SMTP_BUTTON$...","myConfigSMTPButton",OnSMTPConfig);SMTPButton.setControlImage("SMTP_Icon");function ConfigureSMTP(){if("Domain"=="Server")window.location.href="Server.htm?Page=4&EditSMTP=1";else window.location.href="Domain.htm?ID=%ID%&Page=6&EditSMTP=1";}function GotoFSLimits(){if(g_ActiveTab!=undefined)g_ActiveTab.setSelectedItems([0]);if(LimitCatCombo!=undefined){LimitCatCombo.setControlText("$FILE_SHARING$");LimitCatCombo.setControlValue("FileSharing");LimitCatCombo.setSelectedItems([6]);OnChangeLimitType("FileSharing",false,true);}}function OnUpdateInvitationTemplate(CheckBox){var bDisableInherited=(!CheckBox.getControlValue());var sMessageValue=decodeURIComponent("%CDomain.%ID%.AdHocInvitationTemplate%");var sMessageDefaultValue=decodeURIComponent("%CDomain.%ID%.AdHocInvitationTemplate.Default%");if(bDisableInherited){document.getElementById("AdHocInvitationTemplate").value=sMessageValue;document.getElementById("AdHocInvitationTemplate").disabled=false;}else{document.getElementById("AdHocInvitationTemplate").value=sMessageDefaultValue;document.getElementById("AdHocInvitationTemplate").disabled=true;}}function OnUpdateSubjectTemplate(CheckBox){var bDisableInherited=(!CheckBox.getControlValue());var sMessageValue=decodeURIComponent("%CDomain.%ID%.AdHocSubjectTemplate%");var sMessageDefaultValue=decodeURIComponent("%CDomain.%ID%.AdHocSubjectTemplate.Default%");if(bDisableInherited){document.getElementById("AdHocSubjectTemplate").value=sMessageValue;document.getElementById("AdHocSubjectTemplate").disabled=false;}else{document.getElementById("AdHocSubjectTemplate").value=sMessageDefaultValue;document.getElementById("AdHocSubjectTemplate").disabled=true;}}function OnSetAdHocRootPath(sValue,inputObj){if(AdHocRootPathCombo.getControlText()=="")AdHocRootPathCombo.setControlText(decodeURIComponent(g_sCurrentDir));inputObj.setControlText(sValue);inputObj.getContent("box/text").element().focus();}function OnFileShareDeleteInfo(){AlertDialog("$FILE_SHARE_DELETE_DAYS_INFO$",false);return(false);}function ValidateFileShareCtrls(){var bRet=false;if(AdHocEnabled.getControlValue()){if(AdHocRootPathCombo.getControlText()=="")AlertDialog("$PLEASE_SPECIFY_FILE_SHARE_REPOSITORY$",undefined,function(){document.getElementById("AdHocFileShareRoot-box-text").focus();});else if(AdHocDomainURLCombo.getControlText()=="")AlertDialog("$PLEASE_SPECIFY_FILE_SHARE_DOMAIN_URL$",undefined,function(){document.getElementById("AdHocURLDomain-box-text").focus();});else if(document.getElementById("AdHocInvitationTemplate").value=="")AlertDialog("$PLEASE_SPECIFY_FILE_SHARE_INVITATION$",undefined,function(){document.getElementById("AdHocInvitationTemplate").focus();});else bRet=true;}else bRet=true;return(bRet);}function OnSaveAdHocSettings(){if(ValidateFileShareCtrls()){SavingDialog(true);var SaveAdhocRequest=CreatePostRequest("%ADMIN_FILE%XML/Result.xml%UPDATE_OBJECT_REF%CServer.%SERVER_ID%.Domain.%ID%&StaticOnly=1");SaveAdhocRequest.setParameter("AdHocURLDomain",AdHocDomainURLCombo.getControlText());SaveAdhocRequest.setParameter("AdHocFileShareRoot",AdHocRootPathCombo.getControlText());SaveAdhocRequest.setParameter("AdHocDeleteDays",AdHocDeleteDaysCombo.getControlText());if(ctrlUseInheritedInviteMsg.getControlValue()==true)SaveAdhocRequest.setParameter("AdHocInvitationTemplate","");else SaveAdhocRequest.setParameter("AdHocInvitationTemplate",document.getElementById("AdHocInvitationTemplate").value);if(ctrlUseInheritedSubjectMsg.getControlValue()==true)SaveAdhocRequest.setParameter("AdHocSubjectTemplate","");else SaveAdhocRequest.setParameter("AdHocSubjectTemplate",document.getElementById("AdHocSubjectTemplate").value);if("Domain"=="Domain"){SaveAdhocRequest.setParameter("AdHocURLSecure",document.getElementById(AdHocURLSecure.getContent("hidden").getId()).value);SaveAdhocRequest.setParameter("AllowAdHocFileSharing",document.getElementById(AdHocEnabled.getContent("hidden").getId()).value);}else{SaveAdhocRequest.setParameter("AdHocURLSecure",((AdHocURLSecure.getControlValue()==false)?0:1));SaveAdhocRequest.setParameter("AllowAdHocFileSharing",((AdHocEnabled.getControlValue()==false)?0:1));}SaveAdhocRequest.response=function(){var nResult=OnSaveComplete(this,true);var sResultText=OnGetResultText(this);SavingDialog(false);if(nResult!=0)AlertDialog(GetResultText(0,"",sResultText));};SaveAdhocRequest.request(null);return(false);}}function OnChangeSettingsCheck(CheckBox){CheckBoxValueChanged(CheckBox,"Result.xml%UPDATE_OBJECT_REF%CServer.%SERVER_ID%.Domain.%ID%&StaticOnly=1");}var aLimitsTabMainHelpPages;if(g_bDomainNav){g_sHelpPage="Help-Limits-Settings-Domain.htm";g_sHelpNode="Item5_4";aLimitsTabMainHelpPages=["Help-Limits-Settings-Domain.htm","Help-Domain-Settings.htm","Help-Custom-FTP.htm","Help-Encryption-Domain.htm","Help-Custom-HTML.htm","Help-File-Share.htm"];}else{g_sHelpPage="Help-Limits-Settings-Server.htm";g_sHelpNode="Item2_3";aLimitsTabMainHelpPages=["Help-Limits-Settings-Server.htm","Help-Server-Settings.htm","Help-Custom-FTP.htm","Help-Encryption-Server.htm","Help-Custom-HTML.htm","Help-File-Share.htm"];}function OnChangeTab(nOldTab,nNewTab){switch(nOldTab){case(0):LimitsList.EnableUpdates(false);break;}switch(nNewTab){case(0):LimitsList.EnableUpdates(true);g_ActiveRezizeGrid=LimitsList;g_nGridOffSet=410;ResizeGrids(true);break;case(2):g_ActiveRezizeGrid=FTPCommandGrid;if("Domain"=="Server")g_nGridOffSet=(AW.ie)?369:371;else g_nGridOffSet=(AW.ie)?411:413;ResizeGrids(true);break;default:g_ActiveRezizeGrid=undefined;break;}if(nNewTab===6){setTimeout(function(){updateMfaState("Domain"=="Server");});}g_sHelpPage=aLimitsTabMainHelpPages[nNewTab];}function OnSaveCustHTML(){var bValidPaths=CheckCustHTMLPaths();if(bValidPaths){var SaveCustHTMLReq=CreatePostRequest("%ADMIN_FILE%XML/Result.xml%UPDATE_OBJECT_REF%CServer.%SERVER_ID%.Domain.%ID%&StaticOnly=1");SavingDialog(true);if("Domain"=="Domain")SaveCustHTMLReq.setParameter("UseCustomHTML",document.getElementById(CustHTMLEnabled.getContent("hidden").getId()).value);else SaveCustHTMLReq.setParameter("UseCustomHTML",((CustHTMLEnabled.getControlValue()==false)?0:1));SaveCustHTMLReq.setParameter("HTMLDir",CustDirCombo.getControlText());SaveCustHTMLReq.setParameter("HTMLLoginHeader",CustHeaderCombo.getControlText());SaveCustHTMLReq.setParameter("HTMLLoginFooter",CustFooterCombo.getControlText());SaveCustHTMLReq.setParameter("HTMLLoginCSS",CustCSSCombo.getControlText());SaveCustHTMLReq.response=function(){var nResult=OnSaveComplete(this,true);var sResultText=OnGetResultText(this);SavingDialog(false);if((nResult!=0))AlertDialog(GetResultText(0,"",sResultText));};SaveCustHTMLReq.request(null);return(false);}else AlertDialog("$PROVIDE_VALID_CUST_HTML_PATH$");}if(parseInt("%CServer.%SERVER_ID%.CustomHTMLLicense%")!=1)DisableTab("CustomHTMLTabContent");if(("%CServer.%SERVER_ID%.FTPSLicense%"!="1")&&("%CServer.%SERVER_ID%.SSHLicense%"!="1")&&("%CServer.%SERVER_ID%.HTTPSLicense%"!="1"))DisableTab("EncryptionTabContent");if("%CServer.%SERVER_ID%.FileSharingLicense%"!="1")DisableTab("FileShareTabContent");var g_ActiveTab=CreateTabs(["$LIMITS_TAB$","$SETTINGS_TAB$","$FTP_COMMANDS_TAB$","$ENCRYPTION_TAB$","$CUSTOM_HTML_TAB$","$FILE_SHARE_TAB$","$MFA_TAB_NAME$"],["Limits","Settings","FTPCP","Encryption","CustHTML","FileShareTab","LimitsMFATab"],"PageTabs","TabsContent",1,OnChangeTab);g_ActiveTab.setSize(675);if((parseInt(GetURLParameter("Page"))-1)>1)g_ActiveTab.setSelectedItems([(parseInt(GetURLParameter("Page"))-1)]);</script></div></div><div style='clear:both;'>&nbsp;</div></div></div><div class="footerDiv"><a href="%PRODUCT_HOME%" target="_blank" rel="noopener noreferrer">%PRODUCT%</a> <span id="SUVersionNumber">%VERSION%</span> &copy; 1995 - %COPYRIGHT_END_YEAR% <a href="%COMPANY_URL_HOME%" TARGET="_blank" rel="noopener noreferrer">%COMPANY_NAME_FORMAL%</a>&nbsp;$ALL_RIGHTS_RESERVED$</div><ul id="UserOptList" style="display: none; width: auto;min-width: 100px;"><li id="UserOptList-password" style="display: none;"><a href="#" data-handler="javascript:ChangePasswordDialog();" >$CHANGE_PASSWORD_BUTTON$</a></li><li id="UserOptList-changeemail" style="display: none;"><a href="#" data-handler="javascript:OnShowChangeEmailDialog();" >$CHANGE_EMAIL_BUTTON$</a></li><li id="UserOptList-logout"><a href="#" data-handler="javascript:OnLogOut();">$LOGOUT$</a></li></ul><ul id="HelpOptList" class="menu-toggle" style="display: none; width: auto;min-width: 100px;"><li id="HelpOptList-whatsnew"><a href="#" data-handler="javascript:WhatsNewShow();" class="ActionOption" style="white-space:nowrap;"><span class="Action-ico"><img src="%COMMON_FILE%Images/FolderSize.png" class="SUWCActionico" alt="$WHATS_NEW$" border="0"/></span>$WHATS_NEW$</a></li></ul></div><div id="FooterDelayContent" style="display:none;"></div><ul id="AdhocNavBarJumpToMenu" style="display: none; width: auto;min-width: 160px;"><li id="MCNavOption"><a href="#AdhocHeadJumpto" id="MCNavOption-href" data-handler="javascript:OnJumpTo(0);">$MANAGEMENT_CONSOLE$</a></li><li id="WCNavOption"><a href="#AdhocHeadJumpto" id="WCNavOption-href" data-handler="javascript:OnJumpTo(1);">$BASIC_WEB_CLIENT$</a></li><li id="WCNewNavOption"><a href="#AdhocHeadJumpto" id="WCNewNavOption-href" data-handler="javascript:OnJumpTo(4);">$WEB_CLIENT_NEW$</a></li><li id="FSNewNavOption"><a href="#AdhocHeadJumpto" id="FSNewNavOption-href" data-handler="javascript:OnJumpTo(5);">$WEB_CLIENT_SHARE_NEW$</a></li><li id="FJNavOption"><a href="#AdhocHeadJumpto" id="FJNavOption-href" data-handler="javascript:OnJumpTo(2);">$FVJV$</a></li><li id="FSNavOption"><a href="#AdhocHeadJumpto" id="FSNavOption-href" data-handler="javascript:OnJumpTo(3);">$FILE_SHARING$</a></li></ul><script type="text/javascript">$(document).ready(function(){var g_bShowMC=(%IS_ADMIN%=="1")?true:false;var g_bShowWC=(%ALLOW_WEB_CLIENT%=="1")?true:false;var g_bShowFVJV=(%ALLOW_FTP_VOYAGER_JV%=="1")?true:false;var g_bShowFileSharing=(%ALLOW_ADHOC_FILE_SHARING%=="1")?true:false;$("#ManConNavBarJumpToList").contextMenu({"menu":"AdhocNavBarJumpToMenu","allowLeftClick":"1","showBelow":"1","alignToTargetElement":"1","beforeshow":function(){$("#AdhocNavBarJumpToMenu").bind('mouseenter',function(){$("body").unbind("mouseup");});$("#AdhocNavBarJumpToMenu").bind("mouseleave",function(){$("body").mouseup(function(){$(".ui-contextmenu").hide()});});},"beforehide":function(){$("body").unbind("mouseup");}});var nTotalHidden=0;if(!g_bShowMC||g_JumpToPage==0){$("#MCNavOption").hide();nTotalHidden+=1;}if(!g_bShowWC||g_JumpToPage==1){$("#WCNavOption").hide();nTotalHidden+=1;}if(!g_bShowFVJV||g_JumpToPage==2){$("#FJNavOption").hide();nTotalHidden+=1;}if(!g_bShowFileSharing||g_JumpToPage==3){$("#FSNavOption").hide();nTotalHidden+=1;}if(!g_bShowWC||g_JumpToPage==4){$("#WCNewNavOption").hide();nTotalHidden+=1;}if(!g_bShowFileSharing||g_JumpToPage==5){$("#FSNewNavOption").hide();nTotalHidden+=1;}if(nTotalHidden==6)$(".AdhocNavBarJumpTo").hide();else $(".AdhocNavBarJumpTo").show();});function OnJumpTo(nNavJump){switch(nNavJump){case(0):location.href="/";break;case(1):location.href="%FILE%ListDir.htm";break;case(2):location.href="%COMMON_FILE%FVJVLoggedIn.htm";break;case(3):location.href="%FILE%Share/Console.htm";break;case(4):location.href="/WebClientNew/Browser/~";break;case(5):location.href="/WebClientNew/Requested";break;}}</script><script type="text/javascript" language="javascript">var g_bFooterDelayLoaded=false;var g_bIsFileNameSelected=true;var g_bFooterIsWindowAuth=(%WINDOWS_AUTH_SUPPORT%==1);function IsFooterDelayLoaded(){return(g_bFooterDelayLoaded);}function OnFooterDelayLoaded(){g_bFooterDelayLoaded=true;}function OnLogOut(){g_bLinkRequested=true;clearSessionCookies('domainid');clearSessionCookies('domainodbc');location.href='%LOGOUT%';}function OnMoreWebClientInfo(){window.open("https://customerportal.solarwinds.com/?CMP=PRD-TAD-SW-MFT_INPRD-MFT-PP&email="+g_sLicenseEmail,"_blank","noopener");}function LaunchBasicWebClient(){if(g_bWebClientLicense){LoadingDialog(true);location.href="%FILE%ListDir.htm?Dir=%CURRENT_DIR%";}else ConfirmDialog(g_sWebClienLicenseInfo,OnMoreWebClientInfo);}function MainHelp(){LaunchHelp(g_sHelpPage,g_sHelpNode);}function OnShowChangeEmailDialog(){OnShowSetEmailDialog(g_sUserEmail);g_sUserEmail="";}if(%IS_LOCAL_ADMIN%){sLoggedInUser="($LOCAL_ADMIN$)";sLoggedInUserAlt="$LOCAL_ADMIN$";}else{sLoggedInUser=FormatClientString("%CUser.%USER_ID%.FullName% (%CUser.%USER_ID%.LoginID%)");sLoggedInUserAlt="%CUser.%USER_ID%.FullName% (%CUser.%USER_ID%.LoginID%)";}document.getElementById("CurrentlyLoggedIn").innerHTML=sLoggedInUser;setTimeout(function(){LoadDynamicContent("%ADMIN_FILE%Include/footerInclude.htm?ID=%ID%","FooterDelayContent",OnFooterDelayLoaded);});if(g_bOperaBrowser)document.body.onmousedown=function(){return false;};$(document).ready(function(){$('.menu-toggle').on('click',function(e){$('.menu-toggle').removeClass('active');$(this).addClass('active');});$(document).on('mouseup',function(e){var container=$(".menu-toggle");if(!container.is(e.target)&&container.has(e.target).length===0){$('.menu-toggle').removeClass('active');}});$("#UserOptBtn").contextMenu({"menu":"UserOptList","allowLeftClick":"1","showBelow":"1","alignToTargetElement":"1","alignleft":"1","beforeshow":function(){$("#UserOptList").bind('mouseenter',function(){$("body").unbind("mouseup");});$("#UserOptList").bind("mouseleave",function(){$("body").mouseup(function(){$(".ui-contextmenu").hide()});});},"beforehide":function(){$("body").unbind("mouseup");}});if(!(%IS_LOCAL_ADMIN%)){if(g_bAllowChangePassword)$("#UserOptList-password").show();if(g_bAllowChangeEmail)$("#UserOptList-changeemail").show();}});</script></body></html>